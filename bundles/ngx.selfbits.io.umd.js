(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@angular/http"), require("@angular/core"), require("rxjs/add/operator/map"), require("@angular/common"), require("rxjs/add/operator/catch"), require("rxjs/add/operator/mergeMap"));
	else if(typeof define === 'function' && define.amd)
		define(["@angular/http", "@angular/core", "rxjs/add/operator/map", "@angular/common", "rxjs/add/operator/catch", "rxjs/add/operator/mergeMap"], factory);
	else if(typeof exports === 'object')
		exports["ngx.selfbits.io"] = factory(require("@angular/http"), require("@angular/core"), require("rxjs/add/operator/map"), require("@angular/common"), require("rxjs/add/operator/catch"), require("rxjs/add/operator/mergeMap"));
	else
		root["ngx.selfbits.io"] = factory(root["@angular/http"], root["@angular/core"], root["rxjs/add/operator/map"], root["@angular/common"], root["rxjs/add/operator/catch"], root["rxjs/add/operator/mergeMap"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 30);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var Configuration = (function () {
    function Configuration(configurationParameters) {
        if (configurationParameters === void 0) { configurationParameters = {}; }
        this.tenant = configurationParameters.tenant;
        this.application = configurationParameters.application;
        this.sbClientId = configurationParameters.sbClientId;
        this.sbClientSecret = configurationParameters.sbClientSecret;
        this.useDeveloperAuth = configurationParameters.useDeveloperAuth;
        this.basePath = "https://" + this.tenant + ".apps.selfbits.io/api/v2/" + this.tenant + "/" + (this.useDeveloperAuth ? "admin" : "apps") + "/" + this.application;
        this.apiKey = configurationParameters.apiKey;
        this.apiKeyPrefix = configurationParameters.apiKeyPrefix || "bearer ";
        if (!this.apiKeyPrefix.endsWith(" ")) {
            this.apiKeyPrefix = this.apiKeyPrefix + " ";
        }
    }
    return Configuration;
}());
exports.Configuration = Configuration;


/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_3__;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var FilesApi = (function () {
    function FilesApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    FilesApi.prototype.browse = function (filePath, extraHttpRequestParams) {
        return this.browseWithHttpInfo(filePath, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.browse_1 = function (filePath, extraHttpRequestParams) {
        return this.browse_1WithHttpInfo(filePath, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.createPrivate = function (file, extraHttpRequestParams) {
        return this.createPrivateWithHttpInfo(file, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.createPublic = function (file, extraHttpRequestParams) {
        return this.createPublicWithHttpInfo(file, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.deleteOne = function (fileId, extraHttpRequestParams) {
        return this.deleteOneWithHttpInfo(fileId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.query = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.queryWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.readOne = function (fileId, filePath, extraHttpRequestParams) {
        return this.readOneWithHttpInfo(fileId, filePath, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.updateOne = function (fileId, updatedFile, extraHttpRequestParams) {
        return this.updateOneWithHttpInfo(fileId, updatedFile, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.verifyUpload = function (fileId, etagObject, extraHttpRequestParams) {
        return this.verifyUploadWithHttpInfo(fileId, etagObject, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    FilesApi.prototype.browseWithHttpInfo = function (filePath, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/browse/public';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filePath === null || filePath === undefined) {
            throw new Error('Required parameter filePath was null or undefined when calling browse.');
        }
        if (filePath !== undefined) {
            queryParameters.set('filePath', filePath);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.browse_1WithHttpInfo = function (filePath, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/browse/private';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filePath === null || filePath === undefined) {
            throw new Error('Required parameter filePath was null or undefined when calling browse_1.');
        }
        if (filePath !== undefined) {
            queryParameters.set('filePath', filePath);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.createPrivateWithHttpInfo = function (file, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/private';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: file == null ? '' : JSON.stringify(file),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.createPublicWithHttpInfo = function (file, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/public';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: file == null ? '' : JSON.stringify(file),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.deleteOneWithHttpInfo = function (fileId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/${fileId}'
            .replace('${' + 'fileId' + '}', String(fileId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (fileId === null || fileId === undefined) {
            throw new Error('Required parameter fileId was null or undefined when calling deleteOne.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.queryWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.readOneWithHttpInfo = function (fileId, filePath, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/file';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (fileId !== undefined) {
            queryParameters.set('fileId', fileId);
        }
        if (filePath !== undefined) {
            queryParameters.set('filePath', filePath);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.updateOneWithHttpInfo = function (fileId, updatedFile, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/${fileId}'
            .replace('${' + 'fileId' + '}', String(fileId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (fileId === null || fileId === undefined) {
            throw new Error('Required parameter fileId was null or undefined when calling updateOne.');
        }
        if (updatedFile === null || updatedFile === undefined) {
            throw new Error('Required parameter updatedFile was null or undefined when calling updateOne.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedFile == null ? '' : JSON.stringify(updatedFile),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    FilesApi.prototype.verifyUploadWithHttpInfo = function (fileId, etagObject, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/files/${fileId}/verify'
            .replace('${' + 'fileId' + '}', String(fileId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (fileId === null || fileId === undefined) {
            throw new Error('Required parameter fileId was null or undefined when calling verifyUpload.');
        }
        if (etagObject === null || etagObject === undefined) {
            throw new Error('Required parameter etagObject was null or undefined when calling verifyUpload.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: etagObject == null ? '' : JSON.stringify(etagObject),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return FilesApi;
}());
FilesApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], FilesApi);
exports.FilesApi = FilesApi;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(__webpack_require__(7));
var ActionsApi_1 = __webpack_require__(7);
__export(__webpack_require__(8));
var ApplicationsApi_1 = __webpack_require__(8);
__export(__webpack_require__(9));
var ClientsApi_1 = __webpack_require__(9);
__export(__webpack_require__(10));
var ConsumersApi_1 = __webpack_require__(10);
__export(__webpack_require__(11));
var DirectoriesApi_1 = __webpack_require__(11);
__export(__webpack_require__(12));
var EmailVerificationApi_1 = __webpack_require__(12);
__export(__webpack_require__(13));
var EndpointsApi_1 = __webpack_require__(13);
__export(__webpack_require__(4));
var FilesApi_1 = __webpack_require__(4);
__export(__webpack_require__(14));
var InteractiveViewsApi_1 = __webpack_require__(14);
__export(__webpack_require__(15));
var InvitesApi_1 = __webpack_require__(15);
__export(__webpack_require__(16));
var LoginApi_1 = __webpack_require__(16);
__export(__webpack_require__(17));
var MongoDataApi_1 = __webpack_require__(17);
__export(__webpack_require__(18));
var MongoDatabasesApi_1 = __webpack_require__(18);
__export(__webpack_require__(19));
var MongoModelsApi_1 = __webpack_require__(19);
__export(__webpack_require__(20));
var OrganizationsApi_1 = __webpack_require__(20);
__export(__webpack_require__(21));
var PasswordResetApi_1 = __webpack_require__(21);
__export(__webpack_require__(22));
var ProvidersApi_1 = __webpack_require__(22);
__export(__webpack_require__(23));
var RolesApi_1 = __webpack_require__(23);
__export(__webpack_require__(24));
var SignupApi_1 = __webpack_require__(24);
__export(__webpack_require__(25));
var TenantsApi_1 = __webpack_require__(25);
__export(__webpack_require__(26));
var UsersApi_1 = __webpack_require__(26);
exports.APIS = [ActionsApi_1.ActionsApi, ApplicationsApi_1.ApplicationsApi, ClientsApi_1.ClientsApi, ConsumersApi_1.ConsumersApi, DirectoriesApi_1.DirectoriesApi, EmailVerificationApi_1.EmailVerificationApi, EndpointsApi_1.EndpointsApi, FilesApi_1.FilesApi, InteractiveViewsApi_1.InteractiveViewsApi, InvitesApi_1.InvitesApi, LoginApi_1.LoginApi, MongoDataApi_1.MongoDataApi, MongoDatabasesApi_1.MongoDatabasesApi, MongoModelsApi_1.MongoModelsApi, OrganizationsApi_1.OrganizationsApi, PasswordResetApi_1.PasswordResetApi, ProvidersApi_1.ProvidersApi, RolesApi_1.RolesApi, SignupApi_1.SignupApi, TenantsApi_1.TenantsApi, UsersApi_1.UsersApi];


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ConfigService_1 = __webpack_require__(33);
var FileService_1 = __webpack_require__(34);
exports.SERVICES = [
    ConfigService_1.ConfigService,
    FileService_1.FileService
];


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var ActionsApi = (function () {
    function ActionsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    ActionsApi.prototype.actionsActionIdDelete = function (actionId, extraHttpRequestParams) {
        return this.actionsActionIdDeleteWithHttpInfo(actionId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsActionIdExecPost = function (actionId, payload, extraHttpRequestParams) {
        return this.actionsActionIdExecPostWithHttpInfo(actionId, payload, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsActionIdGet = function (actionId, extraHttpRequestParams) {
        return this.actionsActionIdGetWithHttpInfo(actionId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsActionIdPut = function (actionId, updatedAction, extraHttpRequestParams) {
        return this.actionsActionIdPutWithHttpInfo(actionId, updatedAction, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsBulkPost = function (actions, extraHttpRequestParams) {
        return this.actionsBulkPostWithHttpInfo(actions, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsDelete = function (filter, extraHttpRequestParams) {
        return this.actionsDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.actionsGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsPost = function (action, extraHttpRequestParams) {
        return this.actionsPostWithHttpInfo(action, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsPut = function (filter, actionBulkUpdate, extraHttpRequestParams) {
        return this.actionsPutWithHttpInfo(filter, actionBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ActionsApi.prototype.actionsActionIdDeleteWithHttpInfo = function (actionId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions/${actionId}'
            .replace('${' + 'actionId' + '}', String(actionId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (actionId === null || actionId === undefined) {
            throw new Error('Required parameter actionId was null or undefined when calling actionsActionIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsActionIdExecPostWithHttpInfo = function (actionId, payload, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions/${actionId}/exec'
            .replace('${' + 'actionId' + '}', String(actionId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (actionId === null || actionId === undefined) {
            throw new Error('Required parameter actionId was null or undefined when calling actionsActionIdExecPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: payload == null ? '' : JSON.stringify(payload),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsActionIdGetWithHttpInfo = function (actionId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions/${actionId}'
            .replace('${' + 'actionId' + '}', String(actionId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (actionId === null || actionId === undefined) {
            throw new Error('Required parameter actionId was null or undefined when calling actionsActionIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsActionIdPutWithHttpInfo = function (actionId, updatedAction, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions/${actionId}'
            .replace('${' + 'actionId' + '}', String(actionId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (actionId === null || actionId === undefined) {
            throw new Error('Required parameter actionId was null or undefined when calling actionsActionIdPut.');
        }
        if (updatedAction === null || updatedAction === undefined) {
            throw new Error('Required parameter updatedAction was null or undefined when calling actionsActionIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedAction == null ? '' : JSON.stringify(updatedAction),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsBulkPostWithHttpInfo = function (actions, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: actions == null ? '' : JSON.stringify(actions),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling actionsDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsPostWithHttpInfo = function (action, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: action == null ? '' : JSON.stringify(action),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ActionsApi.prototype.actionsPutWithHttpInfo = function (filter, actionBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/actions';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling actionsPut.');
        }
        if (actionBulkUpdate === null || actionBulkUpdate === undefined) {
            throw new Error('Required parameter actionBulkUpdate was null or undefined when calling actionsPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: actionBulkUpdate == null ? '' : JSON.stringify(actionBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return ActionsApi;
}());
ActionsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], ActionsApi);
exports.ActionsApi = ActionsApi;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var ApplicationsApi = (function () {
    function ApplicationsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    ApplicationsApi.prototype.rootGet = function (extraHttpRequestParams) {
        return this.rootGetWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ApplicationsApi.prototype.rootGetWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.configuration.basePath + '/';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return ApplicationsApi;
}());
ApplicationsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], ApplicationsApi);
exports.ApplicationsApi = ApplicationsApi;


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var ClientsApi = (function () {
    function ClientsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    ClientsApi.prototype.clientsBulkPost = function (clients, extraHttpRequestParams) {
        return this.clientsBulkPostWithHttpInfo(clients, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsClientIdDelete = function (clientId, extraHttpRequestParams) {
        return this.clientsClientIdDeleteWithHttpInfo(clientId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsClientIdGet = function (clientId, extraHttpRequestParams) {
        return this.clientsClientIdGetWithHttpInfo(clientId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsClientIdPut = function (clientId, updatedClient, extraHttpRequestParams) {
        return this.clientsClientIdPutWithHttpInfo(clientId, updatedClient, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsDelete = function (filter, extraHttpRequestParams) {
        return this.clientsDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.clientsGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsPost = function (client, extraHttpRequestParams) {
        return this.clientsPostWithHttpInfo(client, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsPut = function (filter, clientBulkUpdate, extraHttpRequestParams) {
        return this.clientsPutWithHttpInfo(filter, clientBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ClientsApi.prototype.clientsBulkPostWithHttpInfo = function (clients, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: clients == null ? '' : JSON.stringify(clients),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsClientIdDeleteWithHttpInfo = function (clientId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients/${clientId}'
            .replace('${' + 'clientId' + '}', String(clientId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (clientId === null || clientId === undefined) {
            throw new Error('Required parameter clientId was null or undefined when calling clientsClientIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsClientIdGetWithHttpInfo = function (clientId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients/${clientId}'
            .replace('${' + 'clientId' + '}', String(clientId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (clientId === null || clientId === undefined) {
            throw new Error('Required parameter clientId was null or undefined when calling clientsClientIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsClientIdPutWithHttpInfo = function (clientId, updatedClient, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients/${clientId}'
            .replace('${' + 'clientId' + '}', String(clientId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (clientId === null || clientId === undefined) {
            throw new Error('Required parameter clientId was null or undefined when calling clientsClientIdPut.');
        }
        if (updatedClient === null || updatedClient === undefined) {
            throw new Error('Required parameter updatedClient was null or undefined when calling clientsClientIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedClient == null ? '' : JSON.stringify(updatedClient),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling clientsDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsPostWithHttpInfo = function (client, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: client == null ? '' : JSON.stringify(client),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ClientsApi.prototype.clientsPutWithHttpInfo = function (filter, clientBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/clients';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling clientsPut.');
        }
        if (clientBulkUpdate === null || clientBulkUpdate === undefined) {
            throw new Error('Required parameter clientBulkUpdate was null or undefined when calling clientsPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: clientBulkUpdate == null ? '' : JSON.stringify(clientBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return ClientsApi;
}());
ClientsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], ClientsApi);
exports.ClientsApi = ClientsApi;


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var ConsumersApi = (function () {
    function ConsumersApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    ConsumersApi.prototype.consumersBulkPost = function (consumers, extraHttpRequestParams) {
        return this.consumersBulkPostWithHttpInfo(consumers, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersConsumerIdDelete = function (consumerId, extraHttpRequestParams) {
        return this.consumersConsumerIdDeleteWithHttpInfo(consumerId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersConsumerIdGet = function (consumerId, extraHttpRequestParams) {
        return this.consumersConsumerIdGetWithHttpInfo(consumerId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersConsumerIdPut = function (consumerId, updatedConsumer, extraHttpRequestParams) {
        return this.consumersConsumerIdPutWithHttpInfo(consumerId, updatedConsumer, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersDelete = function (filter, extraHttpRequestParams) {
        return this.consumersDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.consumersGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersPost = function (consumer, extraHttpRequestParams) {
        return this.consumersPostWithHttpInfo(consumer, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersPut = function (filter, consumerBulkUpdate, extraHttpRequestParams) {
        return this.consumersPutWithHttpInfo(filter, consumerBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ConsumersApi.prototype.consumersBulkPostWithHttpInfo = function (consumers, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: consumers == null ? '' : JSON.stringify(consumers),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersConsumerIdDeleteWithHttpInfo = function (consumerId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers/${consumerId}'
            .replace('${' + 'consumerId' + '}', String(consumerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (consumerId === null || consumerId === undefined) {
            throw new Error('Required parameter consumerId was null or undefined when calling consumersConsumerIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersConsumerIdGetWithHttpInfo = function (consumerId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers/${consumerId}'
            .replace('${' + 'consumerId' + '}', String(consumerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (consumerId === null || consumerId === undefined) {
            throw new Error('Required parameter consumerId was null or undefined when calling consumersConsumerIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersConsumerIdPutWithHttpInfo = function (consumerId, updatedConsumer, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers/${consumerId}'
            .replace('${' + 'consumerId' + '}', String(consumerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (consumerId === null || consumerId === undefined) {
            throw new Error('Required parameter consumerId was null or undefined when calling consumersConsumerIdPut.');
        }
        if (updatedConsumer === null || updatedConsumer === undefined) {
            throw new Error('Required parameter updatedConsumer was null or undefined when calling consumersConsumerIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedConsumer == null ? '' : JSON.stringify(updatedConsumer),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling consumersDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersPostWithHttpInfo = function (consumer, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: consumer == null ? '' : JSON.stringify(consumer),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ConsumersApi.prototype.consumersPutWithHttpInfo = function (filter, consumerBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/consumers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling consumersPut.');
        }
        if (consumerBulkUpdate === null || consumerBulkUpdate === undefined) {
            throw new Error('Required parameter consumerBulkUpdate was null or undefined when calling consumersPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: consumerBulkUpdate == null ? '' : JSON.stringify(consumerBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return ConsumersApi;
}());
ConsumersApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], ConsumersApi);
exports.ConsumersApi = ConsumersApi;


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var DirectoriesApi = (function () {
    function DirectoriesApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    DirectoriesApi.prototype.directoriesBulkPost = function (directories, extraHttpRequestParams) {
        return this.directoriesBulkPostWithHttpInfo(directories, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesDelete = function (filter, extraHttpRequestParams) {
        return this.directoriesDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesDirectoryIdDelete = function (directoryId, extraHttpRequestParams) {
        return this.directoriesDirectoryIdDeleteWithHttpInfo(directoryId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesDirectoryIdGet = function (directoryId, extraHttpRequestParams) {
        return this.directoriesDirectoryIdGetWithHttpInfo(directoryId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesDirectoryIdPut = function (directoryId, updatedDirectory, extraHttpRequestParams) {
        return this.directoriesDirectoryIdPutWithHttpInfo(directoryId, updatedDirectory, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.directoriesGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesPost = function (directory, extraHttpRequestParams) {
        return this.directoriesPostWithHttpInfo(directory, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesPut = function (filter, directoryBulkUpdate, extraHttpRequestParams) {
        return this.directoriesPutWithHttpInfo(filter, directoryBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    DirectoriesApi.prototype.directoriesBulkPostWithHttpInfo = function (directories, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: directories == null ? '' : JSON.stringify(directories),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling directoriesDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesDirectoryIdDeleteWithHttpInfo = function (directoryId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling directoriesDirectoryIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesDirectoryIdGetWithHttpInfo = function (directoryId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling directoriesDirectoryIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesDirectoryIdPutWithHttpInfo = function (directoryId, updatedDirectory, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling directoriesDirectoryIdPut.');
        }
        if (updatedDirectory === null || updatedDirectory === undefined) {
            throw new Error('Required parameter updatedDirectory was null or undefined when calling directoriesDirectoryIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedDirectory == null ? '' : JSON.stringify(updatedDirectory),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesPostWithHttpInfo = function (directory, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: directory == null ? '' : JSON.stringify(directory),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    DirectoriesApi.prototype.directoriesPutWithHttpInfo = function (filter, directoryBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/directories';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling directoriesPut.');
        }
        if (directoryBulkUpdate === null || directoryBulkUpdate === undefined) {
            throw new Error('Required parameter directoryBulkUpdate was null or undefined when calling directoriesPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: directoryBulkUpdate == null ? '' : JSON.stringify(directoryBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return DirectoriesApi;
}());
DirectoriesApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], DirectoriesApi);
exports.DirectoriesApi = DirectoriesApi;


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var EmailVerificationApi = (function () {
    function EmailVerificationApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    EmailVerificationApi.prototype.emailsVerificationPost = function (sendVerificationEmailRequest, extraHttpRequestParams) {
        return this.emailsVerificationPostWithHttpInfo(sendVerificationEmailRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EmailVerificationApi.prototype.emailsVerificationPostWithHttpInfo = function (sendVerificationEmailRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/emails/verification';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sendVerificationEmailRequest === null || sendVerificationEmailRequest === undefined) {
            throw new Error('Required parameter sendVerificationEmailRequest was null or undefined when calling emailsVerificationPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: sendVerificationEmailRequest == null ? '' : JSON.stringify(sendVerificationEmailRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return EmailVerificationApi;
}());
EmailVerificationApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], EmailVerificationApi);
exports.EmailVerificationApi = EmailVerificationApi;


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var EndpointsApi = (function () {
    function EndpointsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    EndpointsApi.prototype.endpointsBulkPost = function (endpoints, extraHttpRequestParams) {
        return this.endpointsBulkPostWithHttpInfo(endpoints, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsDelete = function (filter, extraHttpRequestParams) {
        return this.endpointsDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsEndpointIdDelete = function (endpointId, extraHttpRequestParams) {
        return this.endpointsEndpointIdDeleteWithHttpInfo(endpointId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsEndpointIdGet = function (endpointId, extraHttpRequestParams) {
        return this.endpointsEndpointIdGetWithHttpInfo(endpointId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsEndpointIdPut = function (endpointId, updatedEndpoint, extraHttpRequestParams) {
        return this.endpointsEndpointIdPutWithHttpInfo(endpointId, updatedEndpoint, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.endpointsGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsPost = function (endpoint, extraHttpRequestParams) {
        return this.endpointsPostWithHttpInfo(endpoint, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsPut = function (filter, endpointBulkUpdate, extraHttpRequestParams) {
        return this.endpointsPutWithHttpInfo(filter, endpointBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    EndpointsApi.prototype.endpointsBulkPostWithHttpInfo = function (endpoints, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: endpoints == null ? '' : JSON.stringify(endpoints),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling endpointsDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsEndpointIdDeleteWithHttpInfo = function (endpointId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints/${endpointId}'
            .replace('${' + 'endpointId' + '}', String(endpointId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (endpointId === null || endpointId === undefined) {
            throw new Error('Required parameter endpointId was null or undefined when calling endpointsEndpointIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsEndpointIdGetWithHttpInfo = function (endpointId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints/${endpointId}'
            .replace('${' + 'endpointId' + '}', String(endpointId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (endpointId === null || endpointId === undefined) {
            throw new Error('Required parameter endpointId was null or undefined when calling endpointsEndpointIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsEndpointIdPutWithHttpInfo = function (endpointId, updatedEndpoint, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints/${endpointId}'
            .replace('${' + 'endpointId' + '}', String(endpointId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (endpointId === null || endpointId === undefined) {
            throw new Error('Required parameter endpointId was null or undefined when calling endpointsEndpointIdPut.');
        }
        if (updatedEndpoint === null || updatedEndpoint === undefined) {
            throw new Error('Required parameter updatedEndpoint was null or undefined when calling endpointsEndpointIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedEndpoint == null ? '' : JSON.stringify(updatedEndpoint),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsPostWithHttpInfo = function (endpoint, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: endpoint == null ? '' : JSON.stringify(endpoint),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    EndpointsApi.prototype.endpointsPutWithHttpInfo = function (filter, endpointBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/endpoints';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling endpointsPut.');
        }
        if (endpointBulkUpdate === null || endpointBulkUpdate === undefined) {
            throw new Error('Required parameter endpointBulkUpdate was null or undefined when calling endpointsPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: endpointBulkUpdate == null ? '' : JSON.stringify(endpointBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return EndpointsApi;
}());
EndpointsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], EndpointsApi);
exports.EndpointsApi = EndpointsApi;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var InteractiveViewsApi = (function () {
    function InteractiveViewsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    InteractiveViewsApi.prototype.authDirectoryDirectoryIdGet = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        return this.authDirectoryDirectoryIdGetWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.authOrganizationOrganizationIdDirectoryDirectoryIdGet = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        return this.authOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.authOrganizationOrganizationIdProviderProviderIdGet = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        return this.authOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.authProviderProviderIdGet = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        return this.authProviderProviderIdGetWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.emailsVerifyGet = function (email, code, extraHttpRequestParams) {
        return this.emailsVerifyGetWithHttpInfo(email, code, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.loginDirectoryDirectoryIdGet = function (sbClientId, directoryId, randomState, randomState2, extraHttpRequestParams) {
        return this.loginDirectoryDirectoryIdGetWithHttpInfo(sbClientId, directoryId, randomState, randomState2, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.loginGet = function (sbClientId, randomState, extraHttpRequestParams) {
        return this.loginGetWithHttpInfo(sbClientId, randomState, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdDirectoryDirectoryIdGet = function (sbClientId, organizationId, directoryId, randomState, extraHttpRequestParams) {
        return this.loginOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo(sbClientId, organizationId, directoryId, randomState, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdGet = function (sbClientId, organizationId, randomState, extraHttpRequestParams) {
        return this.loginOrganizationOrganizationIdGetWithHttpInfo(sbClientId, organizationId, randomState, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdProviderProviderIdGet = function (sbClientId, organizationId, providerId, randomState, extraHttpRequestParams) {
        return this.loginOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo(sbClientId, organizationId, providerId, randomState, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.passwordResetCallbackGet = function (error, extraHttpRequestParams) {
        return this.passwordResetCallbackGetWithHttpInfo(error, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.passwordResetGet = function (accountId, code, extraHttpRequestParams) {
        return this.passwordResetGetWithHttpInfo(accountId, code, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupDirectoryDirectoryIdGet = function (sbClientId, directoryId, randomState, invite, extraHttpRequestParams) {
        return this.signupDirectoryDirectoryIdGetWithHttpInfo(sbClientId, directoryId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupGet = function (sbClientId, randomState, invite, extraHttpRequestParams) {
        return this.signupGetWithHttpInfo(sbClientId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdDirectoryDirectoryIdGet = function (sbClientId, organizationId, directoryId, randomState, invite, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo(sbClientId, organizationId, directoryId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdGet = function (sbClientId, organizationId, randomState, invite, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdGetWithHttpInfo(sbClientId, organizationId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdProviderProviderIdGet = function (sbClientId, organizationId, providerId, randomState, invite, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo(sbClientId, organizationId, providerId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.signupProviderProviderIdGet = function (sbClientId, providerId, randomState, invite, extraHttpRequestParams) {
        return this.signupProviderProviderIdGetWithHttpInfo(sbClientId, providerId, randomState, invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InteractiveViewsApi.prototype.authDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/auth/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling authDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling authDirectoryDirectoryIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling authDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (sbClientSecret !== undefined) {
            queryParameters.set('sb-client-secret', sbClientSecret);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.authOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/auth/organization/${organizationId}/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling authOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling authOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling authOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (sbClientSecret !== undefined) {
            queryParameters.set('sb-client-secret', sbClientSecret);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.authOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/auth/organization/${organizationId}/provider/${providerId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling authOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling authOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling authOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (sbClientSecret !== undefined) {
            queryParameters.set('sb-client-secret', sbClientSecret);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.authProviderProviderIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/auth/provider/${providerId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling authProviderProviderIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling authProviderProviderIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling authProviderProviderIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (sbClientSecret !== undefined) {
            queryParameters.set('sb-client-secret', sbClientSecret);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.emailsVerifyGetWithHttpInfo = function (email, code, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/emails/verify';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (email === null || email === undefined) {
            throw new Error('Required parameter email was null or undefined when calling emailsVerifyGet.');
        }
        if (code === null || code === undefined) {
            throw new Error('Required parameter code was null or undefined when calling emailsVerifyGet.');
        }
        if (email !== undefined) {
            queryParameters.set('email', email);
        }
        if (code !== undefined) {
            queryParameters.set('code', code);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.loginDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, randomState2, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling loginDirectoryDirectoryIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling loginDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (randomState2 !== undefined) {
            queryParameters.set('randomState', randomState2);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.loginGetWithHttpInfo = function (sbClientId, randomState, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, organizationId, directoryId, randomState, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/organization/${organizationId}/directory/${directoryId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling loginOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling loginOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdGetWithHttpInfo = function (sbClientId, organizationId, randomState, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/organization/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginOrganizationOrganizationIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling loginOrganizationOrganizationIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.loginOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo = function (sbClientId, organizationId, providerId, randomState, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/organization/${organizationId}/provider/${providerId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.passwordResetCallbackGetWithHttpInfo = function (error, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/password/reset/callback';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (error === null || error === undefined) {
            throw new Error('Required parameter error was null or undefined when calling passwordResetCallbackGet.');
        }
        if (error !== undefined) {
            queryParameters.set('error', error);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.passwordResetGetWithHttpInfo = function (accountId, code, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/password/reset';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (accountId === null || accountId === undefined) {
            throw new Error('Required parameter accountId was null or undefined when calling passwordResetGet.');
        }
        if (code === null || code === undefined) {
            throw new Error('Required parameter code was null or undefined when calling passwordResetGet.');
        }
        if (accountId !== undefined) {
            queryParameters.set('accountId', accountId);
        }
        if (code !== undefined) {
            queryParameters.set('code', code);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, directoryId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupDirectoryDirectoryIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupGetWithHttpInfo = function (sbClientId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdDirectoryDirectoryIdGetWithHttpInfo = function (sbClientId, organizationId, directoryId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}/directory/${directoryId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdGetWithHttpInfo = function (sbClientId, organizationId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupOrganizationOrganizationIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupOrganizationOrganizationIdProviderProviderIdGetWithHttpInfo = function (sbClientId, organizationId, providerId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}/provider/${providerId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InteractiveViewsApi.prototype.signupProviderProviderIdGetWithHttpInfo = function (sbClientId, providerId, randomState, invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/provider/${providerId}'
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupProviderProviderIdGet.');
        }
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling signupProviderProviderIdGet.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupProviderProviderIdGet.');
        }
        if (sbClientId !== undefined) {
            queryParameters.set('sb-client-id', sbClientId);
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        var consumes = [];
        var produces = [
            'text/html'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return InteractiveViewsApi;
}());
InteractiveViewsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], InteractiveViewsApi);
exports.InteractiveViewsApi = InteractiveViewsApi;


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var InvitesApi = (function () {
    function InvitesApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    InvitesApi.prototype.invitesBulkPost = function (invites, extraHttpRequestParams) {
        return this.invitesBulkPostWithHttpInfo(invites, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesDelete = function (filter, extraHttpRequestParams) {
        return this.invitesDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.invitesGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesInviteIdDelete = function (inviteId, extraHttpRequestParams) {
        return this.invitesInviteIdDeleteWithHttpInfo(inviteId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesInviteIdGet = function (inviteId, extraHttpRequestParams) {
        return this.invitesInviteIdGetWithHttpInfo(inviteId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesInviteIdPut = function (inviteId, updatedInvite, extraHttpRequestParams) {
        return this.invitesInviteIdPutWithHttpInfo(inviteId, updatedInvite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesPost = function (invite, extraHttpRequestParams) {
        return this.invitesPostWithHttpInfo(invite, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesPut = function (filter, inviteBulkUpdate, extraHttpRequestParams) {
        return this.invitesPutWithHttpInfo(filter, inviteBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    InvitesApi.prototype.invitesBulkPostWithHttpInfo = function (invites, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: invites == null ? '' : JSON.stringify(invites),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling invitesDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesInviteIdDeleteWithHttpInfo = function (inviteId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites/${inviteId}'
            .replace('${' + 'inviteId' + '}', String(inviteId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (inviteId === null || inviteId === undefined) {
            throw new Error('Required parameter inviteId was null or undefined when calling invitesInviteIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesInviteIdGetWithHttpInfo = function (inviteId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites/${inviteId}'
            .replace('${' + 'inviteId' + '}', String(inviteId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (inviteId === null || inviteId === undefined) {
            throw new Error('Required parameter inviteId was null or undefined when calling invitesInviteIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesInviteIdPutWithHttpInfo = function (inviteId, updatedInvite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites/${inviteId}'
            .replace('${' + 'inviteId' + '}', String(inviteId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (inviteId === null || inviteId === undefined) {
            throw new Error('Required parameter inviteId was null or undefined when calling invitesInviteIdPut.');
        }
        if (updatedInvite === null || updatedInvite === undefined) {
            throw new Error('Required parameter updatedInvite was null or undefined when calling invitesInviteIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedInvite == null ? '' : JSON.stringify(updatedInvite),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesPostWithHttpInfo = function (invite, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (invite === null || invite === undefined) {
            throw new Error('Required parameter invite was null or undefined when calling invitesPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: invite == null ? '' : JSON.stringify(invite),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    InvitesApi.prototype.invitesPutWithHttpInfo = function (filter, inviteBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/invites';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling invitesPut.');
        }
        if (inviteBulkUpdate === null || inviteBulkUpdate === undefined) {
            throw new Error('Required parameter inviteBulkUpdate was null or undefined when calling invitesPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: inviteBulkUpdate == null ? '' : JSON.stringify(inviteBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return InvitesApi;
}());
InvitesApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], InvitesApi);
exports.InvitesApi = InvitesApi;


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var LoginApi = (function () {
    function LoginApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    LoginApi.prototype.loginDirectoryDirectoryIdPost = function (sbClientId, directoryId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        return this.loginDirectoryDirectoryIdPostWithHttpInfo(sbClientId, directoryId, sbClientSecret, userLoginRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    LoginApi.prototype.loginDirectoryDirectoryIdTokenPost = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        return this.loginDirectoryDirectoryIdTokenPostWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    LoginApi.prototype.loginOrganizationOrganizationIdPost = function (sbClientId, organizationId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        return this.loginOrganizationOrganizationIdPostWithHttpInfo(sbClientId, organizationId, sbClientSecret, userLoginRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    LoginApi.prototype.loginOrganizationOrganizationIdProviderProviderIdPost = function (sbClientId, organizationId, providerId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        return this.loginOrganizationOrganizationIdProviderProviderIdPostWithHttpInfo(sbClientId, organizationId, providerId, sbClientSecret, userLoginRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    LoginApi.prototype.loginPost = function (sbClientId, userLoginRequest, sbClientSecret, extraHttpRequestParams) {
        return this.loginPostWithHttpInfo(sbClientId, userLoginRequest, sbClientSecret, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    LoginApi.prototype.loginDirectoryDirectoryIdPostWithHttpInfo = function (sbClientId, directoryId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginDirectoryDirectoryIdPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling loginDirectoryDirectoryIdPost.');
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: userLoginRequest == null ? '' : JSON.stringify(userLoginRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    LoginApi.prototype.loginDirectoryDirectoryIdTokenPostWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/directory/${directoryId}/token'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginDirectoryDirectoryIdTokenPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling loginDirectoryDirectoryIdTokenPost.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling loginDirectoryDirectoryIdTokenPost.');
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    LoginApi.prototype.loginOrganizationOrganizationIdPostWithHttpInfo = function (sbClientId, organizationId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/organization/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginOrganizationOrganizationIdPost.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling loginOrganizationOrganizationIdPost.');
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: userLoginRequest == null ? '' : JSON.stringify(userLoginRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    LoginApi.prototype.loginOrganizationOrganizationIdProviderProviderIdPostWithHttpInfo = function (sbClientId, organizationId, providerId, sbClientSecret, userLoginRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login/organization/${organizationId}/provider/${providerId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdPost.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdPost.');
        }
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling loginOrganizationOrganizationIdProviderProviderIdPost.');
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: userLoginRequest == null ? '' : JSON.stringify(userLoginRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    LoginApi.prototype.loginPostWithHttpInfo = function (sbClientId, userLoginRequest, sbClientSecret, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/login';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling loginPost.');
        }
        if (userLoginRequest === null || userLoginRequest === undefined) {
            throw new Error('Required parameter userLoginRequest was null or undefined when calling loginPost.');
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: userLoginRequest == null ? '' : JSON.stringify(userLoginRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return LoginApi;
}());
LoginApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], LoginApi);
exports.LoginApi = LoginApi;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var MongoDataApi = (function () {
    function MongoDataApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    MongoDataApi.prototype.mModelsMongoModelIdDataBulkPost = function (mongoModelId, mongoDataItems, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataBulkPostWithHttpInfo(mongoModelId, mongoDataItems, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataDelete = function (mongoModelId, filter, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataDeleteWithHttpInfo(mongoModelId, filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataGet = function (mongoModelId, pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataGetWithHttpInfo(mongoModelId, pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdDelete = function (mongoModelId, id, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataIdDeleteWithHttpInfo(mongoModelId, id, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdGet = function (mongoModelId, id, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataIdGetWithHttpInfo(mongoModelId, id, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdPut = function (mongoModelId, id, updatedMongoData, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataIdPutWithHttpInfo(mongoModelId, id, updatedMongoData, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataPost = function (mongoModelId, mongoDataItem, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataPostWithHttpInfo(mongoModelId, mongoDataItem, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataPut = function (mongoModelId, filter, mongoDataBulkUpdate, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDataPutWithHttpInfo(mongoModelId, filter, mongoDataBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataBulkPostWithHttpInfo = function (mongoModelId, mongoDataItems, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data/bulk'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataBulkPost.');
        }
        if (mongoDataItems === null || mongoDataItems === undefined) {
            throw new Error('Required parameter mongoDataItems was null or undefined when calling mModelsMongoModelIdDataBulkPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoDataItems == null ? '' : JSON.stringify(mongoDataItems),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataDeleteWithHttpInfo = function (mongoModelId, filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataDelete.');
        }
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mModelsMongoModelIdDataDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataGetWithHttpInfo = function (mongoModelId, pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataGet.');
        }
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdDeleteWithHttpInfo = function (mongoModelId, id, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data/${id}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId))
            .replace('${' + 'id' + '}', String(id));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataIdDelete.');
        }
        if (id === null || id === undefined) {
            throw new Error('Required parameter id was null or undefined when calling mModelsMongoModelIdDataIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdGetWithHttpInfo = function (mongoModelId, id, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data/${id}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId))
            .replace('${' + 'id' + '}', String(id));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataIdGet.');
        }
        if (id === null || id === undefined) {
            throw new Error('Required parameter id was null or undefined when calling mModelsMongoModelIdDataIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataIdPutWithHttpInfo = function (mongoModelId, id, updatedMongoData, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data/${id}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId))
            .replace('${' + 'id' + '}', String(id));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataIdPut.');
        }
        if (id === null || id === undefined) {
            throw new Error('Required parameter id was null or undefined when calling mModelsMongoModelIdDataIdPut.');
        }
        if (updatedMongoData === null || updatedMongoData === undefined) {
            throw new Error('Required parameter updatedMongoData was null or undefined when calling mModelsMongoModelIdDataIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedMongoData == null ? '' : JSON.stringify(updatedMongoData),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataPostWithHttpInfo = function (mongoModelId, mongoDataItem, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataPost.');
        }
        if (mongoDataItem === null || mongoDataItem === undefined) {
            throw new Error('Required parameter mongoDataItem was null or undefined when calling mModelsMongoModelIdDataPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoDataItem == null ? '' : JSON.stringify(mongoDataItem),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDataApi.prototype.mModelsMongoModelIdDataPutWithHttpInfo = function (mongoModelId, filter, mongoDataBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}/data'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDataPut.');
        }
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mModelsMongoModelIdDataPut.');
        }
        if (mongoDataBulkUpdate === null || mongoDataBulkUpdate === undefined) {
            throw new Error('Required parameter mongoDataBulkUpdate was null or undefined when calling mModelsMongoModelIdDataPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: mongoDataBulkUpdate == null ? '' : JSON.stringify(mongoDataBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return MongoDataApi;
}());
MongoDataApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], MongoDataApi);
exports.MongoDataApi = MongoDataApi;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var MongoDatabasesApi = (function () {
    function MongoDatabasesApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    MongoDatabasesApi.prototype.mDbBulkPost = function (mongoDatabases, extraHttpRequestParams) {
        return this.mDbBulkPostWithHttpInfo(mongoDatabases, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbDelete = function (filter, extraHttpRequestParams) {
        return this.mDbDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.mDbGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdDelete = function (mongoDatabaseId, extraHttpRequestParams) {
        return this.mDbMongoDatabaseIdDeleteWithHttpInfo(mongoDatabaseId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdGet = function (mongoDatabaseId, extraHttpRequestParams) {
        return this.mDbMongoDatabaseIdGetWithHttpInfo(mongoDatabaseId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdPut = function (mongoDatabaseId, updatedMongoDatabase, extraHttpRequestParams) {
        return this.mDbMongoDatabaseIdPutWithHttpInfo(mongoDatabaseId, updatedMongoDatabase, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdTestPost = function (mongoDatabaseId, extraHttpRequestParams) {
        return this.mDbMongoDatabaseIdTestPostWithHttpInfo(mongoDatabaseId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbPost = function (mongoDatabase, extraHttpRequestParams) {
        return this.mDbPostWithHttpInfo(mongoDatabase, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbPut = function (filter, mongoDatabaseBulkUpdate, extraHttpRequestParams) {
        return this.mDbPutWithHttpInfo(filter, mongoDatabaseBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoDatabasesApi.prototype.mDbBulkPostWithHttpInfo = function (mongoDatabases, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoDatabases == null ? '' : JSON.stringify(mongoDatabases),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mDbDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdDeleteWithHttpInfo = function (mongoDatabaseId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db/${mongoDatabaseId}'
            .replace('${' + 'mongoDatabaseId' + '}', String(mongoDatabaseId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoDatabaseId === null || mongoDatabaseId === undefined) {
            throw new Error('Required parameter mongoDatabaseId was null or undefined when calling mDbMongoDatabaseIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdGetWithHttpInfo = function (mongoDatabaseId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db/${mongoDatabaseId}'
            .replace('${' + 'mongoDatabaseId' + '}', String(mongoDatabaseId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoDatabaseId === null || mongoDatabaseId === undefined) {
            throw new Error('Required parameter mongoDatabaseId was null or undefined when calling mDbMongoDatabaseIdGet.');
        }
        var consumes = [];
        var produces = [];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdPutWithHttpInfo = function (mongoDatabaseId, updatedMongoDatabase, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db/${mongoDatabaseId}'
            .replace('${' + 'mongoDatabaseId' + '}', String(mongoDatabaseId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoDatabaseId === null || mongoDatabaseId === undefined) {
            throw new Error('Required parameter mongoDatabaseId was null or undefined when calling mDbMongoDatabaseIdPut.');
        }
        if (updatedMongoDatabase === null || updatedMongoDatabase === undefined) {
            throw new Error('Required parameter updatedMongoDatabase was null or undefined when calling mDbMongoDatabaseIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedMongoDatabase == null ? '' : JSON.stringify(updatedMongoDatabase),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbMongoDatabaseIdTestPostWithHttpInfo = function (mongoDatabaseId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db/${mongoDatabaseId}/test'
            .replace('${' + 'mongoDatabaseId' + '}', String(mongoDatabaseId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoDatabaseId === null || mongoDatabaseId === undefined) {
            throw new Error('Required parameter mongoDatabaseId was null or undefined when calling mDbMongoDatabaseIdTestPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbPostWithHttpInfo = function (mongoDatabase, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoDatabase == null ? '' : JSON.stringify(mongoDatabase),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoDatabasesApi.prototype.mDbPutWithHttpInfo = function (filter, mongoDatabaseBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/db';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mDbPut.');
        }
        if (mongoDatabaseBulkUpdate === null || mongoDatabaseBulkUpdate === undefined) {
            throw new Error('Required parameter mongoDatabaseBulkUpdate was null or undefined when calling mDbPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: mongoDatabaseBulkUpdate == null ? '' : JSON.stringify(mongoDatabaseBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return MongoDatabasesApi;
}());
MongoDatabasesApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], MongoDatabasesApi);
exports.MongoDatabasesApi = MongoDatabasesApi;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var MongoModelsApi = (function () {
    function MongoModelsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    MongoModelsApi.prototype.mModelsBulkPost = function (mongoModels, extraHttpRequestParams) {
        return this.mModelsBulkPostWithHttpInfo(mongoModels, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsDelete = function (filter, extraHttpRequestParams) {
        return this.mModelsDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.mModelsGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsMongoModelIdDelete = function (mongoModelId, extraHttpRequestParams) {
        return this.mModelsMongoModelIdDeleteWithHttpInfo(mongoModelId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsMongoModelIdGet = function (mongoModelId, extraHttpRequestParams) {
        return this.mModelsMongoModelIdGetWithHttpInfo(mongoModelId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsMongoModelIdPut = function (mongoModelId, updatedMongoModel, extraHttpRequestParams) {
        return this.mModelsMongoModelIdPutWithHttpInfo(mongoModelId, updatedMongoModel, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsPost = function (mongoModel, extraHttpRequestParams) {
        return this.mModelsPostWithHttpInfo(mongoModel, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsPut = function (filter, mongoModelBulkUpdate, extraHttpRequestParams) {
        return this.mModelsPutWithHttpInfo(filter, mongoModelBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsValidatePost = function (mongoModel, extraHttpRequestParams) {
        return this.mModelsValidatePostWithHttpInfo(mongoModel, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    MongoModelsApi.prototype.mModelsBulkPostWithHttpInfo = function (mongoModels, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoModels == null ? '' : JSON.stringify(mongoModels),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mModelsDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsMongoModelIdDeleteWithHttpInfo = function (mongoModelId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsMongoModelIdGetWithHttpInfo = function (mongoModelId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsMongoModelIdPutWithHttpInfo = function (mongoModelId, updatedMongoModel, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/${mongoModelId}'
            .replace('${' + 'mongoModelId' + '}', String(mongoModelId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModelId === null || mongoModelId === undefined) {
            throw new Error('Required parameter mongoModelId was null or undefined when calling mModelsMongoModelIdPut.');
        }
        if (updatedMongoModel === null || updatedMongoModel === undefined) {
            throw new Error('Required parameter updatedMongoModel was null or undefined when calling mModelsMongoModelIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedMongoModel == null ? '' : JSON.stringify(updatedMongoModel),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsPostWithHttpInfo = function (mongoModel, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModel === null || mongoModel === undefined) {
            throw new Error('Required parameter mongoModel was null or undefined when calling mModelsPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoModel == null ? '' : JSON.stringify(mongoModel),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsPutWithHttpInfo = function (filter, mongoModelBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling mModelsPut.');
        }
        if (mongoModelBulkUpdate === null || mongoModelBulkUpdate === undefined) {
            throw new Error('Required parameter mongoModelBulkUpdate was null or undefined when calling mModelsPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: mongoModelBulkUpdate == null ? '' : JSON.stringify(mongoModelBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    MongoModelsApi.prototype.mModelsValidatePostWithHttpInfo = function (mongoModel, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/m/models/validate';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (mongoModel === null || mongoModel === undefined) {
            throw new Error('Required parameter mongoModel was null or undefined when calling mModelsValidatePost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: mongoModel == null ? '' : JSON.stringify(mongoModel),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return MongoModelsApi;
}());
MongoModelsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], MongoModelsApi);
exports.MongoModelsApi = MongoModelsApi;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var OrganizationsApi = (function () {
    function OrganizationsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    OrganizationsApi.prototype.organizationsBulkPost = function (organizations, extraHttpRequestParams) {
        return this.organizationsBulkPostWithHttpInfo(organizations, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsDelete = function (filter, extraHttpRequestParams) {
        return this.organizationsDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsGet = function (pageSize, pageNumber, filter, sort, select, _public, extraHttpRequestParams) {
        return this.organizationsGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, _public, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsOrganizationIdDelete = function (organizationId, extraHttpRequestParams) {
        return this.organizationsOrganizationIdDeleteWithHttpInfo(organizationId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsOrganizationIdGet = function (organizationId, extraHttpRequestParams) {
        return this.organizationsOrganizationIdGetWithHttpInfo(organizationId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsOrganizationIdInvitesPost = function (organizationId, extraHttpRequestParams) {
        return this.organizationsOrganizationIdInvitesPostWithHttpInfo(organizationId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsOrganizationIdPut = function (organizationId, updatedOrganization, extraHttpRequestParams) {
        return this.organizationsOrganizationIdPutWithHttpInfo(organizationId, updatedOrganization, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsPost = function (organization, extraHttpRequestParams) {
        return this.organizationsPostWithHttpInfo(organization, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsPut = function (filter, organizationBulkUpdate, extraHttpRequestParams) {
        return this.organizationsPutWithHttpInfo(filter, organizationBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    OrganizationsApi.prototype.organizationsBulkPostWithHttpInfo = function (organizations, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: organizations == null ? '' : JSON.stringify(organizations),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling organizationsDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, _public, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        if (_public !== undefined) {
            queryParameters.set('public', _public);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsOrganizationIdDeleteWithHttpInfo = function (organizationId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling organizationsOrganizationIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsOrganizationIdGetWithHttpInfo = function (organizationId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling organizationsOrganizationIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsOrganizationIdInvitesPostWithHttpInfo = function (organizationId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations/${organizationId}/invites'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling organizationsOrganizationIdInvitesPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsOrganizationIdPutWithHttpInfo = function (organizationId, updatedOrganization, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling organizationsOrganizationIdPut.');
        }
        if (updatedOrganization === null || updatedOrganization === undefined) {
            throw new Error('Required parameter updatedOrganization was null or undefined when calling organizationsOrganizationIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedOrganization == null ? '' : JSON.stringify(updatedOrganization),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsPostWithHttpInfo = function (organization, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: organization == null ? '' : JSON.stringify(organization),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    OrganizationsApi.prototype.organizationsPutWithHttpInfo = function (filter, organizationBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/organizations';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling organizationsPut.');
        }
        if (organizationBulkUpdate === null || organizationBulkUpdate === undefined) {
            throw new Error('Required parameter organizationBulkUpdate was null or undefined when calling organizationsPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: organizationBulkUpdate == null ? '' : JSON.stringify(organizationBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return OrganizationsApi;
}());
OrganizationsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], OrganizationsApi);
exports.OrganizationsApi = OrganizationsApi;


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var PasswordResetApi = (function () {
    function PasswordResetApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    PasswordResetApi.prototype.passwordResetPost = function (resetPasswordRequest, extraHttpRequestParams) {
        return this.passwordResetPostWithHttpInfo(resetPasswordRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    PasswordResetApi.prototype.triggerPasswordReset = function (sendPasswordResetEmailRequest, extraHttpRequestParams) {
        return this.triggerPasswordResetWithHttpInfo(sendPasswordResetEmailRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    PasswordResetApi.prototype.passwordResetPostWithHttpInfo = function (resetPasswordRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/password/reset';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (resetPasswordRequest === null || resetPasswordRequest === undefined) {
            throw new Error('Required parameter resetPasswordRequest was null or undefined when calling passwordResetPost.');
        }
        var consumes = [
            'application/json'
        ];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: resetPasswordRequest == null ? '' : JSON.stringify(resetPasswordRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    PasswordResetApi.prototype.triggerPasswordResetWithHttpInfo = function (sendPasswordResetEmailRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/password/reset/trigger';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sendPasswordResetEmailRequest === null || sendPasswordResetEmailRequest === undefined) {
            throw new Error('Required parameter sendPasswordResetEmailRequest was null or undefined when calling triggerPasswordReset.');
        }
        var consumes = [
            'application/json'
        ];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: sendPasswordResetEmailRequest == null ? '' : JSON.stringify(sendPasswordResetEmailRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return PasswordResetApi;
}());
PasswordResetApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], PasswordResetApi);
exports.PasswordResetApi = PasswordResetApi;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var ProvidersApi = (function () {
    function ProvidersApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    ProvidersApi.prototype.providersBulkPost = function (providers, extraHttpRequestParams) {
        return this.providersBulkPostWithHttpInfo(providers, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersDelete = function (filter, extraHttpRequestParams) {
        return this.providersDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.providersGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersPost = function (provider, extraHttpRequestParams) {
        return this.providersPostWithHttpInfo(provider, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersProviderIdDelete = function (providerId, extraHttpRequestParams) {
        return this.providersProviderIdDeleteWithHttpInfo(providerId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersProviderIdGet = function (providerId, extraHttpRequestParams) {
        return this.providersProviderIdGetWithHttpInfo(providerId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersProviderIdPut = function (providerId, updatedProvider, extraHttpRequestParams) {
        return this.providersProviderIdPutWithHttpInfo(providerId, updatedProvider, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersPut = function (filter, providerBulkUpdate, extraHttpRequestParams) {
        return this.providersPutWithHttpInfo(filter, providerBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    ProvidersApi.prototype.providersBulkPostWithHttpInfo = function (providers, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: providers == null ? '' : JSON.stringify(providers),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling providersDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersPostWithHttpInfo = function (provider, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: provider == null ? '' : JSON.stringify(provider),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersProviderIdDeleteWithHttpInfo = function (providerId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers/${providerId}'
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling providersProviderIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersProviderIdGetWithHttpInfo = function (providerId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers/${providerId}'
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling providersProviderIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersProviderIdPutWithHttpInfo = function (providerId, updatedProvider, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers/${providerId}'
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling providersProviderIdPut.');
        }
        if (updatedProvider === null || updatedProvider === undefined) {
            throw new Error('Required parameter updatedProvider was null or undefined when calling providersProviderIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedProvider == null ? '' : JSON.stringify(updatedProvider),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    ProvidersApi.prototype.providersPutWithHttpInfo = function (filter, providerBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/providers';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling providersPut.');
        }
        if (providerBulkUpdate === null || providerBulkUpdate === undefined) {
            throw new Error('Required parameter providerBulkUpdate was null or undefined when calling providersPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: providerBulkUpdate == null ? '' : JSON.stringify(providerBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return ProvidersApi;
}());
ProvidersApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], ProvidersApi);
exports.ProvidersApi = ProvidersApi;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var RolesApi = (function () {
    function RolesApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    RolesApi.prototype.rolesBulkPost = function (roles, extraHttpRequestParams) {
        return this.rolesBulkPostWithHttpInfo(roles, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesDelete = function (filter, extraHttpRequestParams) {
        return this.rolesDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.rolesGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesPost = function (role, extraHttpRequestParams) {
        return this.rolesPostWithHttpInfo(role, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesPut = function (filter, roleBulkUpdate, extraHttpRequestParams) {
        return this.rolesPutWithHttpInfo(filter, roleBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesRoleIdDelete = function (roleId, extraHttpRequestParams) {
        return this.rolesRoleIdDeleteWithHttpInfo(roleId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesRoleIdGet = function (roleId, extraHttpRequestParams) {
        return this.rolesRoleIdGetWithHttpInfo(roleId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesRoleIdPut = function (roleId, updatedRole, extraHttpRequestParams) {
        return this.rolesRoleIdPutWithHttpInfo(roleId, updatedRole, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    RolesApi.prototype.rolesBulkPostWithHttpInfo = function (roles, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: roles == null ? '' : JSON.stringify(roles),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling rolesDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesPostWithHttpInfo = function (role, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: role == null ? '' : JSON.stringify(role),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesPutWithHttpInfo = function (filter, roleBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling rolesPut.');
        }
        if (roleBulkUpdate === null || roleBulkUpdate === undefined) {
            throw new Error('Required parameter roleBulkUpdate was null or undefined when calling rolesPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: roleBulkUpdate == null ? '' : JSON.stringify(roleBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesRoleIdDeleteWithHttpInfo = function (roleId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles/${roleId}'
            .replace('${' + 'roleId' + '}', String(roleId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (roleId === null || roleId === undefined) {
            throw new Error('Required parameter roleId was null or undefined when calling rolesRoleIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesRoleIdGetWithHttpInfo = function (roleId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles/${roleId}'
            .replace('${' + 'roleId' + '}', String(roleId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (roleId === null || roleId === undefined) {
            throw new Error('Required parameter roleId was null or undefined when calling rolesRoleIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    RolesApi.prototype.rolesRoleIdPutWithHttpInfo = function (roleId, updatedRole, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/roles/${roleId}'
            .replace('${' + 'roleId' + '}', String(roleId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (roleId === null || roleId === undefined) {
            throw new Error('Required parameter roleId was null or undefined when calling rolesRoleIdPut.');
        }
        if (updatedRole === null || updatedRole === undefined) {
            throw new Error('Required parameter updatedRole was null or undefined when calling rolesRoleIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedRole == null ? '' : JSON.stringify(updatedRole),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return RolesApi;
}());
RolesApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], RolesApi);
exports.RolesApi = RolesApi;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var SignupApi = (function () {
    function SignupApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    SignupApi.prototype.signupDirectoryDirectoryIdInteractivePost = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        return this.signupDirectoryDirectoryIdInteractivePostWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupDirectoryDirectoryIdPost = function (sbClientId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        return this.signupDirectoryDirectoryIdPostWithHttpInfo(sbClientId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupDirectoryDirectoryIdTokenPost = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        return this.signupDirectoryDirectoryIdTokenPostWithHttpInfo(sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupOrganizationOrganizationIdDirectoryDirectoryIdPost = function (sbClientId, organizationId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdDirectoryDirectoryIdPostWithHttpInfo(sbClientId, organizationId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupOrganizationOrganizationIdPost = function (sbClientId, organizationId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdPostWithHttpInfo(sbClientId, organizationId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupOrganizationOrganizationIdProviderProviderIdPost = function (organizationId, directoryId, sbClientId, sbClientSecret, invite, returnCredentials, signupRequest, extraHttpRequestParams) {
        return this.signupOrganizationOrganizationIdProviderProviderIdPostWithHttpInfo(organizationId, directoryId, sbClientId, sbClientSecret, invite, returnCredentials, signupRequest, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupPost = function (sbClientId, profile, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        return this.signupPostWithHttpInfo(sbClientId, profile, sbClientSecret, invite, returnCredentials, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupProviderProviderIdPost = function (sbClientId, providerId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        return this.signupProviderProviderIdPostWithHttpInfo(sbClientId, providerId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    SignupApi.prototype.signupDirectoryDirectoryIdInteractivePostWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/directory/${directoryId}/interactive'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupDirectoryDirectoryIdInteractivePost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupDirectoryDirectoryIdInteractivePost.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupDirectoryDirectoryIdInteractivePost.');
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupDirectoryDirectoryIdPostWithHttpInfo = function (sbClientId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/directory/${directoryId}'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupDirectoryDirectoryIdPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupDirectoryDirectoryIdPost.');
        }
        if (signupRequest === null || signupRequest === undefined) {
            throw new Error('Required parameter signupRequest was null or undefined when calling signupDirectoryDirectoryIdPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: signupRequest == null ? '' : JSON.stringify(signupRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupDirectoryDirectoryIdTokenPostWithHttpInfo = function (sbClientId, directoryId, randomState, sbClientSecret, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/directory/${directoryId}/token'
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupDirectoryDirectoryIdTokenPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupDirectoryDirectoryIdTokenPost.');
        }
        if (randomState === null || randomState === undefined) {
            throw new Error('Required parameter randomState was null or undefined when calling signupDirectoryDirectoryIdTokenPost.');
        }
        if (randomState !== undefined) {
            queryParameters.set('randomState', randomState);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupOrganizationOrganizationIdDirectoryDirectoryIdPostWithHttpInfo = function (sbClientId, organizationId, directoryId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}/directory/${directoryId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdPost.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdPost.');
        }
        if (signupRequest === null || signupRequest === undefined) {
            throw new Error('Required parameter signupRequest was null or undefined when calling signupOrganizationOrganizationIdDirectoryDirectoryIdPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: signupRequest == null ? '' : JSON.stringify(signupRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupOrganizationOrganizationIdPostWithHttpInfo = function (sbClientId, organizationId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}'
            .replace('${' + 'organizationId' + '}', String(organizationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdPost.');
        }
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdPost.');
        }
        if (signupRequest === null || signupRequest === undefined) {
            throw new Error('Required parameter signupRequest was null or undefined when calling signupOrganizationOrganizationIdPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: signupRequest == null ? '' : JSON.stringify(signupRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupOrganizationOrganizationIdProviderProviderIdPostWithHttpInfo = function (organizationId, directoryId, sbClientId, sbClientSecret, invite, returnCredentials, signupRequest, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/organization/${organizationId}/provider/${providerId}'
            .replace('${' + 'organizationId' + '}', String(organizationId))
            .replace('${' + 'directoryId' + '}', String(directoryId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (organizationId === null || organizationId === undefined) {
            throw new Error('Required parameter organizationId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdPost.');
        }
        if (directoryId === null || directoryId === undefined) {
            throw new Error('Required parameter directoryId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdPost.');
        }
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupOrganizationOrganizationIdProviderProviderIdPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: signupRequest == null ? '' : JSON.stringify(signupRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupPostWithHttpInfo = function (sbClientId, profile, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupPost.');
        }
        if (profile === null || profile === undefined) {
            throw new Error('Required parameter profile was null or undefined when calling signupPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: profile == null ? '' : JSON.stringify(profile),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    SignupApi.prototype.signupProviderProviderIdPostWithHttpInfo = function (sbClientId, providerId, signupRequest, sbClientSecret, invite, returnCredentials, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/signup/provider/${providerId}'
            .replace('${' + 'providerId' + '}', String(providerId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (sbClientId === null || sbClientId === undefined) {
            throw new Error('Required parameter sbClientId was null or undefined when calling signupProviderProviderIdPost.');
        }
        if (providerId === null || providerId === undefined) {
            throw new Error('Required parameter providerId was null or undefined when calling signupProviderProviderIdPost.');
        }
        if (signupRequest === null || signupRequest === undefined) {
            throw new Error('Required parameter signupRequest was null or undefined when calling signupProviderProviderIdPost.');
        }
        if (invite !== undefined) {
            queryParameters.set('invite', invite);
        }
        if (returnCredentials !== undefined) {
            queryParameters.set('returnCredentials', returnCredentials);
        }
        headers.set('sb-client-id', String(sbClientId));
        headers.set('sb-client-secret', String(sbClientSecret));
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: signupRequest == null ? '' : JSON.stringify(signupRequest),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return SignupApi;
}());
SignupApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], SignupApi);
exports.SignupApi = SignupApi;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var TenantsApi = (function () {
    function TenantsApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    TenantsApi.prototype.tenantsGet = function (extraHttpRequestParams) {
        return this.tenantsGetWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsPost = function (tenant, extraHttpRequestParams) {
        return this.tenantsPostWithHttpInfo(tenant, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsApplicationIdDelete = function (tenantId, applicationId, extraHttpRequestParams) {
        return this.tenantsTenantIdApplicationsApplicationIdDeleteWithHttpInfo(tenantId, applicationId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsGet = function (tenantId, extraHttpRequestParams) {
        return this.tenantsTenantIdApplicationsGetWithHttpInfo(tenantId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsPost = function (tenantId, application, extraHttpRequestParams) {
        return this.tenantsTenantIdApplicationsPostWithHttpInfo(tenantId, application, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsTenantIdDelete = function (tenantId, extraHttpRequestParams) {
        return this.tenantsTenantIdDeleteWithHttpInfo(tenantId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    TenantsApi.prototype.tenantsGetWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    TenantsApi.prototype.tenantsPostWithHttpInfo = function (tenant, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (tenant === null || tenant === undefined) {
            throw new Error('Required parameter tenant was null or undefined when calling tenantsPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: tenant == null ? '' : JSON.stringify(tenant),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsApplicationIdDeleteWithHttpInfo = function (tenantId, applicationId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants/${tenantId}/applications/${applicationId}'
            .replace('${' + 'tenantId' + '}', String(tenantId))
            .replace('${' + 'applicationId' + '}', String(applicationId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (tenantId === null || tenantId === undefined) {
            throw new Error('Required parameter tenantId was null or undefined when calling tenantsTenantIdApplicationsApplicationIdDelete.');
        }
        if (applicationId === null || applicationId === undefined) {
            throw new Error('Required parameter applicationId was null or undefined when calling tenantsTenantIdApplicationsApplicationIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsGetWithHttpInfo = function (tenantId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants/${tenantId}/applications'
            .replace('${' + 'tenantId' + '}', String(tenantId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (tenantId === null || tenantId === undefined) {
            throw new Error('Required parameter tenantId was null or undefined when calling tenantsTenantIdApplicationsGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    TenantsApi.prototype.tenantsTenantIdApplicationsPostWithHttpInfo = function (tenantId, application, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants/${tenantId}/applications'
            .replace('${' + 'tenantId' + '}', String(tenantId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (tenantId === null || tenantId === undefined) {
            throw new Error('Required parameter tenantId was null or undefined when calling tenantsTenantIdApplicationsPost.');
        }
        if (application === null || application === undefined) {
            throw new Error('Required parameter application was null or undefined when calling tenantsTenantIdApplicationsPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: application == null ? '' : JSON.stringify(application),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    TenantsApi.prototype.tenantsTenantIdDeleteWithHttpInfo = function (tenantId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/tenants/${tenantId}'
            .replace('${' + 'tenantId' + '}', String(tenantId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (tenantId === null || tenantId === undefined) {
            throw new Error('Required parameter tenantId was null or undefined when calling tenantsTenantIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return TenantsApi;
}());
TenantsApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], TenantsApi);
exports.TenantsApi = TenantsApi;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var http_2 = __webpack_require__(0);
__webpack_require__(3);
var configuration_1 = __webpack_require__(1);
var UsersApi = (function () {
    function UsersApi(http, configuration) {
        this.http = http;
        this.configuration = new configuration_1.Configuration();
        this.defaultHeaders = new http_1.Headers();
        if (configuration) {
            this.configuration = configuration;
            this.defaultHeaders = new http_1.Headers({ 'Authorization': this.configuration.apiKey });
        }
    }
    UsersApi.prototype.usersBulkPost = function (users, extraHttpRequestParams) {
        return this.usersBulkPostWithHttpInfo(users, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersDelete = function (filter, extraHttpRequestParams) {
        return this.usersDeleteWithHttpInfo(filter, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersGet = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        return this.usersGetWithHttpInfo(pageSize, pageNumber, filter, sort, select, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersPost = function (user, extraHttpRequestParams) {
        return this.usersPostWithHttpInfo(user, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersPut = function (filter, userBulkUpdate, extraHttpRequestParams) {
        return this.usersPutWithHttpInfo(filter, userBulkUpdate, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersUserIdDelete = function (userId, extraHttpRequestParams) {
        return this.usersUserIdDeleteWithHttpInfo(userId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersUserIdGet = function (userId, extraHttpRequestParams) {
        return this.usersUserIdGetWithHttpInfo(userId, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersUserIdPut = function (userId, updatedUser, extraHttpRequestParams) {
        return this.usersUserIdPutWithHttpInfo(userId, updatedUser, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json();
            }
        });
    };
    UsersApi.prototype.usersBulkPostWithHttpInfo = function (users, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users/bulk';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (users === null || users === undefined) {
            throw new Error('Required parameter users was null or undefined when calling usersBulkPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: users == null ? '' : JSON.stringify(users),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersDeleteWithHttpInfo = function (filter, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling usersDelete.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersGetWithHttpInfo = function (pageSize, pageNumber, filter, sort, select, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (pageSize !== undefined) {
            queryParameters.set('pageSize', pageSize);
        }
        if (pageNumber !== undefined) {
            queryParameters.set('pageNumber', pageNumber);
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        if (sort !== undefined) {
            queryParameters.set('sort', sort);
        }
        if (select !== undefined) {
            queryParameters.set('select', select);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersPostWithHttpInfo = function (user, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (user === null || user === undefined) {
            throw new Error('Required parameter user was null or undefined when calling usersPost.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Post,
            headers: headers,
            body: user == null ? '' : JSON.stringify(user),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersPutWithHttpInfo = function (filter, userBulkUpdate, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users';
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (filter === null || filter === undefined) {
            throw new Error('Required parameter filter was null or undefined when calling usersPut.');
        }
        if (userBulkUpdate === null || userBulkUpdate === undefined) {
            throw new Error('Required parameter userBulkUpdate was null or undefined when calling usersPut.');
        }
        if (filter !== undefined) {
            queryParameters.set('filter', filter);
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: userBulkUpdate == null ? '' : JSON.stringify(userBulkUpdate),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersUserIdDeleteWithHttpInfo = function (userId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users/${userId}'
            .replace('${' + 'userId' + '}', String(userId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (userId === null || userId === undefined) {
            throw new Error('Required parameter userId was null or undefined when calling usersUserIdDelete.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Delete,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersUserIdGetWithHttpInfo = function (userId, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users/${userId}'
            .replace('${' + 'userId' + '}', String(userId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (userId === null || userId === undefined) {
            throw new Error('Required parameter userId was null or undefined when calling usersUserIdGet.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Get,
            headers: headers,
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    UsersApi.prototype.usersUserIdPutWithHttpInfo = function (userId, updatedUser, extraHttpRequestParams) {
        var path = this.configuration.basePath + '/users/${userId}'
            .replace('${' + 'userId' + '}', String(userId));
        var queryParameters = new http_1.URLSearchParams();
        var headers = new http_1.Headers(this.defaultHeaders.toJSON());
        if (userId === null || userId === undefined) {
            throw new Error('Required parameter userId was null or undefined when calling usersUserIdPut.');
        }
        if (updatedUser === null || updatedUser === undefined) {
            throw new Error('Required parameter updatedUser was null or undefined when calling usersUserIdPut.');
        }
        var consumes = [];
        var produces = [
            'application/json'
        ];
        if (this.configuration.apiKey) {
            headers.set('Authorization', this.configuration.apiKey);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new http_2.RequestOptions({
            method: http_2.RequestMethod.Put,
            headers: headers,
            body: updatedUser == null ? '' : JSON.stringify(updatedUser),
            search: queryParameters
        });
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return UsersApi;
}());
UsersApi = __decorate([
    core_1.Injectable(),
    __param(1, core_1.Optional()),
    __metadata("design:paramtypes", [http_1.Http, configuration_1.Configuration])
], UsersApi);
exports.UsersApi = UsersApi;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var core_1 = __webpack_require__(2);
var common_1 = __webpack_require__(35);
var http_1 = __webpack_require__(0);
var configuration_1 = __webpack_require__(1);
var services_1 = __webpack_require__(6);
var api_1 = __webpack_require__(5);
var Selfbits = Selfbits_1 = (function () {
    function Selfbits() {
    }
    Selfbits.forRoot = function (configuration) {
        return {
            ngModule: Selfbits_1,
            providers: [
                { provide: configuration_1.Configuration, useValue: configuration }
            ]
        };
    };
    return Selfbits;
}());
Selfbits = Selfbits_1 = __decorate([
    core_1.NgModule({
        imports: [common_1.CommonModule, http_1.HttpModule],
        declarations: [],
        exports: [],
        providers: api_1.APIS.concat(services_1.SERVICES)
    })
], Selfbits);
exports.Selfbits = Selfbits;
var Selfbits_1;


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(__webpack_require__(31));
__export(__webpack_require__(32));


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

exports.COLLECTION_FORMATS = {
    'csv': ',',
    'tsv': '   ',
    'ssv': ' ',
    'pipes': '|'
};


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
__export(__webpack_require__(5));
__export(__webpack_require__(28));
__export(__webpack_require__(29));
__export(__webpack_require__(1));
__export(__webpack_require__(27));
__export(__webpack_require__(6));


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var Endpoint;
(function (Endpoint) {
    var MethodEnum;
    (function (MethodEnum) {
        MethodEnum[MethodEnum["GET"] = 'GET'] = "GET";
        MethodEnum[MethodEnum["POST"] = 'POST'] = "POST";
        MethodEnum[MethodEnum["PUT"] = 'PUT'] = "PUT";
        MethodEnum[MethodEnum["DELETE"] = 'DELETE'] = "DELETE";
    })(MethodEnum = Endpoint.MethodEnum || (Endpoint.MethodEnum = {}));
})(Endpoint = exports.Endpoint || (exports.Endpoint = {}));


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var NewEndpoint;
(function (NewEndpoint) {
    var MethodEnum;
    (function (MethodEnum) {
        MethodEnum[MethodEnum["GET"] = 'GET'] = "GET";
        MethodEnum[MethodEnum["POST"] = 'POST'] = "POST";
        MethodEnum[MethodEnum["PUT"] = 'PUT'] = "PUT";
        MethodEnum[MethodEnum["DELETE"] = 'DELETE'] = "DELETE";
    })(MethodEnum = NewEndpoint.MethodEnum || (NewEndpoint.MethodEnum = {}));
})(NewEndpoint = exports.NewEndpoint || (exports.NewEndpoint = {}));


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = __webpack_require__(2);
var configuration_1 = __webpack_require__(1);
var ConfigService = (function () {
    function ConfigService(configuration) {
        this.configuration = configuration;
        if (localStorage.getItem('authorization')) {
            var auth = JSON.parse(localStorage.getItem('authorization'));
            configuration.apiKey = 'bearer ' + (auth ? auth['token'] : '');
        }
    }
    ConfigService.prototype.setAuthorization = function (authorizationObject) {
        localStorage.setItem('authorization', JSON.stringify(authorizationObject));
        this.configuration.apiKey = 'bearer ' + authorizationObject.token;
    };
    ConfigService.prototype.getAuthorization = function () {
        if (localStorage.getItem('authorization')) {
            return JSON.parse(localStorage.getItem('authorization'));
        }
        else {
            return;
        }
    };
    ConfigService.prototype.setBasePath = function (basePath) {
        this.configuration.basePath = basePath;
    };
    ConfigService.prototype.setDefaultBasePath = function () {
        this.configuration.basePath = 'https://selfbits.apps.selfbits.io/api/v2/selfbits/apps/scp';
    };
    ConfigService.prototype.getBearerToken = function () {
        if (localStorage.getItem('authorization')) {
            var authorization = JSON.parse(localStorage.getItem('authorization'));
            return 'bearer ' + authorization.token;
        }
        else {
            return;
        }
    };
    ConfigService.prototype.getUserId = function () {
        if (localStorage.getItem('authorization')) {
            return JSON.parse(localStorage.getItem('authorization')).userId;
        }
        else {
            return;
        }
    };
    ConfigService.prototype.getOrganizationId = function () {
        if (localStorage.getItem('authorization')) {
            return JSON.parse(localStorage.getItem('authorization')).organizationId;
        }
        else {
            return;
        }
    };
    ConfigService.prototype.getExpires = function () {
        if (localStorage.getItem('authorization')) {
            return JSON.parse(localStorage.getItem('authorization')).expires;
        }
        else {
            return;
        }
    };
    return ConfigService;
}());
ConfigService = __decorate([
    core_1.Injectable(),
    __metadata("design:paramtypes", [configuration_1.Configuration])
], ConfigService);
exports.ConfigService = ConfigService;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = __webpack_require__(2);
var http_1 = __webpack_require__(0);
var FilesApi_1 = __webpack_require__(4);
__webpack_require__(36);
__webpack_require__(3);
__webpack_require__(37);
var FileService = (function () {
    function FileService(filesApi, http) {
        this.filesApi = filesApi;
        this.http = http;
    }
    FileService.prototype.uploadPrivate = function (fileMetadata, file) {
        var _this = this;
        var headers = new http_1.Headers();
        headers.append('Content-Type', file.type ? file.type : 'application/octet-stream');
        var filemetaId;
        return this.filesApi.createPrivate({ filePath: fileMetadata.filePath, customData: fileMetadata.customData })
            .mergeMap(function (res) {
            filemetaId = res.fileId;
            return _this.http.put(res.putFileUrl, file, {
                headers: headers
            });
        })
            .mergeMap(function (res) {
            return _this.filesApi.verifyUpload(filemetaId, { etag: res.headers.get('etag') });
        });
    };
    FileService.prototype.uploadPublic = function (fileMetadata, file) {
        var _this = this;
        var headers = new http_1.Headers();
        headers.append('Content-Type', file.type ? file.type : 'application/octet-stream');
        var filemetaId;
        return this.filesApi.createPublic({ filePath: fileMetadata.filePath, customData: fileMetadata.customData })
            .mergeMap(function (res) {
            filemetaId = res.fileId;
            return _this.http.put(res.putFileUrl, file, {
                headers: headers
            });
        })
            .mergeMap(function (res) {
            return _this.filesApi.verifyUpload(filemetaId, { etag: res.headers.get('etag') });
        });
    };
    return FileService;
}());
FileService = __decorate([
    core_1.Injectable(),
    __metadata("design:paramtypes", [FilesApi_1.FilesApi, http_1.Http])
], FileService);
exports.FileService = FileService;


/***/ }),
/* 35 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_35__;

/***/ }),
/* 36 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_36__;

/***/ }),
/* 37 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_37__;

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiNTAyMDQ3ZDNiOWM0MjVlMWQyOSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYW5ndWxhci9odHRwXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZ3VyYXRpb24udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFuZ3VsYXIvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiIiwid2VicGFjazovLy8uL3NyYy9hcGkvRmlsZXNBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9hcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3NlcnZpY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvQWN0aW9uc0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0FwcGxpY2F0aW9uc0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NsaWVudHNBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9Db25zdW1lcnNBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9EaXJlY3Rvcmllc0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0VtYWlsVmVyaWZpY2F0aW9uQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvRW5kcG9pbnRzQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvSW50ZXJhY3RpdmVWaWV3c0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0ludml0ZXNBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9Mb2dpbkFwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL01vbmdvRGF0YUFwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL01vbmdvRGF0YWJhc2VzQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvTW9uZ29Nb2RlbHNBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9Pcmdhbml6YXRpb25zQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvUGFzc3dvcmRSZXNldEFwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1Byb3ZpZGVyc0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1JvbGVzQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvU2lnbnVwQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvVGVuYW50c0FwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJzQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9tb2RlbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhcmlhYmxlcy50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvRW5kcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL05ld0VuZHBvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9Db25maWdTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9GaWxlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYW5ndWxhci9jb21tb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL2FkZC9vcGVyYXRvci9jYXRjaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJ4anMvYWRkL29wZXJhdG9yL21lcmdlTWFwXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87QUNWQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztB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LENBQUMsVUFBVSxFQUFFLENBQUM7YUFDekcsUUFBUSxDQUFDLGFBQUc7WUFDWixVQUFVLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztZQUN4QixNQUFNLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUU7Z0JBQzFDLE9BQU8sRUFBRSxPQUFPO2FBQ2hCLENBQUM7UUFDSCxDQUFDLENBQUM7YUFDRCxRQUFRLENBQUMsYUFBRztZQUNaLE1BQU0sQ0FBQyxLQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUNqRixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRixrQkFBQztBQUFELENBQUM7QUF4Q1ksV0FBVztJQUR2QixpQkFBVSxFQUFFO3FDQUdrQixtQkFBUSxFQUFnQixXQUFJO0dBRjlDLFdBQVcsQ0F3Q3ZCO0FBeENZLGtDQUFXOzs7Ozs7O0FDWnhCLGdEOzs7Ozs7QUNBQSxnRDs7Ozs7O0FDQUEsZ0QiLCJmaWxlIjoibmd4LnNlbGZiaXRzLmlvLnVtZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIkBhbmd1bGFyL2h0dHBcIiksIHJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpLCByZXF1aXJlKFwicnhqcy9hZGQvb3BlcmF0b3IvbWFwXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvY29tbW9uXCIpLCByZXF1aXJlKFwicnhqcy9hZGQvb3BlcmF0b3IvY2F0Y2hcIiksIHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9tZXJnZU1hcFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJAYW5ndWxhci9odHRwXCIsIFwiQGFuZ3VsYXIvY29yZVwiLCBcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiLCBcIkBhbmd1bGFyL2NvbW1vblwiLCBcInJ4anMvYWRkL29wZXJhdG9yL2NhdGNoXCIsIFwicnhqcy9hZGQvb3BlcmF0b3IvbWVyZ2VNYXBcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibmd4LnNlbGZiaXRzLmlvXCJdID0gZmFjdG9yeShyZXF1aXJlKFwiQGFuZ3VsYXIvaHR0cFwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIiksIHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIiksIHJlcXVpcmUoXCJAYW5ndWxhci9jb21tb25cIiksIHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9jYXRjaFwiKSwgcmVxdWlyZShcInJ4anMvYWRkL29wZXJhdG9yL21lcmdlTWFwXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJuZ3guc2VsZmJpdHMuaW9cIl0gPSBmYWN0b3J5KHJvb3RbXCJAYW5ndWxhci9odHRwXCJdLCByb290W1wiQGFuZ3VsYXIvY29yZVwiXSwgcm9vdFtcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiXSwgcm9vdFtcIkBhbmd1bGFyL2NvbW1vblwiXSwgcm9vdFtcInJ4anMvYWRkL29wZXJhdG9yL2NhdGNoXCJdLCByb290W1wicnhqcy9hZGQvb3BlcmF0b3IvbWVyZ2VNYXBcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zNV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzM2X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMzdfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYjUwMjA0N2QzYjljNDI1ZTFkMjkiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvaHR0cFwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBpbnRlcmZhY2UgQ29uZmlndXJhdGlvblBhcmFtZXRlcnMge1xuICAgIHRlbmFudD86IHN0cmluZztcbiAgICBhcHBsaWNhdGlvbj86IHN0cmluZztcbiAgICBzYkNsaWVudElkPzogc3RyaW5nO1xuICAgIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nO1xuICAgIGFwaUtleT86IHN0cmluZztcbiAgICBhcGlLZXlQcmVmaXg/OiBzdHJpbmc7XG4gICAgdXNlRGV2ZWxvcGVyQXV0aD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgICB0ZW5hbnQ/OiBzdHJpbmc7XG4gICAgYXBwbGljYXRpb24/OiBzdHJpbmc7XG4gICAgYmFzZVBhdGg/OiBzdHJpbmc7XG4gICAgc2JDbGllbnRJZD86IHN0cmluZztcbiAgICBzYkNsaWVudFNlY3JldD86IHN0cmluZztcbiAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgYXBpS2V5UHJlZml4Pzogc3RyaW5nO1xuICAgIHVzZURldmVsb3BlckF1dGg/OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvblBhcmFtZXRlcnM6IENvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzID0ge30pIHtcbiAgICAgICAgdGhpcy50ZW5hbnQgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy50ZW5hbnQ7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24gPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5hcHBsaWNhdGlvbjtcbiAgICAgICAgdGhpcy5zYkNsaWVudElkID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMuc2JDbGllbnRJZDtcbiAgICAgICAgdGhpcy5zYkNsaWVudFNlY3JldCA9IGNvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzLnNiQ2xpZW50U2VjcmV0O1xuICAgICAgICB0aGlzLnVzZURldmVsb3BlckF1dGggPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy51c2VEZXZlbG9wZXJBdXRoO1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gXCJodHRwczovL1wiICsgdGhpcy50ZW5hbnQgKyBcIi5hcHBzLnNlbGZiaXRzLmlvL2FwaS92Mi9cIiArIHRoaXMudGVuYW50ICsgXCIvXCIgKyAodGhpcy51c2VEZXZlbG9wZXJBdXRoID8gXCJhZG1pblwiIDogXCJhcHBzXCIpICsgXCIvXCIgKyB0aGlzLmFwcGxpY2F0aW9uOyBcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5hcGlLZXk7XG4gICAgICAgIHRoaXMuYXBpS2V5UHJlZml4ID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMuYXBpS2V5UHJlZml4IHx8IFwiYmVhcmVyIFwiO1xuXHRcdGlmICghdGhpcy5hcGlLZXlQcmVmaXguZW5kc1dpdGgoXCIgXCIpKXtcblx0XHRcdHRoaXMuYXBpS2V5UHJlZml4ID0gdGhpcy5hcGlLZXlQcmVmaXggKyBcIiBcIjtcblx0XHR9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbmZpZ3VyYXRpb24udHMiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvY29yZVwiXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIlxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRmlsZXNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYnJvd3NlIGZpbGUgcGF0aFxuICAgICAqIGJyb3dzZSBmaWxlIGZvbGRlciBzdHJ1Y3R1cmVcbiAgICAgKiBAcGFyYW0gZmlsZVBhdGggVGhlIHBhdGggdG8gdGhlIGZvbGRlciB5b3Ugd2FudCB0byBicm93c2UgKGYuZS4gcHVibGljL215Zm9sZGVyLylcbiAgICAgKi9cbiAgICBwdWJsaWMgYnJvd3NlKGZpbGVQYXRoOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5GaWxlQnJvd3NlckRvY3M+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlV2l0aEh0dHBJbmZvKGZpbGVQYXRoLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBicm93c2UgZmlsZSBwYXRoXG4gICAgICogYnJvd3NlIGZpbGUgZm9sZGVyIHN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSBmaWxlUGF0aCBUaGUgcGF0aCB0byB0aGUgZm9sZGVyIHlvdSB3YW50IHRvIGJyb3dzZSAoZi5lLiBwcml2YXRlL215Zm9sZGVyLylcbiAgICAgKi9cbiAgICBwdWJsaWMgYnJvd3NlXzEoZmlsZVBhdGg6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkZpbGVCcm93c2VyRG9jcz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5icm93c2VfMVdpdGhIdHRwSW5mbyhmaWxlUGF0aCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6ZSBwcml2YXRlIGZpbGUgdXBsb2FkXG4gICAgICogSW5pdGlhbGl6ZSBuZXcgcHJpdmF0ZSBmaWxlIHVwbG9hZFxuICAgICAqIEBwYXJhbSBmaWxlIFlvdXIgbmV3IGZpbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgY3JlYXRlUHJpdmF0ZShmaWxlPzogbW9kZWxzLk5ld0ZpbGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5OZXdGaWxlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUHJpdmF0ZVdpdGhIdHRwSW5mbyhmaWxlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXplIHB1YmxpYyBmaWxlIHVwbG9hZFxuICAgICAqIEluaXRpYWxpemUgbmV3IHB1YmxpYyBmaWxlIHVwbG9hZFxuICAgICAqIEBwYXJhbSBmaWxlIFlvdXIgbmV3IGZpbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgY3JlYXRlUHVibGljKGZpbGU/OiBtb2RlbHMuTmV3RmlsZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk5ld0ZpbGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVQdWJsaWNXaXRoSHR0cEluZm8oZmlsZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIGZpbGVcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgZmlsZVxuICAgICAqIEBwYXJhbSBmaWxlSWQgVGhlIGZpbGUgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBkZWxldGVPbmUoZmlsZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZU9uZVdpdGhIdHRwSW5mbyhmaWxlSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHF1ZXJ5IGZpbGVzXG4gICAgICogUXVlcnkgZmlsZXMgYW5kIHJlY2VpdmUgcGFnaW5hdGVkIHJlc3VsdCBzZXRcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtpc1B1YmxpY1xcJnF1b3Q7OiBcXCZxdW90O3RydWVcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgcXVlcnkocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuRmlsZVBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcnlXaXRoSHR0cEluZm8ocGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlciwgc29ydCwgc2VsZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGV4aXN0aW5nIGZpbGUgYnkgaWQgb3IgYnkgZmlsZVBhdGhcbiAgICAgKiBHZXQgdGhlIG1ldGFkYXRhIG9mIGFuIGV4aXN0aW5nIGZpbGUgYnkgaWQgb3IgYnkgZmlsZVBhdGhcbiAgICAgKiBAcGFyYW0gZmlsZUlkIFRoZSBmaWxlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gZmlsZVBhdGggVGhlIGZpbGVQYXRoXG4gICAgICovXG4gICAgcHVibGljIHJlYWRPbmUoZmlsZUlkPzogc3RyaW5nLCBmaWxlUGF0aD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkZpbGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZE9uZVdpdGhIdHRwSW5mbyhmaWxlSWQsIGZpbGVQYXRoLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY3VzdG9tRGF0YSBvZiBhbiBleGlzdGluZyBmaWxlXG4gICAgICogVXBkYXRlIGN1c3RvbURhdGEgb2YgYW4gZXhpc3RpbmcgZmlsZVxuICAgICAqIEBwYXJhbSBmaWxlSWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkRmlsZSB1cGRhdGVkIGZpbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlT25lKGZpbGVJZDogc3RyaW5nLCB1cGRhdGVkRmlsZTogbW9kZWxzLkZpbGVVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5GaWxlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZU9uZVdpdGhIdHRwSW5mbyhmaWxlSWQsIHVwZGF0ZWRGaWxlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB2ZXJpZnkgdGhlIHN1Y2Nlc3NmdWwgZmlsZSB1cGxvYWRcbiAgICAgKiB2ZXJpZnkgdGhlIHN1Y2Nlc3NmdWwgZmlsZSB1cGxvYWQgdXNpbmcgdGhlIEVUYWcgaGVhZGVyIHZhbHVlXG4gICAgICogQHBhcmFtIGZpbGVJZCBUaGUgdGFyZ2V0IGZpbGUgeW91IHdhbnQgdG8gdmVyaWZ5XG4gICAgICogQHBhcmFtIGV0YWdPYmplY3QgVGhlIGV0YWcgcmVzcG9uc2UgaGVhZGVyIG9mIHRoZSBzdWNjZXNzZnVsIGZpbGUgdXBsb2FkXG4gICAgICovXG4gICAgcHVibGljIHZlcmlmeVVwbG9hZChmaWxlSWQ6IHN0cmluZywgZXRhZ09iamVjdDogbW9kZWxzLkZpbGVWZXJpZmljYXRpb25SZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuRmlsZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJpZnlVcGxvYWRXaXRoSHR0cEluZm8oZmlsZUlkLCBldGFnT2JqZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGJyb3dzZSBmaWxlIHBhdGhcbiAgICAgKiBicm93c2UgZmlsZSBmb2xkZXIgc3RydWN0dXJlXG4gICAgICogQHBhcmFtIGZpbGVQYXRoIFRoZSBwYXRoIHRvIHRoZSBmb2xkZXIgeW91IHdhbnQgdG8gYnJvd3NlIChmLmUuIHB1YmxpYy9teWZvbGRlci8pXG4gICAgICovXG4gICAgcHVibGljIGJyb3dzZVdpdGhIdHRwSW5mbyhmaWxlUGF0aDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9maWxlcy9icm93c2UvcHVibGljJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGVQYXRoJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbGVQYXRoID09PSBudWxsIHx8IGZpbGVQYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbGVQYXRoIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYnJvd3NlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlUGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWxlUGF0aCcsIDxhbnk+ZmlsZVBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBicm93c2UgZmlsZSBwYXRoXG4gICAgICogYnJvd3NlIGZpbGUgZm9sZGVyIHN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSBmaWxlUGF0aCBUaGUgcGF0aCB0byB0aGUgZm9sZGVyIHlvdSB3YW50IHRvIGJyb3dzZSAoZi5lLiBwcml2YXRlL215Zm9sZGVyLylcbiAgICAgKi9cbiAgICBwdWJsaWMgYnJvd3NlXzFXaXRoSHR0cEluZm8oZmlsZVBhdGg6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvZmlsZXMvYnJvd3NlL3ByaXZhdGUnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsZVBhdGgnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsZVBhdGggPT09IG51bGwgfHwgZmlsZVBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsZVBhdGggd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBicm93c2VfMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsZVBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsZVBhdGgnLCA8YW55PmZpbGVQYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6ZSBwcml2YXRlIGZpbGUgdXBsb2FkXG4gICAgICogSW5pdGlhbGl6ZSBuZXcgcHJpdmF0ZSBmaWxlIHVwbG9hZFxuICAgICAqIEBwYXJhbSBmaWxlIFlvdXIgbmV3IGZpbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgY3JlYXRlUHJpdmF0ZVdpdGhIdHRwSW5mbyhmaWxlPzogbW9kZWxzLk5ld0ZpbGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2ZpbGVzL3ByaXZhdGUnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBmaWxlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGZpbGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemUgcHVibGljIGZpbGUgdXBsb2FkXG4gICAgICogSW5pdGlhbGl6ZSBuZXcgcHVibGljIGZpbGUgdXBsb2FkXG4gICAgICogQHBhcmFtIGZpbGUgWW91ciBuZXcgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBjcmVhdGVQdWJsaWNXaXRoSHR0cEluZm8oZmlsZT86IG1vZGVscy5OZXdGaWxlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9maWxlcy9wdWJsaWMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBmaWxlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGZpbGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBmaWxlXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIGZpbGVcbiAgICAgKiBAcGFyYW0gZmlsZUlkIFRoZSBmaWxlIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVsZXRlT25lV2l0aEh0dHBJbmZvKGZpbGVJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9maWxlcy8ke2ZpbGVJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZmlsZUlkJyArICd9JywgU3RyaW5nKGZpbGVJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsZUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbGVJZCA9PT0gbnVsbCB8fCBmaWxlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsZUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZGVsZXRlT25lLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcXVlcnkgZmlsZXNcbiAgICAgKiBRdWVyeSBmaWxlcyBhbmQgcmVjZWl2ZSBwYWdpbmF0ZWQgcmVzdWx0IHNldFxuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O2lzUHVibGljXFwmcXVvdDs6IFxcJnF1b3Q7dHJ1ZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBxdWVyeVdpdGhIdHRwSW5mbyhwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2ZpbGVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgZXhpc3RpbmcgZmlsZSBieSBpZCBvciBieSBmaWxlUGF0aFxuICAgICAqIEdldCB0aGUgbWV0YWRhdGEgb2YgYW4gZXhpc3RpbmcgZmlsZSBieSBpZCBvciBieSBmaWxlUGF0aFxuICAgICAqIEBwYXJhbSBmaWxlSWQgVGhlIGZpbGUgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBmaWxlUGF0aCBUaGUgZmlsZVBhdGhcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZE9uZVdpdGhIdHRwSW5mbyhmaWxlSWQ/OiBzdHJpbmcsIGZpbGVQYXRoPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9maWxlcy9maWxlJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChmaWxlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsZUlkJywgPGFueT5maWxlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbGVQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbGVQYXRoJywgPGFueT5maWxlUGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBjdXN0b21EYXRhIG9mIGFuIGV4aXN0aW5nIGZpbGVcbiAgICAgKiBVcGRhdGUgY3VzdG9tRGF0YSBvZiBhbiBleGlzdGluZyBmaWxlXG4gICAgICogQHBhcmFtIGZpbGVJZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRGaWxlIHVwZGF0ZWQgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGVPbmVXaXRoSHR0cEluZm8oZmlsZUlkOiBzdHJpbmcsIHVwZGF0ZWRGaWxlOiBtb2RlbHMuRmlsZVVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvZmlsZXMvJHtmaWxlSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2ZpbGVJZCcgKyAnfScsIFN0cmluZyhmaWxlSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWxlSWQgPT09IG51bGwgfHwgZmlsZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbGVJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU9uZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1cGRhdGVkRmlsZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkRmlsZSA9PT0gbnVsbCB8fCB1cGRhdGVkRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1cGRhdGVkRmlsZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU9uZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZEZpbGUgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXBkYXRlZEZpbGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHZlcmlmeSB0aGUgc3VjY2Vzc2Z1bCBmaWxlIHVwbG9hZFxuICAgICAqIHZlcmlmeSB0aGUgc3VjY2Vzc2Z1bCBmaWxlIHVwbG9hZCB1c2luZyB0aGUgRVRhZyBoZWFkZXIgdmFsdWVcbiAgICAgKiBAcGFyYW0gZmlsZUlkIFRoZSB0YXJnZXQgZmlsZSB5b3Ugd2FudCB0byB2ZXJpZnlcbiAgICAgKiBAcGFyYW0gZXRhZ09iamVjdCBUaGUgZXRhZyByZXNwb25zZSBoZWFkZXIgb2YgdGhlIHN1Y2Nlc3NmdWwgZmlsZSB1cGxvYWRcbiAgICAgKi9cbiAgICBwdWJsaWMgdmVyaWZ5VXBsb2FkV2l0aEh0dHBJbmZvKGZpbGVJZDogc3RyaW5nLCBldGFnT2JqZWN0OiBtb2RlbHMuRmlsZVZlcmlmaWNhdGlvblJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2ZpbGVzLyR7ZmlsZUlkfS92ZXJpZnknXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZmlsZUlkJyArICd9JywgU3RyaW5nKGZpbGVJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsZUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbGVJZCA9PT0gbnVsbCB8fCBmaWxlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsZUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdmVyaWZ5VXBsb2FkLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2V0YWdPYmplY3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZXRhZ09iamVjdCA9PT0gbnVsbCB8fCBldGFnT2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGV0YWdPYmplY3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB2ZXJpZnlVcGxvYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBldGFnT2JqZWN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGV0YWdPYmplY3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9GaWxlc0FwaS50cyIsImV4cG9ydCAqIGZyb20gJy4vQWN0aW9uc0FwaSc7XG5pbXBvcnQgeyBBY3Rpb25zQXBpIH0gZnJvbSAnLi9BY3Rpb25zQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vQXBwbGljYXRpb25zQXBpJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uc0FwaSB9IGZyb20gJy4vQXBwbGljYXRpb25zQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vQ2xpZW50c0FwaSc7XG5pbXBvcnQgeyBDbGllbnRzQXBpIH0gZnJvbSAnLi9DbGllbnRzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJzQXBpJztcbmltcG9ydCB7IENvbnN1bWVyc0FwaSB9IGZyb20gJy4vQ29uc3VtZXJzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vRGlyZWN0b3JpZXNBcGknO1xuaW1wb3J0IHsgRGlyZWN0b3JpZXNBcGkgfSBmcm9tICcuL0RpcmVjdG9yaWVzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vRW1haWxWZXJpZmljYXRpb25BcGknO1xuaW1wb3J0IHsgRW1haWxWZXJpZmljYXRpb25BcGkgfSBmcm9tICcuL0VtYWlsVmVyaWZpY2F0aW9uQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vRW5kcG9pbnRzQXBpJztcbmltcG9ydCB7IEVuZHBvaW50c0FwaSB9IGZyb20gJy4vRW5kcG9pbnRzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsZXNBcGknO1xuaW1wb3J0IHsgRmlsZXNBcGkgfSBmcm9tICcuL0ZpbGVzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vSW50ZXJhY3RpdmVWaWV3c0FwaSc7XG5pbXBvcnQgeyBJbnRlcmFjdGl2ZVZpZXdzQXBpIH0gZnJvbSAnLi9JbnRlcmFjdGl2ZVZpZXdzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vSW52aXRlc0FwaSc7XG5pbXBvcnQgeyBJbnZpdGVzQXBpIH0gZnJvbSAnLi9JbnZpdGVzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vTG9naW5BcGknO1xuaW1wb3J0IHsgTG9naW5BcGkgfSBmcm9tICcuL0xvZ2luQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29EYXRhQXBpJztcbmltcG9ydCB7IE1vbmdvRGF0YUFwaSB9IGZyb20gJy4vTW9uZ29EYXRhQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29EYXRhYmFzZXNBcGknO1xuaW1wb3J0IHsgTW9uZ29EYXRhYmFzZXNBcGkgfSBmcm9tICcuL01vbmdvRGF0YWJhc2VzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29Nb2RlbHNBcGknO1xuaW1wb3J0IHsgTW9uZ29Nb2RlbHNBcGkgfSBmcm9tICcuL01vbmdvTW9kZWxzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vT3JnYW5pemF0aW9uc0FwaSc7XG5pbXBvcnQgeyBPcmdhbml6YXRpb25zQXBpIH0gZnJvbSAnLi9Pcmdhbml6YXRpb25zQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vUGFzc3dvcmRSZXNldEFwaSc7XG5pbXBvcnQgeyBQYXNzd29yZFJlc2V0QXBpIH0gZnJvbSAnLi9QYXNzd29yZFJlc2V0QXBpJztcbmV4cG9ydCAqIGZyb20gJy4vUHJvdmlkZXJzQXBpJztcbmltcG9ydCB7IFByb3ZpZGVyc0FwaSB9IGZyb20gJy4vUHJvdmlkZXJzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vUm9sZXNBcGknO1xuaW1wb3J0IHsgUm9sZXNBcGkgfSBmcm9tICcuL1JvbGVzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vU2lnbnVwQXBpJztcbmltcG9ydCB7IFNpZ251cEFwaSB9IGZyb20gJy4vU2lnbnVwQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vVGVuYW50c0FwaSc7XG5pbXBvcnQgeyBUZW5hbnRzQXBpIH0gZnJvbSAnLi9UZW5hbnRzQXBpJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlcnNBcGknO1xuaW1wb3J0IHsgVXNlcnNBcGkgfSBmcm9tICcuL1VzZXJzQXBpJztcbmV4cG9ydCBjb25zdCBBUElTID0gW0FjdGlvbnNBcGksIEFwcGxpY2F0aW9uc0FwaSwgQ2xpZW50c0FwaSwgQ29uc3VtZXJzQXBpLCBEaXJlY3Rvcmllc0FwaSwgRW1haWxWZXJpZmljYXRpb25BcGksIEVuZHBvaW50c0FwaSwgRmlsZXNBcGksIEludGVyYWN0aXZlVmlld3NBcGksIEludml0ZXNBcGksIExvZ2luQXBpLCBNb25nb0RhdGFBcGksIE1vbmdvRGF0YWJhc2VzQXBpLCBNb25nb01vZGVsc0FwaSwgT3JnYW5pemF0aW9uc0FwaSwgUGFzc3dvcmRSZXNldEFwaSwgUHJvdmlkZXJzQXBpLCBSb2xlc0FwaSwgU2lnbnVwQXBpLCBUZW5hbnRzQXBpLCBVc2Vyc0FwaV07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL2FwaS50cyIsImltcG9ydMKgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi9Db25maWdTZXJ2aWNlJztcbmltcG9ydMKgeyBGaWxlU2VydmljZSB9IGZyb20gJy4vRmlsZVNlcnZpY2UnO1xuXG5leHBvcnQgY29uc3QgU0VSVklDRVMgPSBbXG5cdENvbmZpZ1NlcnZpY2UsXG5cdEZpbGVTZXJ2aWNlXG5dO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL3NlcnZpY2VzLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFjdGlvbnNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb25JZCBUaGUgYWN0aW9uIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgYWN0aW9uc0FjdGlvbklkRGVsZXRlKGFjdGlvbklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNBY3Rpb25JZERlbGV0ZVdpdGhIdHRwSW5mbyhhY3Rpb25JZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogRXhlY3V0ZSBhY3Rpb24uIElmIHRoZSBhY3Rpb24gY29kZSB0aHJvd3MgZXJyb3JzLCB0aGV5IGFyZSBjYXVnaHQgYW5kIGluZm9ybWF0aW9uIGlzIHByb3ZpZGVkIGluIHRoZSBwYXlsb2FkIHdpdGggc3RhdHVzIGNvZGUgMjAwLlxuICAgICAqIEBwYXJhbSBhY3Rpb25JZCBUaGUgYWN0aW9uIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBFeGVjdXRpb24gcGF5bG9hZFxuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zQWN0aW9uSWRFeGVjUG9zdChhY3Rpb25JZDogc3RyaW5nLCBwYXlsb2FkPzogbW9kZWxzLkFjdGlvbkV4ZWN1dGlvblJlcXVlc3RQYXlsb2FkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQWN0aW9uRXhlY3V0aW9uUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uc0FjdGlvbklkRXhlY1Bvc3RXaXRoSHR0cEluZm8oYWN0aW9uSWQsIHBheWxvYWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgYWN0aW9uXG4gICAgICogQHBhcmFtIGFjdGlvbklkIFRoZSBhY3Rpb24gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zQWN0aW9uSWRHZXQoYWN0aW9uSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkFjdGlvbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25zQWN0aW9uSWRHZXRXaXRoSHR0cEluZm8oYWN0aW9uSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uSWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkQWN0aW9uIHVwZGF0ZWQgYWN0aW9uXG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNBY3Rpb25JZFB1dChhY3Rpb25JZDogc3RyaW5nLCB1cGRhdGVkQWN0aW9uOiBtb2RlbHMuQWN0aW9uVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQWN0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNBY3Rpb25JZFB1dFdpdGhIdHRwSW5mbyhhY3Rpb25JZCwgdXBkYXRlZEFjdGlvbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBhY3Rpb25zXG4gICAgICogQHBhcmFtIGFjdGlvbnMgTXVsdGlwbGUgYWN0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zQnVsa1Bvc3QoYWN0aW9ucz86IG1vZGVscy5OZXdBY3Rpb25BcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkFjdGlvbkFycmF5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNCdWxrUG9zdFdpdGhIdHRwSW5mbyhhY3Rpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBhY3Rpb25zXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNEZWxldGUoZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrRGVsZXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgYWN0aW9uc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzYmNsb3VkXFwmcXVvdDt9XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEgfVxuICAgICAqIEBwYXJhbSBzZWxlY3QgU2VsZWN0IG9iamVjdCAoMSYjeDNEO2luY2x1ZGUsIC0xJiN4M0Q7ZXhjbHVkZSkgbGlrZSB7XFwmcXVvdDtJZFxcJnF1b3Q7OiAxLCBcXCZxdW90O25hbWVcXCZxdW90OzogMSB9XG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQWN0aW9uUGFnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25zR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBmaWx0ZXIsIHNvcnQsIHNlbGVjdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uIFlvdXIgbmV3IGFjdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zUG9zdChhY3Rpb24/OiBtb2RlbHMuTmV3QWN0aW9uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQWN0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNQb3N0V2l0aEh0dHBJbmZvKGFjdGlvbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgYWN0aW9uc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIGFjdGlvbkJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBhY3Rpb25zIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNQdXQoZmlsdGVyOiBzdHJpbmcsIGFjdGlvbkJ1bGtVcGRhdGU6IG1vZGVscy5BY3Rpb25CdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa1VwZGF0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNQdXRXaXRoSHR0cEluZm8oZmlsdGVyLCBhY3Rpb25CdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uSWQgVGhlIGFjdGlvbiBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNBY3Rpb25JZERlbGV0ZVdpdGhIdHRwSW5mbyhhY3Rpb25JZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9hY3Rpb25zLyR7YWN0aW9uSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2FjdGlvbklkJyArICd9JywgU3RyaW5nKGFjdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhY3Rpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChhY3Rpb25JZCA9PT0gbnVsbCB8fCBhY3Rpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBhY3Rpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGFjdGlvbnNBY3Rpb25JZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEV4ZWN1dGUgYWN0aW9uLiBJZiB0aGUgYWN0aW9uIGNvZGUgdGhyb3dzIGVycm9ycywgdGhleSBhcmUgY2F1Z2h0IGFuZCBpbmZvcm1hdGlvbiBpcyBwcm92aWRlZCBpbiB0aGUgcGF5bG9hZCB3aXRoIHN0YXR1cyBjb2RlIDIwMC5cbiAgICAgKiBAcGFyYW0gYWN0aW9uSWQgVGhlIGFjdGlvbiBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHBheWxvYWQgRXhlY3V0aW9uIHBheWxvYWRcbiAgICAgKi9cbiAgICBwdWJsaWMgYWN0aW9uc0FjdGlvbklkRXhlY1Bvc3RXaXRoSHR0cEluZm8oYWN0aW9uSWQ6IHN0cmluZywgcGF5bG9hZD86IG1vZGVscy5BY3Rpb25FeGVjdXRpb25SZXF1ZXN0UGF5bG9hZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvYWN0aW9ucy8ke2FjdGlvbklkfS9leGVjJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2FjdGlvbklkJyArICd9JywgU3RyaW5nKGFjdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhY3Rpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChhY3Rpb25JZCA9PT0gbnVsbCB8fCBhY3Rpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBhY3Rpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGFjdGlvbnNBY3Rpb25JZEV4ZWNQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogcGF5bG9hZCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb25JZCBUaGUgYWN0aW9uIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgYWN0aW9uc0FjdGlvbklkR2V0V2l0aEh0dHBJbmZvKGFjdGlvbklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2FjdGlvbnMvJHthY3Rpb25JZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnYWN0aW9uSWQnICsgJ30nLCBTdHJpbmcoYWN0aW9uSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FjdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGFjdGlvbklkID09PSBudWxsIHx8IGFjdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGFjdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYWN0aW9uc0FjdGlvbklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb25JZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRBY3Rpb24gdXBkYXRlZCBhY3Rpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgYWN0aW9uc0FjdGlvbklkUHV0V2l0aEh0dHBJbmZvKGFjdGlvbklkOiBzdHJpbmcsIHVwZGF0ZWRBY3Rpb246IG1vZGVscy5BY3Rpb25VcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2FjdGlvbnMvJHthY3Rpb25JZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnYWN0aW9uSWQnICsgJ30nLCBTdHJpbmcoYWN0aW9uSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FjdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGFjdGlvbklkID09PSBudWxsIHx8IGFjdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGFjdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYWN0aW9uc0FjdGlvbklkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3VwZGF0ZWRBY3Rpb24nIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodXBkYXRlZEFjdGlvbiA9PT0gbnVsbCB8fCB1cGRhdGVkQWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHVwZGF0ZWRBY3Rpb24gd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBhY3Rpb25zQWN0aW9uSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVwZGF0ZWRBY3Rpb24gPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXBkYXRlZEFjdGlvbiksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBhY3Rpb25zXG4gICAgICogQHBhcmFtIGFjdGlvbnMgTXVsdGlwbGUgYWN0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zQnVsa1Bvc3RXaXRoSHR0cEluZm8oYWN0aW9ucz86IG1vZGVscy5OZXdBY3Rpb25BcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvYWN0aW9ucy9idWxrJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYWN0aW9ucyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShhY3Rpb25zKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBhY3Rpb25zXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2FjdGlvbnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYWN0aW9uc0RlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBhY3Rpb25zXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3NiY2xvdWRcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWN0aW9uc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2FjdGlvbnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgaWYgKHBhZ2VTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VTaXplJywgPGFueT5wYWdlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlTnVtYmVyJywgPGFueT5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc29ydCcsIDxhbnk+c29ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NlbGVjdCcsIDxhbnk+c2VsZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uIFlvdXIgbmV3IGFjdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBhY3Rpb25zUG9zdFdpdGhIdHRwSW5mbyhhY3Rpb24/OiBtb2RlbHMuTmV3QWN0aW9uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9hY3Rpb25zJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYWN0aW9uID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGFjdGlvbiksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgYWN0aW9uc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIGFjdGlvbkJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBhY3Rpb25zIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIGFjdGlvbnNQdXRXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGFjdGlvbkJ1bGtVcGRhdGU6IG1vZGVscy5BY3Rpb25CdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9hY3Rpb25zJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGFjdGlvbnNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYWN0aW9uQnVsa1VwZGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChhY3Rpb25CdWxrVXBkYXRlID09PSBudWxsIHx8IGFjdGlvbkJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYWN0aW9uQnVsa1VwZGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGFjdGlvbnNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYWN0aW9uQnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShhY3Rpb25CdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvQWN0aW9uc0FwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvbnNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBjdXJyZW50IGFwcGxpY2F0aW9uXG4gICAgICovXG4gICAgcHVibGljIHJvb3RHZXQoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkFwcGxpY2F0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RHZXRXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIGN1cnJlbnQgYXBwbGljYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgcm9vdEdldFdpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy8nO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvQXBwbGljYXRpb25zQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENsaWVudHNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBjbGllbnRzXG4gICAgICogQHBhcmFtIGNsaWVudHMgTXVsdGlwbGUgY2xpZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzQnVsa1Bvc3QoY2xpZW50cz86IG1vZGVscy5OZXdDbGllbnRBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkNsaWVudEFycmF5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudHNCdWxrUG9zdFdpdGhIdHRwSW5mbyhjbGllbnRzLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgY2xpZW50XG4gICAgICogQHBhcmFtIGNsaWVudElkIFRoZSBjbGllbnQgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzQ2xpZW50SWREZWxldGUoY2xpZW50SWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50c0NsaWVudElkRGVsZXRlV2l0aEh0dHBJbmZvKGNsaWVudElkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIGNsaWVudFxuICAgICAqIEBwYXJhbSBjbGllbnRJZCBUaGUgY2xpZW50IGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgY2xpZW50c0NsaWVudElkR2V0KGNsaWVudElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5DbGllbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50c0NsaWVudElkR2V0V2l0aEh0dHBJbmZvKGNsaWVudElkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiB1cGRhdGUgZXhpc3RpbmcgY2xpZW50XG4gICAgICogQHBhcmFtIGNsaWVudElkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZENsaWVudCB1cGRhdGVkIGNsaWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzQ2xpZW50SWRQdXQoY2xpZW50SWQ6IHN0cmluZywgdXBkYXRlZENsaWVudDogbW9kZWxzLkNsaWVudFVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkNsaWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRzQ2xpZW50SWRQdXRXaXRoSHR0cEluZm8oY2xpZW50SWQsIHVwZGF0ZWRDbGllbnQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIGNsaWVudHNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgY2xpZW50c0RlbGV0ZShmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtEZWxldGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRzRGVsZXRlV2l0aEh0dHBJbmZvKGZpbHRlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBjbGllbnRzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzR2V0KHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkNsaWVudFBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50c0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyLCBzb3J0LCBzZWxlY3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgY2xpZW50XG4gICAgICogQHBhcmFtIGNsaWVudCBZb3VyIG5ldyBjbGllbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2xpZW50c1Bvc3QoY2xpZW50PzogbW9kZWxzLk5ld0NsaWVudCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkNsaWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRzUG9zdFdpdGhIdHRwSW5mbyhjbGllbnQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIGNsaWVudHNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBjbGllbnRCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgY2xpZW50cyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzUHV0KGZpbHRlcjogc3RyaW5nLCBjbGllbnRCdWxrVXBkYXRlOiBtb2RlbHMuQ2xpZW50QnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtVcGRhdGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRzUHV0V2l0aEh0dHBJbmZvKGZpbHRlciwgY2xpZW50QnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGNsaWVudHNcbiAgICAgKiBAcGFyYW0gY2xpZW50cyBNdWx0aXBsZSBjbGllbnRzXG4gICAgICovXG4gICAgcHVibGljIGNsaWVudHNCdWxrUG9zdFdpdGhIdHRwSW5mbyhjbGllbnRzPzogbW9kZWxzLk5ld0NsaWVudEFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jbGllbnRzL2J1bGsnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBjbGllbnRzID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGNsaWVudHMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBjbGllbnRcbiAgICAgKiBAcGFyYW0gY2xpZW50SWQgVGhlIGNsaWVudCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGNsaWVudHNDbGllbnRJZERlbGV0ZVdpdGhIdHRwSW5mbyhjbGllbnRJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jbGllbnRzLyR7Y2xpZW50SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2NsaWVudElkJyArICd9JywgU3RyaW5nKGNsaWVudElkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChjbGllbnRJZCA9PT0gbnVsbCB8fCBjbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBjbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNsaWVudHNDbGllbnRJZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgY2xpZW50XG4gICAgICogQHBhcmFtIGNsaWVudElkIFRoZSBjbGllbnQgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzQ2xpZW50SWRHZXRXaXRoSHR0cEluZm8oY2xpZW50SWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvY2xpZW50cy8ke2NsaWVudElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdjbGllbnRJZCcgKyAnfScsIFN0cmluZyhjbGllbnRJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoY2xpZW50SWQgPT09IG51bGwgfHwgY2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjbGllbnRzQ2xpZW50SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiB1cGRhdGUgZXhpc3RpbmcgY2xpZW50XG4gICAgICogQHBhcmFtIGNsaWVudElkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZENsaWVudCB1cGRhdGVkIGNsaWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzQ2xpZW50SWRQdXRXaXRoSHR0cEluZm8oY2xpZW50SWQ6IHN0cmluZywgdXBkYXRlZENsaWVudDogbW9kZWxzLkNsaWVudFVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvY2xpZW50cy8ke2NsaWVudElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdjbGllbnRJZCcgKyAnfScsIFN0cmluZyhjbGllbnRJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoY2xpZW50SWQgPT09IG51bGwgfHwgY2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjbGllbnRzQ2xpZW50SWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZENsaWVudCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkQ2xpZW50ID09PSBudWxsIHx8IHVwZGF0ZWRDbGllbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZENsaWVudCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNsaWVudHNDbGllbnRJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZENsaWVudCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkQ2xpZW50KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBjbGllbnRzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGNsaWVudHNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2NsaWVudHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgY2xpZW50c0RlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBjbGllbnRzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBjbGllbnRzR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvY2xpZW50cyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICBpZiAocGFnZVNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZVNpemUnLCA8YW55PnBhZ2VTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VOdW1iZXInLCA8YW55PnBhZ2VOdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzb3J0JywgPGFueT5zb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0JywgPGFueT5zZWxlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IGNsaWVudFxuICAgICAqIEBwYXJhbSBjbGllbnQgWW91ciBuZXcgY2xpZW50XG4gICAgICovXG4gICAgcHVibGljIGNsaWVudHNQb3N0V2l0aEh0dHBJbmZvKGNsaWVudD86IG1vZGVscy5OZXdDbGllbnQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2NsaWVudHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBjbGllbnQgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoY2xpZW50KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIHVwZGF0ZSBleGlzdGluZyBjbGllbnRzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gY2xpZW50QnVsa1VwZGF0ZSBVc2UgZmlsdGVyIHRvIGZpbmQgdGhlIGNsaWVudHMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgY2xpZW50c1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgY2xpZW50QnVsa1VwZGF0ZTogbW9kZWxzLkNsaWVudEJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2NsaWVudHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgY2xpZW50c1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjbGllbnRCdWxrVXBkYXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGNsaWVudEJ1bGtVcGRhdGUgPT09IG51bGwgfHwgY2xpZW50QnVsa1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBjbGllbnRCdWxrVXBkYXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgY2xpZW50c1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBjbGllbnRCdWxrVXBkYXRlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGNsaWVudEJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9DbGllbnRzQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvbnN1bWVyc0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGNvbnN1bWVyc1xuICAgICAqIEBwYXJhbSBjb25zdW1lcnMgTXVsdGlwbGUgY29uc3VtZXJzXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0J1bGtQb3N0KGNvbnN1bWVycz86IG1vZGVscy5OZXdDb25zdW1lckFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQ29uc3VtZXJBcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lcnNCdWxrUG9zdFdpdGhIdHRwSW5mbyhjb25zdW1lcnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBjb25zdW1lclxuICAgICAqIEBwYXJhbSBjb25zdW1lcklkIFRoZSBjb25zdW1lciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0NvbnN1bWVySWREZWxldGUoY29uc3VtZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lcnNDb25zdW1lcklkRGVsZXRlV2l0aEh0dHBJbmZvKGNvbnN1bWVySWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgY29uc3VtZXJcbiAgICAgKiBAcGFyYW0gY29uc3VtZXJJZCBUaGUgY29uc3VtZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNDb25zdW1lcklkR2V0KGNvbnN1bWVySWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkNvbnN1bWVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVyc0NvbnN1bWVySWRHZXRXaXRoSHR0cEluZm8oY29uc3VtZXJJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGNvbnN1bWVyXG4gICAgICogQHBhcmFtIGNvbnN1bWVySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkQ29uc3VtZXIgdXBkYXRlZCBjb25zdW1lclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNDb25zdW1lcklkUHV0KGNvbnN1bWVySWQ6IHN0cmluZywgdXBkYXRlZENvbnN1bWVyOiBtb2RlbHMuQ29uc3VtZXJVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Db25zdW1lcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lcnNDb25zdW1lcklkUHV0V2l0aEh0dHBJbmZvKGNvbnN1bWVySWQsIHVwZGF0ZWRDb25zdW1lciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgY29uc3VtZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0RlbGV0ZShmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtEZWxldGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lcnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIGNvbnN1bWVyc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzYmNsb3VkXFwmcXVvdDt9XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEgfVxuICAgICAqIEBwYXJhbSBzZWxlY3QgU2VsZWN0IG9iamVjdCAoMSYjeDNEO2luY2x1ZGUsIC0xJiN4M0Q7ZXhjbHVkZSkgbGlrZSB7XFwmcXVvdDtJZFxcJnF1b3Q7OiAxLCBcXCZxdW90O25hbWVcXCZxdW90OzogMSB9XG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0dldChwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Db25zdW1lclBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZXJzR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBmaWx0ZXIsIHNvcnQsIHNlbGVjdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBjb25zdW1lclxuICAgICAqIEBwYXJhbSBjb25zdW1lciBZb3VyIG5ldyBjb25zdW1lclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNQb3N0KGNvbnN1bWVyPzogbW9kZWxzLk5ld0NvbnN1bWVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQ29uc3VtZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZXJzUG9zdFdpdGhIdHRwSW5mbyhjb25zdW1lciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgY29uc3VtZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gY29uc3VtZXJCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgY29uc3VtZXJzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc1B1dChmaWx0ZXI6IHN0cmluZywgY29uc3VtZXJCdWxrVXBkYXRlOiBtb2RlbHMuQ29uc3VtZXJCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa1VwZGF0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVyc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIGNvbnN1bWVyQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGNvbnN1bWVyc1xuICAgICAqIEBwYXJhbSBjb25zdW1lcnMgTXVsdGlwbGUgY29uc3VtZXJzXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0J1bGtQb3N0V2l0aEh0dHBJbmZvKGNvbnN1bWVycz86IG1vZGVscy5OZXdDb25zdW1lckFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMvYnVsayc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGNvbnN1bWVycyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShjb25zdW1lcnMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBjb25zdW1lclxuICAgICAqIEBwYXJhbSBjb25zdW1lcklkIFRoZSBjb25zdW1lciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0NvbnN1bWVySWREZWxldGVXaXRoSHR0cEluZm8oY29uc3VtZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMvJHtjb25zdW1lcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdjb25zdW1lcklkJyArICd9JywgU3RyaW5nKGNvbnN1bWVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NvbnN1bWVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoY29uc3VtZXJJZCA9PT0gbnVsbCB8fCBjb25zdW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGNvbnN1bWVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjb25zdW1lcnNDb25zdW1lcklkRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBjb25zdW1lclxuICAgICAqIEBwYXJhbSBjb25zdW1lcklkIFRoZSBjb25zdW1lciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0NvbnN1bWVySWRHZXRXaXRoSHR0cEluZm8oY29uc3VtZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMvJHtjb25zdW1lcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdjb25zdW1lcklkJyArICd9JywgU3RyaW5nKGNvbnN1bWVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NvbnN1bWVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoY29uc3VtZXJJZCA9PT0gbnVsbCB8fCBjb25zdW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGNvbnN1bWVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjb25zdW1lcnNDb25zdW1lcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGNvbnN1bWVyXG4gICAgICogQHBhcmFtIGNvbnN1bWVySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkQ29uc3VtZXIgdXBkYXRlZCBjb25zdW1lclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNDb25zdW1lcklkUHV0V2l0aEh0dHBJbmZvKGNvbnN1bWVySWQ6IHN0cmluZywgdXBkYXRlZENvbnN1bWVyOiBtb2RlbHMuQ29uc3VtZXJVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2NvbnN1bWVycy8ke2NvbnN1bWVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2NvbnN1bWVySWQnICsgJ30nLCBTdHJpbmcoY29uc3VtZXJJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29uc3VtZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChjb25zdW1lcklkID09PSBudWxsIHx8IGNvbnN1bWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY29uc3VtZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNvbnN1bWVyc0NvbnN1bWVySWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZENvbnN1bWVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHVwZGF0ZWRDb25zdW1lciA9PT0gbnVsbCB8fCB1cGRhdGVkQ29uc3VtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZENvbnN1bWVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgY29uc3VtZXJzQ29uc3VtZXJJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZENvbnN1bWVyID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRDb25zdW1lciksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgY29uc3VtZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvY29uc3VtZXJzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNvbnN1bWVyc0RlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBjb25zdW1lcnNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgaWYgKHBhZ2VTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VTaXplJywgPGFueT5wYWdlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlTnVtYmVyJywgPGFueT5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc29ydCcsIDxhbnk+c29ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NlbGVjdCcsIDxhbnk+c2VsZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBjb25zdW1lclxuICAgICAqIEBwYXJhbSBjb25zdW1lciBZb3VyIG5ldyBjb25zdW1lclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdW1lcnNQb3N0V2l0aEh0dHBJbmZvKGNvbnN1bWVyPzogbW9kZWxzLk5ld0NvbnN1bWVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBjb25zdW1lciA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShjb25zdW1lciksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgY29uc3VtZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gY29uc3VtZXJCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgY29uc3VtZXJzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIGNvbnN1bWVyc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgY29uc3VtZXJCdWxrVXBkYXRlOiBtb2RlbHMuQ29uc3VtZXJCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9jb25zdW1lcnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgY29uc3VtZXJzUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NvbnN1bWVyQnVsa1VwZGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChjb25zdW1lckJ1bGtVcGRhdGUgPT09IG51bGwgfHwgY29uc3VtZXJCdWxrVXBkYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGNvbnN1bWVyQnVsa1VwZGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNvbnN1bWVyc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBjb25zdW1lckJ1bGtVcGRhdGUgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoY29uc3VtZXJCdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvQ29uc3VtZXJzQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERpcmVjdG9yaWVzQXBpIHtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IG5ldyBIZWFkZXJzKHsnQXV0aG9yaXphdGlvbic6IHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXl9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBtdWx0aXBsZSBuZXcgZGlyZWN0b3JpZXNcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3JpZXMgTXVsdGlwbGUgZGlyZWN0b3JpZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNCdWxrUG9zdChkaXJlY3Rvcmllcz86IG1vZGVscy5OZXdEaXJlY3RvcnlBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkRpcmVjdG9yeUFycmF5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdG9yaWVzQnVsa1Bvc3RXaXRoSHR0cEluZm8oZGlyZWN0b3JpZXMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIGRpcmVjdG9yaWVzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGRpcmVjdG9yaWVzRGVsZXRlKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdG9yaWVzRGVsZXRlV2l0aEh0dHBJbmZvKGZpbHRlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCBUaGUgZGlyZWN0b3J5IGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNEaXJlY3RvcnlJZERlbGV0ZShkaXJlY3RvcnlJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rvcmllc0RpcmVjdG9yeUlkRGVsZXRlV2l0aEh0dHBJbmZvKGRpcmVjdG9yeUlkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCBUaGUgZGlyZWN0b3J5IGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNEaXJlY3RvcnlJZEdldChkaXJlY3RvcnlJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuRGlyZWN0b3J5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdG9yaWVzRGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oZGlyZWN0b3J5SWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkRGlyZWN0b3J5IHVwZGF0ZWQgZGlyZWN0b3J5XG4gICAgICovXG4gICAgcHVibGljIGRpcmVjdG9yaWVzRGlyZWN0b3J5SWRQdXQoZGlyZWN0b3J5SWQ6IHN0cmluZywgdXBkYXRlZERpcmVjdG9yeTogbW9kZWxzLkRpcmVjdG9yeVVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkRpcmVjdG9yeT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rvcmllc0RpcmVjdG9yeUlkUHV0V2l0aEh0dHBJbmZvKGRpcmVjdG9yeUlkLCB1cGRhdGVkRGlyZWN0b3J5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIGRpcmVjdG9yaWVzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3NiY2xvdWRcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuRGlyZWN0b3J5UGFnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rvcmllc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyLCBzb3J0LCBzZWxlY3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIGRpcmVjdG9yeSBZb3VyIG5ldyBkaXJlY3RvcnlcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNQb3N0KGRpcmVjdG9yeT86IG1vZGVscy5OZXdEaXJlY3RvcnksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5EaXJlY3Rvcnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0b3JpZXNQb3N0V2l0aEh0dHBJbmZvKGRpcmVjdG9yeSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgZGlyZWN0b3JpZXMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNQdXQoZmlsdGVyOiBzdHJpbmcsIGRpcmVjdG9yeUJ1bGtVcGRhdGU6IG1vZGVscy5EaXJlY3RvcnlCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa1VwZGF0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdG9yaWVzUHV0V2l0aEh0dHBJbmZvKGZpbHRlciwgZGlyZWN0b3J5QnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGRpcmVjdG9yaWVzXG4gICAgICogQHBhcmFtIGRpcmVjdG9yaWVzIE11bHRpcGxlIGRpcmVjdG9yaWVzXG4gICAgICovXG4gICAgcHVibGljIGRpcmVjdG9yaWVzQnVsa1Bvc3RXaXRoSHR0cEluZm8oZGlyZWN0b3JpZXM/OiBtb2RlbHMuTmV3RGlyZWN0b3J5QXJyYXksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2RpcmVjdG9yaWVzL2J1bGsnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBkaXJlY3RvcmllcyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShkaXJlY3RvcmllcyksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgZGlyZWN0b3JpZXNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2RpcmVjdG9yaWVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGRpcmVjdG9yaWVzRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIFRoZSBkaXJlY3RvcnkgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBkaXJlY3Rvcmllc0RpcmVjdG9yeUlkRGVsZXRlV2l0aEh0dHBJbmZvKGRpcmVjdG9yeUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2RpcmVjdG9yaWVzLyR7ZGlyZWN0b3J5SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChkaXJlY3RvcnlJZCA9PT0gbnVsbCB8fCBkaXJlY3RvcnlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGRpcmVjdG9yaWVzRGlyZWN0b3J5SWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCBUaGUgZGlyZWN0b3J5IGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNEaXJlY3RvcnlJZEdldFdpdGhIdHRwSW5mbyhkaXJlY3RvcnlJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9kaXJlY3Rvcmllcy8ke2RpcmVjdG9yeUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkaXJlY3Rvcmllc0RpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWREaXJlY3RvcnkgdXBkYXRlZCBkaXJlY3RvcnlcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNEaXJlY3RvcnlJZFB1dFdpdGhIdHRwSW5mbyhkaXJlY3RvcnlJZDogc3RyaW5nLCB1cGRhdGVkRGlyZWN0b3J5OiBtb2RlbHMuRGlyZWN0b3J5VXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9kaXJlY3Rvcmllcy8ke2RpcmVjdG9yeUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkaXJlY3Rvcmllc0RpcmVjdG9yeUlkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3VwZGF0ZWREaXJlY3RvcnknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodXBkYXRlZERpcmVjdG9yeSA9PT0gbnVsbCB8fCB1cGRhdGVkRGlyZWN0b3J5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHVwZGF0ZWREaXJlY3Rvcnkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkaXJlY3Rvcmllc0RpcmVjdG9yeUlkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiB1cGRhdGVkRGlyZWN0b3J5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWREaXJlY3RvcnkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgZGlyZWN0b3JpZXNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBkaXJlY3Rvcmllc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2RpcmVjdG9yaWVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIGRpcmVjdG9yeSBZb3VyIG5ldyBkaXJlY3RvcnlcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNQb3N0V2l0aEh0dHBJbmZvKGRpcmVjdG9yeT86IG1vZGVscy5OZXdEaXJlY3RvcnksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2RpcmVjdG9yaWVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogZGlyZWN0b3J5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGRpcmVjdG9yeSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgZGlyZWN0b3JpZXMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlyZWN0b3JpZXNQdXRXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGRpcmVjdG9yeUJ1bGtVcGRhdGU6IG1vZGVscy5EaXJlY3RvcnlCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9kaXJlY3Rvcmllcyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkaXJlY3Rvcmllc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlCdWxrVXBkYXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUJ1bGtVcGRhdGUgPT09IG51bGwgfHwgZGlyZWN0b3J5QnVsa1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlCdWxrVXBkYXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZGlyZWN0b3JpZXNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogZGlyZWN0b3J5QnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShkaXJlY3RvcnlCdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvRGlyZWN0b3JpZXNBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRW1haWxWZXJpZmljYXRpb25BcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVHJpZ2dlciBlbWFpbCB2ZXJpZmljYXRpb25cbiAgICAgKiBAcGFyYW0gc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCBFbWFpbCB5b3Ugd2FudCB0byB2ZXJpZml5XG4gICAgICovXG4gICAgcHVibGljIGVtYWlsc1ZlcmlmaWNhdGlvblBvc3Qoc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdDogbW9kZWxzLlNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5TZW5kVmVyaWZpY2F0aW9uRW1haWxSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWFpbHNWZXJpZmljYXRpb25Qb3N0V2l0aEh0dHBJbmZvKHNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVHJpZ2dlciBlbWFpbCB2ZXJpZmljYXRpb25cbiAgICAgKiBAcGFyYW0gc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCBFbWFpbCB5b3Ugd2FudCB0byB2ZXJpZml5XG4gICAgICovXG4gICAgcHVibGljIGVtYWlsc1ZlcmlmaWNhdGlvblBvc3RXaXRoSHR0cEluZm8oc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdDogbW9kZWxzLlNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2VtYWlscy92ZXJpZmljYXRpb24nO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzZW5kVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0ID09PSBudWxsIHx8IHNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGVtYWlsc1ZlcmlmaWNhdGlvblBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBzZW5kVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9FbWFpbFZlcmlmaWNhdGlvbkFwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBFbmRwb2ludHNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBlbmRwb2ludHNcbiAgICAgKiBAcGFyYW0gZW5kcG9pbnRzIE11bHRpcGxlIGVuZHBvaW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNCdWxrUG9zdChlbmRwb2ludHM/OiBtb2RlbHMuTmV3RW5kcG9pbnRBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkVuZHBvaW50QXJyYXk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kcG9pbnRzQnVsa1Bvc3RXaXRoSHR0cEluZm8oZW5kcG9pbnRzLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBlbmRwb2ludHNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgZW5kcG9pbnRzRGVsZXRlKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50c0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBlbmRwb2ludFxuICAgICAqIEBwYXJhbSBlbmRwb2ludElkIFRoZSBlbmRwb2ludCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGVuZHBvaW50c0VuZHBvaW50SWREZWxldGUoZW5kcG9pbnRJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludHNFbmRwb2ludElkRGVsZXRlV2l0aEh0dHBJbmZvKGVuZHBvaW50SWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0gZW5kcG9pbnRJZCBUaGUgZW5kcG9pbnQgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNFbmRwb2ludElkR2V0KGVuZHBvaW50SWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkVuZHBvaW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50c0VuZHBvaW50SWRHZXRXaXRoSHR0cEluZm8oZW5kcG9pbnRJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGVuZHBvaW50XG4gICAgICogQHBhcmFtIGVuZHBvaW50SWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkRW5kcG9pbnQgdXBkYXRlZCBlbmRwb2ludFxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNFbmRwb2ludElkUHV0KGVuZHBvaW50SWQ6IHN0cmluZywgdXBkYXRlZEVuZHBvaW50OiBtb2RlbHMuRW5kcG9pbnRVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5FbmRwb2ludD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRwb2ludHNFbmRwb2ludElkUHV0V2l0aEh0dHBJbmZvKGVuZHBvaW50SWQsIHVwZGF0ZWRFbmRwb2ludCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBlbmRwb2ludHNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuRW5kcG9pbnRQYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50c0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyLCBzb3J0LCBzZWxlY3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0gZW5kcG9pbnQgWW91ciBuZXcgZW5kcG9pbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgZW5kcG9pbnRzUG9zdChlbmRwb2ludD86IG1vZGVscy5OZXdFbmRwb2ludCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkVuZHBvaW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50c1Bvc3RXaXRoSHR0cEluZm8oZW5kcG9pbnQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gZW5kcG9pbnRCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgZW5kcG9pbnRzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIGVuZHBvaW50c1B1dChmaWx0ZXI6IHN0cmluZywgZW5kcG9pbnRCdWxrVXBkYXRlOiBtb2RlbHMuRW5kcG9pbnRCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa1VwZGF0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHBvaW50c1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIGVuZHBvaW50QnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGVuZHBvaW50c1xuICAgICAqIEBwYXJhbSBlbmRwb2ludHMgTXVsdGlwbGUgZW5kcG9pbnRzXG4gICAgICovXG4gICAgcHVibGljIGVuZHBvaW50c0J1bGtQb3N0V2l0aEh0dHBJbmZvKGVuZHBvaW50cz86IG1vZGVscy5OZXdFbmRwb2ludEFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbmRwb2ludHMvYnVsayc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGVuZHBvaW50cyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShlbmRwb2ludHMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIGVuZHBvaW50c1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2VuZHBvaW50cyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBlbmRwb2ludHNEZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBlbmRwb2ludFxuICAgICAqIEBwYXJhbSBlbmRwb2ludElkIFRoZSBlbmRwb2ludCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGVuZHBvaW50c0VuZHBvaW50SWREZWxldGVXaXRoSHR0cEluZm8oZW5kcG9pbnRJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbmRwb2ludHMvJHtlbmRwb2ludElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdlbmRwb2ludElkJyArICd9JywgU3RyaW5nKGVuZHBvaW50SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2VuZHBvaW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZW5kcG9pbnRJZCA9PT0gbnVsbCB8fCBlbmRwb2ludElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGVuZHBvaW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBlbmRwb2ludHNFbmRwb2ludElkRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBlbmRwb2ludFxuICAgICAqIEBwYXJhbSBlbmRwb2ludElkIFRoZSBlbmRwb2ludCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGVuZHBvaW50c0VuZHBvaW50SWRHZXRXaXRoSHR0cEluZm8oZW5kcG9pbnRJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbmRwb2ludHMvJHtlbmRwb2ludElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdlbmRwb2ludElkJyArICd9JywgU3RyaW5nKGVuZHBvaW50SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2VuZHBvaW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZW5kcG9pbnRJZCA9PT0gbnVsbCB8fCBlbmRwb2ludElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGVuZHBvaW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBlbmRwb2ludHNFbmRwb2ludElkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGVuZHBvaW50XG4gICAgICogQHBhcmFtIGVuZHBvaW50SWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkRW5kcG9pbnQgdXBkYXRlZCBlbmRwb2ludFxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNFbmRwb2ludElkUHV0V2l0aEh0dHBJbmZvKGVuZHBvaW50SWQ6IHN0cmluZywgdXBkYXRlZEVuZHBvaW50OiBtb2RlbHMuRW5kcG9pbnRVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2VuZHBvaW50cy8ke2VuZHBvaW50SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2VuZHBvaW50SWQnICsgJ30nLCBTdHJpbmcoZW5kcG9pbnRJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZW5kcG9pbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChlbmRwb2ludElkID09PSBudWxsIHx8IGVuZHBvaW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZW5kcG9pbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGVuZHBvaW50c0VuZHBvaW50SWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZEVuZHBvaW50JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHVwZGF0ZWRFbmRwb2ludCA9PT0gbnVsbCB8fCB1cGRhdGVkRW5kcG9pbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZEVuZHBvaW50IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZW5kcG9pbnRzRW5kcG9pbnRJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZEVuZHBvaW50ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRFbmRwb2ludCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBlbmRwb2ludHNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbmRwb2ludHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgaWYgKHBhZ2VTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VTaXplJywgPGFueT5wYWdlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlTnVtYmVyJywgPGFueT5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc29ydCcsIDxhbnk+c29ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NlbGVjdCcsIDxhbnk+c2VsZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBlbmRwb2ludFxuICAgICAqIEBwYXJhbSBlbmRwb2ludCBZb3VyIG5ldyBlbmRwb2ludFxuICAgICAqL1xuICAgIHB1YmxpYyBlbmRwb2ludHNQb3N0V2l0aEh0dHBJbmZvKGVuZHBvaW50PzogbW9kZWxzLk5ld0VuZHBvaW50LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbmRwb2ludHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBlbmRwb2ludCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShlbmRwb2ludCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBlbmRwb2ludEJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBlbmRwb2ludHMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZW5kcG9pbnRzUHV0V2l0aEh0dHBJbmZvKGZpbHRlcjogc3RyaW5nLCBlbmRwb2ludEJ1bGtVcGRhdGU6IG1vZGVscy5FbmRwb2ludEJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2VuZHBvaW50cyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBlbmRwb2ludHNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZW5kcG9pbnRCdWxrVXBkYXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGVuZHBvaW50QnVsa1VwZGF0ZSA9PT0gbnVsbCB8fCBlbmRwb2ludEJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZW5kcG9pbnRCdWxrVXBkYXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZW5kcG9pbnRzUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGVuZHBvaW50QnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShlbmRwb2ludEJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9FbmRwb2ludHNBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RpdmVWaWV3c0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgYXV0aGVudGljYXRpb24gcHJvdmlkZXJzIGZvciBhIHNwZWNpZmljIGRpcmVjdG9yeS4gSWYgdGhlIGF1dGhlbnRpY2F0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjbGllbnQgaXMgcmVkaXJlY3RlZCB0byAvYXV0aC9wcm92aWRlci9bcHJvdmlkZXJJZF0vY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgYXV0aGVudGljYXRpb25cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBhdXRoRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQoc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHVzaW5nIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBhdXRoZW50aWNhdGlvbiB3aXRoIGV4dGVybmFsIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyLiBJZiB0aGUgYXV0aGVudGljYXRpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIGNsaWVudCBpcyByZWRpcmVjdGVkIHRvIC9hdXRoL3Byb3ZpZGVyL1twcm92aWRlcklkXS9jYWxsYmFjay5cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIGF1dGhPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkR2V0KHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHVzaW5nIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBwcm92aWRlclxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgYXV0aGVudGljYXRpb24gd2l0aCBleHRlcm5hbCBhdXRoZW50aWNhdGlvbiBwcm92aWRlci4gSWYgdGhlIGF1dGhlbnRpY2F0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjbGllbnQgaXMgcmVkaXJlY3RlZCB0byAvYXV0aC9wcm92aWRlci9bcHJvdmlkZXJJZF0vY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgYXV0aGVudGljYXRpb25cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBhdXRoT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXQoc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgYXV0aGVudGljYXRpb24gcHJvdmlkZXIuIElmIHRoZSBhdXRoZW50aWNhdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgY2xpZW50IGlzIHJlZGlyZWN0ZWQgdG8gL2F1dGgvcHJvdmlkZXIvW3Byb3ZpZGVySWRdL2NhbGxiYWNrLlxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgYXV0aFByb3ZpZGVyUHJvdmlkZXJJZEdldChzYkNsaWVudElkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhQcm92aWRlclByb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBWZXJpZnkgZW1haWxcbiAgICAgKiBAcGFyYW0gZW1haWwgRW1haWwgeW91IHdhbnQgdG8gdmVyaWZpeVxuICAgICAqIEBwYXJhbSBjb2RlIENvZGUgdGhhdCB3YXMgZ2VuZXJhdGVkIGZvciB0aGUgZW1haWwgdmVyaWZpY2F0aW9uXG4gICAgICovXG4gICAgcHVibGljIGVtYWlsc1ZlcmlmeUdldChlbWFpbDogc3RyaW5nLCBjb2RlOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtYWlsc1ZlcmlmeUdldFdpdGhIdHRwSW5mbyhlbWFpbCwgY29kZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgd2hlcmUgdGhlIHVzZXIgd2FudHMgdG8gbG9nIGluXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlMiBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkR2V0KHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgcmFuZG9tU3RhdGUyPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIGRpcmVjdG9yeUlkLCByYW5kb21TdGF0ZSwgcmFuZG9tU3RhdGUyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGxvZ2luIHdpdGggZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbkdldChzYkNsaWVudElkOiBzdHJpbmcsIHJhbmRvbVN0YXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbkdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCByYW5kb21TdGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBkaXJlY3RvcnlcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGxvZ2luIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICovXG4gICAgcHVibGljIGxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgb3JnYW5pemF0aW9uSWQsIGRpcmVjdG9yeUlkLCByYW5kb21TdGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIGRlZmF1bHQgb3JnYW5pemF0aW9uIGFuZCBpdHMgZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGxvZ2luIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgYXV0aGVudGljYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZEdldChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHJhbmRvbVN0YXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIG9yZ2FuaXphdGlvbklkLCByYW5kb21TdGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgc3BlY2lmaWMgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGxvZ2luIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBzcGVjaWZpYyBwcm92aWRlclxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgdGhlIHByb3ZpZGVyIG9mIHRoZSB1c2VyIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0KHNiQ2xpZW50SWQ6IHN0cmluZywgb3JnYW5pemF0aW9uSWQ6IHN0cmluZywgcHJvdmlkZXJJZDogc3RyaW5nLCByYW5kb21TdGF0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBvcmdhbml6YXRpb25JZCwgcHJvdmlkZXJJZCwgcmFuZG9tU3RhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJlc2V0IHBhc3N3b3JkIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIGVycm9yIFBhc3N3b3JkIHJlc2V0IGVycm9yIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBwdWJsaWMgcGFzc3dvcmRSZXNldENhbGxiYWNrR2V0KGVycm9yOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhc3N3b3JkUmVzZXRDYWxsYmFja0dldFdpdGhIdHRwSW5mbyhlcnJvciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmVzZXQgcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkIFRhcmdldCBhY2NvdW50SWQgb2YgYSBwYXNzd29yZCByZXNldFxuICAgICAqIEBwYXJhbSBjb2RlIENvZGUgdGhhdCB3YXMgZ2VuZXJhdGVkIGZvciB0aGUgcGFzc3dvcmQgcmVzZXQgcHJvY2Vzc1xuICAgICAqL1xuICAgIHB1YmxpYyBwYXNzd29yZFJlc2V0R2V0KGFjY291bnRJZDogc3RyaW5nLCBjb2RlOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhc3N3b3JkUmVzZXRHZXRXaXRoSHR0cEluZm8oYWNjb3VudElkLCBjb2RlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIGEgc3BlY2lmaWMgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQoc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIGRpcmVjdG9yeUlkLCByYW5kb21TdGF0ZSwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIGRlZmF1bHQgb3JnYW5pemF0aW9uIGFuZCBpdHMgZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIGRlZmF1bHQgb3JnYW5pemF0aW9uIGFuZCBpdHMgZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBzaWdudXBcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIHNpZ251cEdldChzYkNsaWVudElkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIHJhbmRvbVN0YXRlLCBpbnZpdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBvcmdhbml6YXRpb25JZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBpbnZpdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWVkIG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBzcGVjaWZpZWQgb3JnYW5pemF0aW9uIGFuZCBpdHMgZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBzaWdudXBcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkR2V0KHNiQ2xpZW50SWQ6IHN0cmluZywgb3JnYW5pemF0aW9uSWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBvcmdhbml6YXRpb25JZCwgcmFuZG9tU3RhdGUsIGludml0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIHNwZWNpZmljIHByb3ZpZGVyXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIHNwZWNpZmljIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJJZCB0aGUgcHJvdmlkZXIgb2YgdGhlIHVzZXIgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXQoc2JDbGllbnRJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCBwcm92aWRlcklkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgb3JnYW5pemF0aW9uSWQsIHByb3ZpZGVySWQsIHJhbmRvbVN0YXRlLCBpbnZpdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IGRlcGVuZGluZyBvbiBzcGVjaWZpZWQgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIGRlZmF1bHQgb3JnYW5pemF0aW9uIGFuZCBhIGRpcmVjdG9yeSBkZXBlbmRpbmcgb24gc3BlY2lmaWVkIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJJZCB0aGUgcHJvdmlkZXIgb2YgdGhlIHVzZXIgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwUHJvdmlkZXJQcm92aWRlcklkR2V0KHNiQ2xpZW50SWQ6IHN0cmluZywgcHJvdmlkZXJJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cFByb3ZpZGVyUHJvdmlkZXJJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBwcm92aWRlcklkLCByYW5kb21TdGF0ZSwgaW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgYXV0aGVudGljYXRpb24gd2l0aCBleHRlcm5hbCBwcm92aWRlclxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgYXV0aGVudGljYXRpb24gd2l0aCBleHRlcm5hbCBhdXRoZW50aWNhdGlvbiBwcm92aWRlcnMgZm9yIGEgc3BlY2lmaWMgZGlyZWN0b3J5LiBJZiB0aGUgYXV0aGVudGljYXRpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIGNsaWVudCBpcyByZWRpcmVjdGVkIHRvIC9hdXRoL3Byb3ZpZGVyL1twcm92aWRlcklkXS9jYWxsYmFjay5cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIGF1dGhEaXJlY3RvcnlEaXJlY3RvcnlJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2F1dGgvZGlyZWN0b3J5LyR7ZGlyZWN0b3J5SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2RpcmVjdG9yeUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUlkID09PSBudWxsIHx8IGRpcmVjdG9yeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGRpcmVjdG9yeUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYkNsaWVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIDxhbnk+c2JDbGllbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2JDbGllbnRTZWNyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIDxhbnk+c2JDbGllbnRTZWNyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHVzaW5nIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBhdXRoZW50aWNhdGlvbiB3aXRoIGV4dGVybmFsIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyLiBJZiB0aGUgYXV0aGVudGljYXRpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIGNsaWVudCBpcyByZWRpcmVjdGVkIHRvIC9hdXRoL3Byb3ZpZGVyL1twcm92aWRlcklkXS9jYWxsYmFjay5cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIGF1dGhPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvYXV0aC9vcmdhbml6YXRpb24vJHtvcmdhbml6YXRpb25JZH0vZGlyZWN0b3J5LyR7ZGlyZWN0b3J5SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBhdXRoT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdyYW5kb21TdGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSA9PT0gbnVsbCB8fCByYW5kb21TdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByYW5kb21TdGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGF1dGhPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYkNsaWVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIDxhbnk+c2JDbGllbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2JDbGllbnRTZWNyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIDxhbnk+c2JDbGllbnRTZWNyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHVzaW5nIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBwcm92aWRlclxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgYXV0aGVudGljYXRpb24gd2l0aCBleHRlcm5hbCBhdXRoZW50aWNhdGlvbiBwcm92aWRlci4gSWYgdGhlIGF1dGhlbnRpY2F0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjbGllbnQgaXMgcmVkaXJlY3RlZCB0byAvYXV0aC9wcm92aWRlci9bcHJvdmlkZXJJZF0vY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgYXV0aGVudGljYXRpb25cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBhdXRoT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9hdXRoL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfS9wcm92aWRlci8ke3Byb3ZpZGVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2RpcmVjdG9yeUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUlkID09PSBudWxsIHx8IGRpcmVjdG9yeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGRpcmVjdG9yeUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYkNsaWVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIDxhbnk+c2JDbGllbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2JDbGllbnRTZWNyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIDxhbnk+c2JDbGllbnRTZWNyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0aW9uIHdpdGggZXh0ZXJuYWwgYXV0aGVudGljYXRpb24gcHJvdmlkZXIuIElmIHRoZSBhdXRoZW50aWNhdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgY2xpZW50IGlzIHJlZGlyZWN0ZWQgdG8gL2F1dGgvcHJvdmlkZXIvW3Byb3ZpZGVySWRdL2NhbGxiYWNrLlxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgYXV0aFByb3ZpZGVyUHJvdmlkZXJJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2F1dGgvcHJvdmlkZXIvJHtwcm92aWRlcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGF1dGhQcm92aWRlclByb3ZpZGVySWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBhdXRoUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgYXV0aFByb3ZpZGVyUHJvdmlkZXJJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2JDbGllbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCA8YW55PnNiQ2xpZW50SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNiQ2xpZW50U2VjcmV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCA8YW55PnNiQ2xpZW50U2VjcmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVmVyaWZ5IGVtYWlsXG4gICAgICogQHBhcmFtIGVtYWlsIEVtYWlsIHlvdSB3YW50IHRvIHZlcmlmaXlcbiAgICAgKiBAcGFyYW0gY29kZSBDb2RlIHRoYXQgd2FzIGdlbmVyYXRlZCBmb3IgdGhlIGVtYWlsIHZlcmlmaWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBlbWFpbHNWZXJpZnlHZXRXaXRoSHR0cEluZm8oZW1haWw6IHN0cmluZywgY29kZTogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9lbWFpbHMvdmVyaWZ5JztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2VtYWlsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGVtYWlsID09PSBudWxsIHx8IGVtYWlsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGVtYWlsIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZW1haWxzVmVyaWZ5R2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NvZGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoY29kZSA9PT0gbnVsbCB8fCBjb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGNvZGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBlbWFpbHNWZXJpZnlHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVtYWlsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2VtYWlsJywgPGFueT5lbWFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb2RlJywgPGFueT5jb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgd2hlcmUgdGhlIHVzZXIgd2FudHMgdG8gbG9nIGluXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlMiBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkR2V0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgcmFuZG9tU3RhdGUyPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9sb2dpbi9kaXJlY3RvcnkvJHtkaXJlY3RvcnlJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZGlyZWN0b3J5SWQnICsgJ30nLCBTdHJpbmcoZGlyZWN0b3J5SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2RpcmVjdG9yeUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUlkID09PSBudWxsIHx8IGRpcmVjdG9yeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGRpcmVjdG9yeUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5EaXJlY3RvcnlEaXJlY3RvcnlJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdyYW5kb21TdGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSA9PT0gbnVsbCB8fCByYW5kb21TdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByYW5kb21TdGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIGxvZ2luIHdpdGggZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbkdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIHJhbmRvbVN0YXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9sb2dpbic7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5HZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9odG1sJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgbG9naW4gd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIGEgc3BlY2lmaWMgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSBSYW5kb20gc3RyaW5nIHRvIGlkZW50aWZpeSB0aGUgYWNjb3VudCBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBpbnRlcmFjdGl2ZSBhdXRoZW50aWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbG9naW4vb3JnYW5pemF0aW9uLyR7b3JnYW5pemF0aW9uSWR9L2RpcmVjdG9yeS8ke2RpcmVjdG9yeUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdvcmdhbml6YXRpb25JZCcgKyAnfScsIFN0cmluZyhvcmdhbml6YXRpb25JZCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZGlyZWN0b3J5SWQnICsgJ30nLCBTdHJpbmcoZGlyZWN0b3J5SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnb3JnYW5pemF0aW9uSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAob3JnYW5pemF0aW9uSWQgPT09IG51bGwgfHwgb3JnYW5pemF0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnYW5pemF0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9odG1sJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgbG9naW4gd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvblxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIGF1dGhlbnRpY2F0aW9uXG4gICAgICovXG4gICAgcHVibGljIGxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCByYW5kb21TdGF0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbG9naW4vb3JnYW5pemF0aW9uLyR7b3JnYW5pemF0aW9uSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdvcmdhbml6YXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCA9PT0gbnVsbCB8fCBvcmdhbml6YXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdhbml6YXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9odG1sJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgbG9naW4gd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIHNwZWNpZmljIHByb3ZpZGVyXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBsb2dpbiB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgc3BlY2lmaWMgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIHRoZSBwcm92aWRlciBvZiB0aGUgdXNlciBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgYXV0aGVudGljYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgcmFuZG9tU3RhdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2xvZ2luL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfS9wcm92aWRlci8ke3Byb3ZpZGVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdwcm92aWRlcklkJyArICd9JywgU3RyaW5nKHByb3ZpZGVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdwcm92aWRlcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHByb3ZpZGVySWQgPT09IG51bGwgfHwgcHJvdmlkZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBwcm92aWRlcklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2JDbGllbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCA8YW55PnNiQ2xpZW50SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmVzZXQgcGFzc3dvcmQgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gZXJyb3IgUGFzc3dvcmQgcmVzZXQgZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIHB1YmxpYyBwYXNzd29yZFJlc2V0Q2FsbGJhY2tHZXRXaXRoSHR0cEluZm8oZXJyb3I6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcGFzc3dvcmQvcmVzZXQvY2FsbGJhY2snO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZXJyb3InIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZXJyb3Igd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwYXNzd29yZFJlc2V0Q2FsbGJhY2tHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Vycm9yJywgPGFueT5lcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmVzZXQgcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkIFRhcmdldCBhY2NvdW50SWQgb2YgYSBwYXNzd29yZCByZXNldFxuICAgICAqIEBwYXJhbSBjb2RlIENvZGUgdGhhdCB3YXMgZ2VuZXJhdGVkIGZvciB0aGUgcGFzc3dvcmQgcmVzZXQgcHJvY2Vzc1xuICAgICAqL1xuICAgIHB1YmxpYyBwYXNzd29yZFJlc2V0R2V0V2l0aEh0dHBJbmZvKGFjY291bnRJZDogc3RyaW5nLCBjb2RlOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3Bhc3N3b3JkL3Jlc2V0JztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FjY291bnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChhY2NvdW50SWQgPT09IG51bGwgfHwgYWNjb3VudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGFjY291bnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHBhc3N3b3JkUmVzZXRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29kZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChjb2RlID09PSBudWxsIHx8IGNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY29kZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHBhc3N3b3JkUmVzZXRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjY291bnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdhY2NvdW50SWQnLCA8YW55PmFjY291bnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb2RlJywgPGFueT5jb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIGEgc3BlY2lmaWMgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cC9kaXJlY3RvcnkvJHtkaXJlY3RvcnlJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZGlyZWN0b3J5SWQnICsgJ30nLCBTdHJpbmcoZGlyZWN0b3J5SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChkaXJlY3RvcnlJZCA9PT0gbnVsbCB8fCBkaXJlY3RvcnlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgc2lnbnVwXG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cCc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYkNsaWVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIDxhbnk+c2JDbGllbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncmFuZG9tU3RhdGUnLCA8YW55PnJhbmRvbVN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnZpdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW52aXRlJywgPGFueT5pbnZpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9odG1sJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIFJhbmRvbSBzdHJpbmcgdG8gaWRlbnRpZml5IHRoZSBhY2NvdW50IGFmdGVyIHRoZSBzdWNjZXNzZnVsIGludGVyYWN0aXZlIHNpZ251cFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvc2lnbnVwL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfS9kaXJlY3RvcnkvJHtkaXJlY3RvcnlJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnb3JnYW5pemF0aW9uSWQnICsgJ30nLCBTdHJpbmcob3JnYW5pemF0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdvcmdhbml6YXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCA9PT0gbnVsbCB8fCBvcmdhbml6YXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdhbml6YXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2JDbGllbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCA8YW55PnNiQ2xpZW50SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIHNwZWNpZmllZCBvcmdhbml6YXRpb24gYW5kIGl0cyBkZWZhdWx0IGRpcmVjdG9yeVxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWVkIG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgc2lnbnVwXG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvc2lnbnVwL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdvcmdhbml6YXRpb25JZCcgKyAnfScsIFN0cmluZyhvcmdhbml6YXRpb25JZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncmFuZG9tU3RhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgPT09IG51bGwgfHwgcmFuZG9tU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmFuZG9tU3RhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2JDbGllbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCA8YW55PnNiQ2xpZW50SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ3RleHQvaHRtbCdcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgc3BlY2lmaWMgcHJvdmlkZXJcbiAgICAgKiBJbnRlcmFjdGl2ZSB1c2VyIHNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgc3BlY2lmaWMgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIHRoZSBwcm92aWRlciBvZiB0aGUgdXNlciBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgc2lnbnVwXG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZEdldFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9zaWdudXAvb3JnYW5pemF0aW9uLyR7b3JnYW5pemF0aW9uSWR9L3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnb3JnYW5pemF0aW9uSWQnICsgJ30nLCBTdHJpbmcob3JnYW5pemF0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3Byb3ZpZGVySWQnICsgJ30nLCBTdHJpbmcocHJvdmlkZXJJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHJvdmlkZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChwcm92aWRlcklkID09PSBudWxsIHx8IHByb3ZpZGVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcHJvdmlkZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3RpdmUgdXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgYSBkaXJlY3RvcnkgZGVwZW5kaW5nIG9uIHNwZWNpZmllZCBwcm92aWRlclxuICAgICAqIEludGVyYWN0aXZlIHVzZXIgc2lnbnVwIHdpdGggZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IGRlcGVuZGluZyBvbiBzcGVjaWZpZWQgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIHRoZSBwcm92aWRlciBvZiB0aGUgdXNlciBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgUmFuZG9tIHN0cmluZyB0byBpZGVudGlmaXkgdGhlIGFjY291bnQgYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgaW50ZXJhY3RpdmUgc2lnbnVwXG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBQcm92aWRlclByb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBwcm92aWRlcklkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvc2lnbnVwL3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAncHJvdmlkZXJJZCcgKyAnfScsIFN0cmluZyhwcm92aWRlcklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwUHJvdmlkZXJQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3Byb3ZpZGVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocHJvdmlkZXJJZCA9PT0gbnVsbCB8fCBwcm92aWRlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHByb3ZpZGVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBQcm92aWRlclByb3ZpZGVySWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncmFuZG9tU3RhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgPT09IG51bGwgfHwgcmFuZG9tU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmFuZG9tU3RhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBQcm92aWRlclByb3ZpZGVySWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2ItY2xpZW50LWlkJywgPGFueT5zYkNsaWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L2h0bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL0ludGVyYWN0aXZlVmlld3NBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW52aXRlc0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGludml0ZXNcbiAgICAgKiBAcGFyYW0gaW52aXRlcyBNdWx0aXBsZSBpbnZpdGVzXG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNCdWxrUG9zdChpbnZpdGVzPzogbW9kZWxzLk5ld0ludml0ZUFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuSW52aXRlQXJyYXk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52aXRlc0J1bGtQb3N0V2l0aEh0dHBJbmZvKGludml0ZXMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIGludml0ZXNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgaW52aXRlc0RlbGV0ZShmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtEZWxldGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZpdGVzRGVsZXRlV2l0aEh0dHBJbmZvKGZpbHRlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBpbnZpdGVzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7aXNQdWJsaWNcXCZxdW90OzogXFwmcXVvdDt0cnVlXFwmcXVvdDt9XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEgfVxuICAgICAqIEBwYXJhbSBzZWxlY3QgU2VsZWN0IG9iamVjdCAoMSYjeDNEO2luY2x1ZGUsIC0xJiN4M0Q7ZXhjbHVkZSkgbGlrZSB7XFwmcXVvdDtJZFxcJnF1b3Q7OiAxLCBcXCZxdW90O25hbWVcXCZxdW90OzogMSB9XG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuSW52aXRlUGFnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZpdGVzR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBmaWx0ZXIsIHNvcnQsIHNlbGVjdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIGludml0ZVxuICAgICAqIEBwYXJhbSBpbnZpdGVJZCBUaGUgaW52aXRlIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgaW52aXRlc0ludml0ZUlkRGVsZXRlKGludml0ZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmludml0ZXNJbnZpdGVJZERlbGV0ZVdpdGhIdHRwSW5mbyhpbnZpdGVJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBpbnZpdGVcbiAgICAgKiBAcGFyYW0gaW52aXRlSWQgVGhlIGludml0ZSBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNJbnZpdGVJZEdldChpbnZpdGVJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuSW52aXRlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmludml0ZXNJbnZpdGVJZEdldFdpdGhIdHRwSW5mbyhpbnZpdGVJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGludml0ZVxuICAgICAqIEBwYXJhbSBpbnZpdGVJZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRJbnZpdGUgdXBkYXRlZCBpbnZpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW52aXRlc0ludml0ZUlkUHV0KGludml0ZUlkOiBzdHJpbmcsIHVwZGF0ZWRJbnZpdGU6IG1vZGVscy5JbnZpdGVVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5JbnZpdGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52aXRlc0ludml0ZUlkUHV0V2l0aEh0dHBJbmZvKGludml0ZUlkLCB1cGRhdGVkSW52aXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IGludml0ZVxuICAgICAqIEBwYXJhbSBpbnZpdGUgWW91ciBuZXcgaW52aXRlXG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNQb3N0KGludml0ZTogbW9kZWxzLk5ld0ludml0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkludml0ZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZpdGVzUG9zdFdpdGhIdHRwSW5mbyhpbnZpdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gaW52aXRlQnVsa1VwZGF0ZSBVc2UgZmlsdGVyIHRvIGZpbmQgdGhlIGludml0ZXMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW52aXRlc1B1dChmaWx0ZXI6IHN0cmluZywgaW52aXRlQnVsa1VwZGF0ZTogbW9kZWxzLkludml0ZUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrVXBkYXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52aXRlc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIGludml0ZUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBpbnZpdGVzXG4gICAgICogQHBhcmFtIGludml0ZXMgTXVsdGlwbGUgaW52aXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBpbnZpdGVzQnVsa1Bvc3RXaXRoSHR0cEluZm8oaW52aXRlcz86IG1vZGVscy5OZXdJbnZpdGVBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvaW52aXRlcy9idWxrJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogaW52aXRlcyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShpbnZpdGVzKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBpbnZpdGVzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2ludml0ZXMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgaW52aXRlc0RlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmV0dXJucyBpbnZpdGVzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7aXNQdWJsaWNcXCZxdW90OzogXFwmcXVvdDt0cnVlXFwmcXVvdDt9XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEgfVxuICAgICAqIEBwYXJhbSBzZWxlY3QgU2VsZWN0IG9iamVjdCAoMSYjeDNEO2luY2x1ZGUsIC0xJiN4M0Q7ZXhjbHVkZSkgbGlrZSB7XFwmcXVvdDtJZFxcJnF1b3Q7OiAxLCBcXCZxdW90O25hbWVcXCZxdW90OzogMSB9XG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9pbnZpdGVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBpbnZpdGVcbiAgICAgKiBAcGFyYW0gaW52aXRlSWQgVGhlIGludml0ZSBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNJbnZpdGVJZERlbGV0ZVdpdGhIdHRwSW5mbyhpbnZpdGVJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9pbnZpdGVzLyR7aW52aXRlSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2ludml0ZUlkJyArICd9JywgU3RyaW5nKGludml0ZUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnZpdGVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpbnZpdGVJZCA9PT0gbnVsbCB8fCBpbnZpdGVJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpbnZpdGVJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGludml0ZXNJbnZpdGVJZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgaW52aXRlXG4gICAgICogQHBhcmFtIGludml0ZUlkIFRoZSBpbnZpdGUgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBpbnZpdGVzSW52aXRlSWRHZXRXaXRoSHR0cEluZm8oaW52aXRlSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvaW52aXRlcy8ke2ludml0ZUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdpbnZpdGVJZCcgKyAnfScsIFN0cmluZyhpbnZpdGVJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaW52aXRlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoaW52aXRlSWQgPT09IG51bGwgfHwgaW52aXRlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgaW52aXRlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBpbnZpdGVzSW52aXRlSWRHZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiB1cGRhdGUgZXhpc3RpbmcgaW52aXRlXG4gICAgICogQHBhcmFtIGludml0ZUlkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZEludml0ZSB1cGRhdGVkIGludml0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpbnZpdGVzSW52aXRlSWRQdXRXaXRoSHR0cEluZm8oaW52aXRlSWQ6IHN0cmluZywgdXBkYXRlZEludml0ZTogbW9kZWxzLkludml0ZVVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvaW52aXRlcy8ke2ludml0ZUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdpbnZpdGVJZCcgKyAnfScsIFN0cmluZyhpbnZpdGVJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaW52aXRlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoaW52aXRlSWQgPT09IG51bGwgfHwgaW52aXRlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgaW52aXRlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBpbnZpdGVzSW52aXRlSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZEludml0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkSW52aXRlID09PSBudWxsIHx8IHVwZGF0ZWRJbnZpdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZEludml0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGludml0ZXNJbnZpdGVJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZEludml0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkSW52aXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IGludml0ZVxuICAgICAqIEBwYXJhbSBpbnZpdGUgWW91ciBuZXcgaW52aXRlXG4gICAgICovXG4gICAgcHVibGljIGludml0ZXNQb3N0V2l0aEh0dHBJbmZvKGludml0ZTogbW9kZWxzLk5ld0ludml0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvaW52aXRlcyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnZpdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoaW52aXRlID09PSBudWxsIHx8IGludml0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpbnZpdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBpbnZpdGVzUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGludml0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gaW52aXRlQnVsa1VwZGF0ZSBVc2UgZmlsdGVyIHRvIGZpbmQgdGhlIGludml0ZXMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW52aXRlc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgaW52aXRlQnVsa1VwZGF0ZTogbW9kZWxzLkludml0ZUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2ludml0ZXMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgaW52aXRlc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnZpdGVCdWxrVXBkYXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGludml0ZUJ1bGtVcGRhdGUgPT09IG51bGwgfHwgaW52aXRlQnVsa1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpbnZpdGVCdWxrVXBkYXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgaW52aXRlc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBpbnZpdGVCdWxrVXBkYXRlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGludml0ZUJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9JbnZpdGVzQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIExvZ2luQXBpIHtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IG5ldyBIZWFkZXJzKHsnQXV0aG9yaXphdGlvbic6IHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXl9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFVzZXIgbG9naW4gd2l0aCBzcGVjaWZpYyBkaXJlY3RvcnkuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gbG9naW4gdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogIHwgZGlyZWN0b3J5VHlwZSB8IGFjY291bnRJZCB8IGFjY291bnRQYXNzd29yZCB8IHwtLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwgfCBzYmNsb3VkIHwgZW1haWwgfCBwYXNzd29yZCB8IHwgYW5vbnltb3VzY2xvdWQgfCB1c2VybmFtZSB8IHBhc3N3b3JkIHwgXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIHVzZXJMb2dpblJlcXVlc3QgVXNlciBsb2dpbiByZXF1ZXN0XG4gICAgICovXG4gICAgcHVibGljIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0KHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIHVzZXJMb2dpblJlcXVlc3Q/OiBtb2RlbHMuVXNlckxvZ2luUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXJMb2dpblJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIGRpcmVjdG9yeUlkLCBzYkNsaWVudFNlY3JldCwgdXNlckxvZ2luUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBsb2dpbiB3aXRoIHNvY2lhbCBkaXJlY3RvcnkgYW5kIHNlcnZlcnNpZGUgb2F1dGggZmxvdy4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBsb2dpbiB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiBcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSByYW5kb20gc3RhdGUgdGhhdCB3YXMgcHJvdmlkZWQgaW4gdGhlIGludGVyYWN0aXZlIG9hdXRoIGZsb3dcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICovXG4gICAgcHVibGljIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3Qoc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXJMb2dpblJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBsb2dpbiB3aXRoIGEgc3BlY2lmaWMgb3JnYW5pemF0aW9uXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBpZCBvZiB0aGUgbG9naW4gdXNlclxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gdXNlckxvZ2luUmVxdWVzdCBVc2VyIGxvZ2luIHJlcXVlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFBvc3Qoc2JDbGllbnRJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgdXNlckxvZ2luUmVxdWVzdD86IG1vZGVscy5Vc2VyTG9naW5SZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlckxvZ2luUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgb3JnYW5pemF0aW9uSWQsIHNiQ2xpZW50U2VjcmV0LCB1c2VyTG9naW5SZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBVc2VyIGxvZ2luIHdpdGggYSBzcGVjaWZpYyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIGlkIG9mIHRoZSBsb2dpbiB1c2VyXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgdGhlIHByb3ZpZGVyIGlkIG9mIHRoZSB0YXJnZXQgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSB1c2VyTG9naW5SZXF1ZXN0IFVzZXIgbG9naW4gcmVxdWVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIHVzZXJMb2dpblJlcXVlc3Q/OiBtb2RlbHMuVXNlckxvZ2luUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXJMb2dpblJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIG9yZ2FuaXphdGlvbklkLCBwcm92aWRlcklkLCBzYkNsaWVudFNlY3JldCwgdXNlckxvZ2luUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBsb2dpbiB3aXRoIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gdXNlckxvZ2luUmVxdWVzdCBVc2VyIGxvZ2luIHJlcXVlc3QgY3JlZGVudGlhbHNcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICovXG4gICAgcHVibGljIGxvZ2luUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIHVzZXJMb2dpblJlcXVlc3Q6IG1vZGVscy5Vc2VyTG9naW5SZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXJMb2dpblJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCB1c2VyTG9naW5SZXF1ZXN0LCBzYkNsaWVudFNlY3JldCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBVc2VyIGxvZ2luIHdpdGggc3BlY2lmaWMgZGlyZWN0b3J5LiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIGxvZ2luIHRoZSB1c2VyIGRlcGVuZCBvbiB0aGUgZGlyZWN0b3J5IHR5cGU6ICB8IGRpcmVjdG9yeVR5cGUgfCBhY2NvdW50SWQgfCBhY2NvdW50UGFzc3dvcmQgfCB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tfC0tLS0tLS0tLS18IHwgc2JjbG91ZCB8IGVtYWlsIHwgcGFzc3dvcmQgfCB8IGFub255bW91c2Nsb3VkIHwgdXNlcm5hbWUgfCBwYXNzd29yZCB8IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSB1c2VyTG9naW5SZXF1ZXN0IFVzZXIgbG9naW4gcmVxdWVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCB1c2VyTG9naW5SZXF1ZXN0PzogbW9kZWxzLlVzZXJMb2dpblJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2xvZ2luL2RpcmVjdG9yeS8ke2RpcmVjdG9yeUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2RpcmVjdG9yeUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUlkID09PSBudWxsIHx8IGRpcmVjdG9yeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGRpcmVjdG9yeUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5EaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVzZXJMb2dpblJlcXVlc3QgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXNlckxvZ2luUmVxdWVzdCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBsb2dpbiB3aXRoIHNvY2lhbCBkaXJlY3RvcnkgYW5kIHNlcnZlcnNpZGUgb2F1dGggZmxvdy4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBsb2dpbiB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiBcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSByYW5kb20gc3RhdGUgdGhhdCB3YXMgcHJvdmlkZWQgaW4gdGhlIGludGVyYWN0aXZlIG9hdXRoIGZsb3dcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICovXG4gICAgcHVibGljIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbG9naW4vZGlyZWN0b3J5LyR7ZGlyZWN0b3J5SWR9L3Rva2VuJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5EaXJlY3RvcnlEaXJlY3RvcnlJZFRva2VuUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChkaXJlY3RvcnlJZCA9PT0gbnVsbCB8fCBkaXJlY3RvcnlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncmFuZG9tU3RhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgPT09IG51bGwgfHwgcmFuZG9tU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmFuZG9tU3RhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbkRpcmVjdG9yeURpcmVjdG9yeUlkVG9rZW5Qb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5kb21TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyYW5kb21TdGF0ZScsIDxhbnk+cmFuZG9tU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBVc2VyIGxvZ2luIHdpdGggYSBzcGVjaWZpYyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCB0aGUgb3JnYW5pemF0aW9uIGlkIG9mIHRoZSBsb2dpbiB1c2VyXG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSB1c2VyTG9naW5SZXF1ZXN0IFVzZXIgbG9naW4gcmVxdWVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCB1c2VyTG9naW5SZXF1ZXN0PzogbW9kZWxzLlVzZXJMb2dpblJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2xvZ2luL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdvcmdhbml6YXRpb25JZCcgKyAnfScsIFN0cmluZyhvcmdhbml6YXRpb25JZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVzZXJMb2dpblJlcXVlc3QgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXNlckxvZ2luUmVxdWVzdCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBsb2dpbiB3aXRoIGEgc3BlY2lmaWMgb3JnYW5pemF0aW9uXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBpZCBvZiB0aGUgbG9naW4gdXNlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIHRoZSBwcm92aWRlciBpZCBvZiB0aGUgdGFyZ2V0IGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gdXNlckxvZ2luUmVxdWVzdCBVc2VyIGxvZ2luIHJlcXVlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9naW5Pcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFByb3ZpZGVyUHJvdmlkZXJJZFBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCBwcm92aWRlcklkOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCB1c2VyTG9naW5SZXF1ZXN0PzogbW9kZWxzLlVzZXJMb2dpblJlcXVlc3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL2xvZ2luL29yZ2FuaXphdGlvbi8ke29yZ2FuaXphdGlvbklkfS9wcm92aWRlci8ke3Byb3ZpZGVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdwcm92aWRlcklkJyArICd9JywgU3RyaW5nKHByb3ZpZGVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdvcmdhbml6YXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCA9PT0gbnVsbCB8fCBvcmdhbml6YXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdhbml6YXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGxvZ2luT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3Byb3ZpZGVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocHJvdmlkZXJJZCA9PT0gbnVsbCB8fCBwcm92aWRlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHByb3ZpZGVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpbk9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LWlkJywgU3RyaW5nKHNiQ2xpZW50SWQpKTtcblxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIFN0cmluZyhzYkNsaWVudFNlY3JldCkpO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXNlckxvZ2luUmVxdWVzdCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1c2VyTG9naW5SZXF1ZXN0KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBVc2VyIGxvZ2luIHdpdGggZGVmYXVsdCBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSB1c2VyTG9naW5SZXF1ZXN0IFVzZXIgbG9naW4gcmVxdWVzdCBjcmVkZW50aWFsc1xuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9naW5Qb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgdXNlckxvZ2luUmVxdWVzdDogbW9kZWxzLlVzZXJMb2dpblJlcXVlc3QsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9sb2dpbic7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbG9naW5Qb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3VzZXJMb2dpblJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodXNlckxvZ2luUmVxdWVzdCA9PT0gbnVsbCB8fCB1c2VyTG9naW5SZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHVzZXJMb2dpblJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBsb2dpblBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVzZXJMb2dpblJlcXVlc3QgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXNlckxvZ2luUmVxdWVzdCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL0xvZ2luQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1vbmdvRGF0YUFwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IGRhdGEgaXRlbXNcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YUl0ZW1zIE11bHRpcGxlIGRhdGEgaXRlbXNcbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFCdWxrUG9zdChtb25nb01vZGVsSWQ6IHN0cmluZywgbW9uZ29EYXRhSXRlbXM6IG1vZGVscy5OZXdNb25nb0RhdGFBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvRGF0YUFycmF5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNNb25nb01vZGVsSWREYXRhQnVsa1Bvc3RXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBtb25nb0RhdGFJdGVtcywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgbW9uZ29fbW9kZWxzXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YURlbGV0ZShtb25nb01vZGVsSWQ6IHN0cmluZywgZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrRGVsZXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc01vbmdvTW9kZWxJZERhdGFEZWxldGVXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBmaWx0ZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgZGF0YSBpdGVtcyBwYWdpbmF0ZWRcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3NvbWVuYW1lXFwmcXVvdDt9XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEgfVxuICAgICAqIEBwYXJhbSBzZWxlY3QgU2VsZWN0IG9iamVjdCAoMSYjeDNEO2luY2x1ZGUsIC0xJiN4M0Q7ZXhjbHVkZSkgbGlrZSB7XFwmcXVvdDtJZFxcJnF1b3Q7OiAxLCBcXCZxdW90O25hbWVcXCZxdW90OzogMSB9XG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhR2V0KG1vbmdvTW9kZWxJZDogc3RyaW5nLCBwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Nb25nb0RhdGFQYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNNb25nb01vZGVsSWREYXRhR2V0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlciwgc29ydCwgc2VsZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgbW9uZ29fbW9kZWxcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGlkIFRoZSBkYXRhIGl0ZW0gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUlkRGVsZXRlKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBpZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWREZWxldGVXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBpZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBkYXRhIGl0ZW1cbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGlkIFRoZSBkYXRhIGl0ZW0gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUlkR2V0KG1vbmdvTW9kZWxJZDogc3RyaW5nLCBpZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuTW9uZ29EYXRhPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWRHZXRXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBpZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIGRhdGEgaXRlbVxuICAgICAqIEBwYXJhbSBtb25nb01vZGVsSWQgVGhlIG1vbmdvX21vZGVsIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gaWQgVGhlIGRhdGEgaXRlbSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRNb25nb0RhdGEgdXBkYXRlZCBtb25nb19kYXRhXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWRQdXQobW9uZ29Nb2RlbElkOiBzdHJpbmcsIGlkOiBzdHJpbmcsIHVwZGF0ZWRNb25nb0RhdGE6IG1vZGVscy5Nb25nb0RhdGFVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Nb25nb0RhdGE+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc01vbmdvTW9kZWxJZERhdGFJZFB1dFdpdGhIdHRwSW5mbyhtb25nb01vZGVsSWQsIGlkLCB1cGRhdGVkTW9uZ29EYXRhLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IGRhdGEgZG9jdW1lbnRcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YUl0ZW0gbmV3IGRhdGEgaXRlbVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YVBvc3QobW9uZ29Nb2RlbElkOiBzdHJpbmcsIG1vbmdvRGF0YUl0ZW06IG1vZGVscy5OZXdNb25nb0RhdGEsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Nb25nb0RhdGE+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc01vbmdvTW9kZWxJZERhdGFQb3N0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZCwgbW9uZ29EYXRhSXRlbSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgZGF0YSBpdGVtc1xuICAgICAqIEBwYXJhbSBtb25nb01vZGVsSWQgVGhlIG1vbmdvX21vZGVsIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gZmlsdGVyIE1vbmdvb3NlIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG1vbmdvRGF0YUJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBkYXRhIGl0ZW1zIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhUHV0KG1vbmdvTW9kZWxJZDogc3RyaW5nLCBmaWx0ZXI6IHN0cmluZywgbW9uZ29EYXRhQnVsa1VwZGF0ZTogbW9kZWxzLk1vbmdvRGF0YUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrVXBkYXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc01vbmdvTW9kZWxJZERhdGFQdXRXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBmaWx0ZXIsIG1vbmdvRGF0YUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBkYXRhIGl0ZW1zXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBtb25nb0RhdGFJdGVtcyBNdWx0aXBsZSBkYXRhIGl0ZW1zXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhQnVsa1Bvc3RXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkOiBzdHJpbmcsIG1vbmdvRGF0YUl0ZW1zOiBtb2RlbHMuTmV3TW9uZ29EYXRhQXJyYXksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzLyR7bW9uZ29Nb2RlbElkfS9kYXRhL2J1bGsnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnbW9uZ29Nb2RlbElkJyArICd9JywgU3RyaW5nKG1vbmdvTW9kZWxJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG1vbmdvTW9kZWxJZCA9PT0gbnVsbCB8fCBtb25nb01vZGVsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFCdWxrUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb0RhdGFJdGVtcycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb0RhdGFJdGVtcyA9PT0gbnVsbCB8fCBtb25nb0RhdGFJdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb0RhdGFJdGVtcyB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhQnVsa1Bvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBtb25nb0RhdGFJdGVtcyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShtb25nb0RhdGFJdGVtcyksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgbW9uZ29fbW9kZWxzXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YURlbGV0ZVdpdGhIdHRwSW5mbyhtb25nb01vZGVsSWQ6IHN0cmluZywgZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzLyR7bW9uZ29Nb2RlbElkfS9kYXRhJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvTW9kZWxJZCcgKyAnfScsIFN0cmluZyhtb25nb01vZGVsSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvTW9kZWxJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb01vZGVsSWQgPT09IG51bGwgfHwgbW9uZ29Nb2RlbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvTW9kZWxJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIGRhdGEgaXRlbXMgcGFnaW5hdGVkXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzb21lbmFtZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUdldFdpdGhIdHRwSW5mbyhtb25nb01vZGVsSWQ6IHN0cmluZywgcGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy8ke21vbmdvTW9kZWxJZH0vZGF0YSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb01vZGVsSWQnICsgJ30nLCBTdHJpbmcobW9uZ29Nb2RlbElkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb01vZGVsSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29Nb2RlbElkID09PSBudWxsIHx8IG1vbmdvTW9kZWxJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb01vZGVsSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZVNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZVNpemUnLCA8YW55PnBhZ2VTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VOdW1iZXInLCA8YW55PnBhZ2VOdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzb3J0JywgPGFueT5zb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0JywgPGFueT5zZWxlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgbW9uZ29fbW9kZWxcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGlkIFRoZSBkYXRhIGl0ZW0gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUlkRGVsZXRlV2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBpZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy8ke21vbmdvTW9kZWxJZH0vZGF0YS8ke2lkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb01vZGVsSWQnICsgJ30nLCBTdHJpbmcobW9uZ29Nb2RlbElkKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdpZCcgKyAnfScsIFN0cmluZyhpZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG1vbmdvTW9kZWxJZCA9PT0gbnVsbCB8fCBtb25nb01vZGVsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFJZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIGRhdGEgaXRlbVxuICAgICAqIEBwYXJhbSBtb25nb01vZGVsSWQgVGhlIG1vbmdvX21vZGVsIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gaWQgVGhlIGRhdGEgaXRlbSBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWRHZXRXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkOiBzdHJpbmcsIGlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzLyR7bW9uZ29Nb2RlbElkfS9kYXRhLyR7aWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvTW9kZWxJZCcgKyAnfScsIFN0cmluZyhtb25nb01vZGVsSWQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2lkJyArICd9JywgU3RyaW5nKGlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb01vZGVsSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29Nb2RlbElkID09PSBudWxsIHx8IG1vbmdvTW9kZWxJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb01vZGVsSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGlkID09PSBudWxsIHx8IGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyBkYXRhIGl0ZW1cbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGlkIFRoZSBkYXRhIGl0ZW0gaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkTW9uZ29EYXRhIHVwZGF0ZWQgbW9uZ29fZGF0YVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YUlkUHV0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBpZDogc3RyaW5nLCB1cGRhdGVkTW9uZ29EYXRhOiBtb2RlbHMuTW9uZ29EYXRhVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy8ke21vbmdvTW9kZWxJZH0vZGF0YS8ke2lkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb01vZGVsSWQnICsgJ30nLCBTdHJpbmcobW9uZ29Nb2RlbElkKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdpZCcgKyAnfScsIFN0cmluZyhpZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG1vbmdvTW9kZWxJZCA9PT0gbnVsbCB8fCBtb25nb01vZGVsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZE1vbmdvRGF0YScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkTW9uZ29EYXRhID09PSBudWxsIHx8IHVwZGF0ZWRNb25nb0RhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZE1vbmdvRGF0YSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVwZGF0ZWRNb25nb0RhdGEgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXBkYXRlZE1vbmdvRGF0YSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBkYXRhIGRvY3VtZW50XG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBtb25nb0RhdGFJdGVtIG5ldyBkYXRhIGl0ZW1cbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc01vbmdvTW9kZWxJZERhdGFQb3N0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBtb25nb0RhdGFJdGVtOiBtb2RlbHMuTmV3TW9uZ29EYXRhLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy8ke21vbmdvTW9kZWxJZH0vZGF0YSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb01vZGVsSWQnICsgJ30nLCBTdHJpbmcobW9uZ29Nb2RlbElkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb01vZGVsSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29Nb2RlbElkID09PSBudWxsIHx8IG1vbmdvTW9kZWxJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb01vZGVsSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YVBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29EYXRhSXRlbScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb0RhdGFJdGVtID09PSBudWxsIHx8IG1vbmdvRGF0YUl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29EYXRhSXRlbSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IG1vbmdvRGF0YUl0ZW0gPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkobW9uZ29EYXRhSXRlbSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgZGF0YSBpdGVtc1xuICAgICAqIEBwYXJhbSBtb25nb01vZGVsSWQgVGhlIG1vbmdvX21vZGVsIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gZmlsdGVyIE1vbmdvb3NlIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG1vbmdvRGF0YUJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBkYXRhIGl0ZW1zIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhUHV0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBmaWx0ZXI6IHN0cmluZywgbW9uZ29EYXRhQnVsa1VwZGF0ZTogbW9kZWxzLk1vbmdvRGF0YUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzLyR7bW9uZ29Nb2RlbElkfS9kYXRhJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvTW9kZWxJZCcgKyAnfScsIFN0cmluZyhtb25nb01vZGVsSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvTW9kZWxJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb01vZGVsSWQgPT09IG51bGwgfHwgbW9uZ29Nb2RlbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvTW9kZWxJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWREYXRhUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvRGF0YUJ1bGtVcGRhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29EYXRhQnVsa1VwZGF0ZSA9PT0gbnVsbCB8fCBtb25nb0RhdGFCdWxrVXBkYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvRGF0YUJ1bGtVcGRhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkRGF0YVB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBtb25nb0RhdGFCdWxrVXBkYXRlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG1vbmdvRGF0YUJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9Nb25nb0RhdGFBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTW9uZ29EYXRhYmFzZXNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBtb25nb19kYXRhYmFzZXNcbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZXMgTXVsdGlwbGUgbW9uZ29fZGF0YWJhc2VzXG4gICAgICovXG4gICAgcHVibGljIG1EYkJ1bGtQb3N0KG1vbmdvRGF0YWJhc2VzPzogbW9kZWxzLk5ld01vbmdvRGF0YWJhc2VBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvRGF0YWJhc2VBcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tRGJCdWxrUG9zdFdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlcywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgbW9uZ29fZGF0YWJhc2VzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogeyBcXCZxdW90OyRsaWtlXFwmcXVvdDsgOiBcXCZxdW90O2FwcCVcXCZxdW90O30sIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICovXG4gICAgcHVibGljIG1EYkRlbGV0ZShmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtEZWxldGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tRGJEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG1vbmdvX2RhdGFiYXNlc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzb21lbmFtZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuTW9uZ29EYXRhYmFzZVBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubURiR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBmaWx0ZXIsIHNvcnQsIHNlbGVjdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIG1vbmdvX2RhdGFiYXNlXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2VJZCBUaGUgbW9uZ29fZGF0YWJhc2UgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJNb25nb0RhdGFiYXNlSWREZWxldGUobW9uZ29EYXRhYmFzZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1EYk1vbmdvRGF0YWJhc2VJZERlbGV0ZVdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgbW9uZ29fZGF0YWJhc2VcbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZUlkIFRoZSBtb25nb19kYXRhYmFzZSBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG1EYk1vbmdvRGF0YWJhc2VJZEdldChtb25nb0RhdGFiYXNlSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvRGF0YWJhc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubURiTW9uZ29EYXRhYmFzZUlkR2V0V2l0aEh0dHBJbmZvKG1vbmdvRGF0YWJhc2VJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIG1vbmdvX2RhdGFiYXNlXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2VJZCBUaGUgbW9uZ28gZGF0YWJhc2UgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkTW9uZ29EYXRhYmFzZSB1cGRhdGVkIG1vbmdvX2RhdGFiYXNlXG4gICAgICovXG4gICAgcHVibGljIG1EYk1vbmdvRGF0YWJhc2VJZFB1dChtb25nb0RhdGFiYXNlSWQ6IHN0cmluZywgdXBkYXRlZE1vbmdvRGF0YWJhc2U6IG1vZGVscy5Nb25nb0RhdGFiYXNlVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuTW9uZ29EYXRhYmFzZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tRGJNb25nb0RhdGFiYXNlSWRQdXRXaXRoSHR0cEluZm8obW9uZ29EYXRhYmFzZUlkLCB1cGRhdGVkTW9uZ29EYXRhYmFzZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVGVzdCBjb25uZWN0aW9uLiBJZiB0aGUgY29ubmVjdGlvbiBhdHRlbXB0IGZhaWxzLCBpbmZvcm1hdGlvbiBpcyBwcm92aWRlZCBpbiB0aGUgcGF5bG9hZCB3aXRoIHN0YXR1cyBjb2RlIDIwMC5cbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZUlkIFRoZSBtb25nb19kYXRhYmFzZSBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG1EYk1vbmdvRGF0YWJhc2VJZFRlc3RQb3N0KG1vbmdvRGF0YWJhc2VJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuTW9uZ29EYXRhYmFzZVRlc3RSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tRGJNb25nb0RhdGFiYXNlSWRUZXN0UG9zdFdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgbW9uZ29fZGF0YWJhc2VcbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZSBZb3VyIG5ldyBtb25nb19kYXRhYmFzZVxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJQb3N0KG1vbmdvRGF0YWJhc2U/OiBtb2RlbHMuTmV3TW9uZ29EYXRhYmFzZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvRGF0YWJhc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubURiUG9zdFdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIHVwZGF0ZSBleGlzdGluZyBtb25nb19kYXRhYmFzZXNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBtb25nb0RhdGFiYXNlQnVsa1VwZGF0ZSBVc2UgZmlsdGVyIHRvIGZpbmQgdGhlIG1vbmdvX2RhdGFiYXNlcyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJQdXQoZmlsdGVyOiBzdHJpbmcsIG1vbmdvRGF0YWJhc2VCdWxrVXBkYXRlOiBtb2RlbHMuTW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrVXBkYXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubURiUHV0V2l0aEh0dHBJbmZvKGZpbHRlciwgbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBtb25nb19kYXRhYmFzZXNcbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZXMgTXVsdGlwbGUgbW9uZ29fZGF0YWJhc2VzXG4gICAgICovXG4gICAgcHVibGljIG1EYkJ1bGtQb3N0V2l0aEh0dHBJbmZvKG1vbmdvRGF0YWJhc2VzPzogbW9kZWxzLk5ld01vbmdvRGF0YWJhc2VBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9kYi9idWxrJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogbW9uZ29EYXRhYmFzZXMgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkobW9uZ29EYXRhYmFzZXMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIG1vbmdvX2RhdGFiYXNlc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vZGInO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbURiRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG1vbmdvX2RhdGFiYXNlc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzb21lbmFtZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL2RiJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBtb25nb19kYXRhYmFzZVxuICAgICAqIEBwYXJhbSBtb25nb0RhdGFiYXNlSWQgVGhlIG1vbmdvX2RhdGFiYXNlIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgbURiTW9uZ29EYXRhYmFzZUlkRGVsZXRlV2l0aEh0dHBJbmZvKG1vbmdvRGF0YWJhc2VJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL2RiLyR7bW9uZ29EYXRhYmFzZUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb0RhdGFiYXNlSWQnICsgJ30nLCBTdHJpbmcobW9uZ29EYXRhYmFzZUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb0RhdGFiYXNlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29EYXRhYmFzZUlkID09PSBudWxsIHx8IG1vbmdvRGF0YWJhc2VJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb0RhdGFiYXNlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtRGJNb25nb0RhdGFiYXNlSWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIG1vbmdvX2RhdGFiYXNlXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2VJZCBUaGUgbW9uZ29fZGF0YWJhc2UgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJNb25nb0RhdGFiYXNlSWRHZXRXaXRoSHR0cEluZm8obW9uZ29EYXRhYmFzZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vZGIvJHttb25nb0RhdGFiYXNlSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvRGF0YWJhc2VJZCcgKyAnfScsIFN0cmluZyhtb25nb0RhdGFiYXNlSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvRGF0YWJhc2VJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb0RhdGFiYXNlSWQgPT09IG51bGwgfHwgbW9uZ29EYXRhYmFzZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvRGF0YWJhc2VJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1EYk1vbmdvRGF0YWJhc2VJZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiB1cGRhdGUgZXhpc3RpbmcgbW9uZ29fZGF0YWJhc2VcbiAgICAgKiBAcGFyYW0gbW9uZ29EYXRhYmFzZUlkIFRoZSBtb25nbyBkYXRhYmFzZSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRNb25nb0RhdGFiYXNlIHVwZGF0ZWQgbW9uZ29fZGF0YWJhc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgbURiTW9uZ29EYXRhYmFzZUlkUHV0V2l0aEh0dHBJbmZvKG1vbmdvRGF0YWJhc2VJZDogc3RyaW5nLCB1cGRhdGVkTW9uZ29EYXRhYmFzZTogbW9kZWxzLk1vbmdvRGF0YWJhc2VVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vZGIvJHttb25nb0RhdGFiYXNlSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvRGF0YWJhc2VJZCcgKyAnfScsIFN0cmluZyhtb25nb0RhdGFiYXNlSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvRGF0YWJhc2VJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb0RhdGFiYXNlSWQgPT09IG51bGwgfHwgbW9uZ29EYXRhYmFzZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvRGF0YWJhc2VJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1EYk1vbmdvRGF0YWJhc2VJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1cGRhdGVkTW9uZ29EYXRhYmFzZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkTW9uZ29EYXRhYmFzZSA9PT0gbnVsbCB8fCB1cGRhdGVkTW9uZ29EYXRhYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1cGRhdGVkTW9uZ29EYXRhYmFzZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1EYk1vbmdvRGF0YWJhc2VJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZE1vbmdvRGF0YWJhc2UgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXBkYXRlZE1vbmdvRGF0YWJhc2UpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRlc3QgY29ubmVjdGlvbi4gSWYgdGhlIGNvbm5lY3Rpb24gYXR0ZW1wdCBmYWlscywgaW5mb3JtYXRpb24gaXMgcHJvdmlkZWQgaW4gdGhlIHBheWxvYWQgd2l0aCBzdGF0dXMgY29kZSAyMDAuXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2VJZCBUaGUgbW9uZ29fZGF0YWJhc2UgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtRGJNb25nb0RhdGFiYXNlSWRUZXN0UG9zdFdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9kYi8ke21vbmdvRGF0YWJhc2VJZH0vdGVzdCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb0RhdGFiYXNlSWQnICsgJ30nLCBTdHJpbmcobW9uZ29EYXRhYmFzZUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb0RhdGFiYXNlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29EYXRhYmFzZUlkID09PSBudWxsIHx8IG1vbmdvRGF0YWJhc2VJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb0RhdGFiYXNlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtRGJNb25nb0RhdGFiYXNlSWRUZXN0UG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IG1vbmdvX2RhdGFiYXNlXG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2UgWW91ciBuZXcgbW9uZ29fZGF0YWJhc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgbURiUG9zdFdpdGhIdHRwSW5mbyhtb25nb0RhdGFiYXNlPzogbW9kZWxzLk5ld01vbmdvRGF0YWJhc2UsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vZGInO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBtb25nb0RhdGFiYXNlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG1vbmdvRGF0YWJhc2UpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIG1vbmdvX2RhdGFiYXNlc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG1vbmdvRGF0YWJhc2VCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgbW9uZ29fZGF0YWJhc2VzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG1EYlB1dFdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGU6IG1vZGVscy5Nb25nb0RhdGFiYXNlQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9kYic7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtRGJQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUgPT09IG51bGwgfHwgbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtRGJQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogbW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkobW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9Nb25nb0RhdGFiYXNlc0FwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNb25nb01vZGVsc0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBtb25nb01vZGVscyBNdWx0aXBsZSBtb25nb19tb2RlbHNcbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc0J1bGtQb3N0KG1vbmdvTW9kZWxzPzogbW9kZWxzLk5ld01vbmdvTW9kZWxBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvTW9kZWxBcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tTW9kZWxzQnVsa1Bvc3RXaXRoSHR0cEluZm8obW9uZ29Nb2RlbHMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzRGVsZXRlKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzb21lbmFtZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzR2V0KHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvTW9kZWxQYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlciwgc29ydCwgc2VsZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgbW9uZ29fbW9kZWxcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWREZWxldGUobW9uZ29Nb2RlbElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNNb25nb01vZGVsSWREZWxldGVXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIG1vbmdvX21vZGVsXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkR2V0KG1vbmdvTW9kZWxJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuTW9uZ29Nb2RlbD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tTW9kZWxzTW9uZ29Nb2RlbElkR2V0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ28gbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkTW9uZ29Nb2RlbCB1cGRhdGVkIG1vbmdvX21vZGVsXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWRQdXQobW9uZ29Nb2RlbElkOiBzdHJpbmcsIHVwZGF0ZWRNb25nb01vZGVsOiBtb2RlbHMuTW9uZ29Nb2RlbFVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvTW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc01vbmdvTW9kZWxJZFB1dFdpdGhIdHRwSW5mbyhtb25nb01vZGVsSWQsIHVwZGF0ZWRNb25nb01vZGVsLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IG1vbmdvX21vZGVsXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWwgWW91ciBuZXcgbW9uZ29fbW9kZWxcbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc1Bvc3QobW9uZ29Nb2RlbDogbW9kZWxzLk5ld01vbmdvTW9kZWwsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Nb25nb01vZGVsPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Nb2RlbHNQb3N0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWwsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgbW9uZ29fbW9kZWxzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNQdXQoZmlsdGVyOiBzdHJpbmcsIG1vbmdvTW9kZWxCdWxrVXBkYXRlOiBtb2RlbHMuTW9uZ29Nb2RlbEJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrVXBkYXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIG1vbmdvTW9kZWxCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBWYWxpZGF0ZSBhIG1vbmdvIG1vZGVsIGRlZmluaXRpb24uIElmIHRoZSB2YWxpZGF0aW9uIGZhaWxzLCBpbmZvcm1hdGlvbiBpcyBwcm92aWRlZCBpbiB0aGUgcGF5bG9hZCB3aXRoIHN0YXR1cyBjb2RlIDIwMC5cbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbCBUaGUgbW9uZ29fbW9kZWxcbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc1ZhbGlkYXRlUG9zdChtb25nb01vZGVsOiBtb2RlbHMuTW9uZ29Nb2RlbCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk1vbmdvTW9kZWxWYWxpZGF0aW9uUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU1vZGVsc1ZhbGlkYXRlUG9zdFdpdGhIdHRwSW5mbyhtb25nb01vZGVsLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBtdWx0aXBsZSBuZXcgbW9uZ29fbW9kZWxzXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxzIE11bHRpcGxlIG1vbmdvX21vZGVsc1xuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzQnVsa1Bvc3RXaXRoSHR0cEluZm8obW9uZ29Nb2RlbHM/OiBtb2RlbHMuTmV3TW9uZ29Nb2RlbEFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy9idWxrJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogbW9uZ29Nb2RlbHMgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkobW9uZ29Nb2RlbHMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzRGVsZXRlV2l0aEh0dHBJbmZvKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBwYWdlU2l6ZSBJdGVtcyBwZXIgcGFnZVxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIGluZGV4IChzdGFydGluZyBmcm9tIDEpXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDtzb21lbmFtZVxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9tb2RlbHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgaWYgKHBhZ2VTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VTaXplJywgPGFueT5wYWdlU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlTnVtYmVyJywgPGFueT5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc29ydCcsIDxhbnk+c29ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NlbGVjdCcsIDxhbnk+c2VsZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ29fbW9kZWwgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBtTW9kZWxzTW9uZ29Nb2RlbElkRGVsZXRlV2l0aEh0dHBJbmZvKG1vbmdvTW9kZWxJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscy8ke21vbmdvTW9kZWxJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnbW9uZ29Nb2RlbElkJyArICd9JywgU3RyaW5nKG1vbmdvTW9kZWxJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG1vbmdvTW9kZWxJZCA9PT0gbnVsbCB8fCBtb25nb01vZGVsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc01vbmdvTW9kZWxJZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3RpbmcgbW9uZ29fbW9kZWxcbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbElkIFRoZSBtb25nb19tb2RlbCBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWRHZXRXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzLyR7bW9uZ29Nb2RlbElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdtb25nb01vZGVsSWQnICsgJ30nLCBTdHJpbmcobW9uZ29Nb2RlbElkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb01vZGVsSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29Nb2RlbElkID09PSBudWxsIHx8IG1vbmdvTW9kZWxJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb01vZGVsSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsXG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxJZCBUaGUgbW9uZ28gbW9kZWwgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkTW9uZ29Nb2RlbCB1cGRhdGVkIG1vbmdvX21vZGVsXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNNb25nb01vZGVsSWRQdXRXaXRoSHR0cEluZm8obW9uZ29Nb2RlbElkOiBzdHJpbmcsIHVwZGF0ZWRNb25nb01vZGVsOiBtb2RlbHMuTW9uZ29Nb2RlbFVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9tb2RlbHMvJHttb25nb01vZGVsSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ21vbmdvTW9kZWxJZCcgKyAnfScsIFN0cmluZyhtb25nb01vZGVsSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vbmdvTW9kZWxJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb01vZGVsSWQgPT09IG51bGwgfHwgbW9uZ29Nb2RlbElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG1vbmdvTW9kZWxJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNNb25nb01vZGVsSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZE1vbmdvTW9kZWwnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodXBkYXRlZE1vbmdvTW9kZWwgPT09IG51bGwgfHwgdXBkYXRlZE1vbmdvTW9kZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZE1vbmdvTW9kZWwgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzTW9uZ29Nb2RlbElkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiB1cGRhdGVkTW9uZ29Nb2RlbCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkTW9uZ29Nb2RlbCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBtb25nb19tb2RlbFxuICAgICAqIEBwYXJhbSBtb25nb01vZGVsIFlvdXIgbmV3IG1vbmdvX21vZGVsXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNQb3N0V2l0aEh0dHBJbmZvKG1vbmdvTW9kZWw6IG1vZGVscy5OZXdNb25nb01vZGVsLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9tL21vZGVscyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdtb25nb01vZGVsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG1vbmdvTW9kZWwgPT09IG51bGwgfHwgbW9uZ29Nb2RlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBtb25nb01vZGVsIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgbU1vZGVsc1Bvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBtb25nb01vZGVsID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG1vbmdvTW9kZWwpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIG1vbmdvX21vZGVsc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG1vbmdvTW9kZWxCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgbW9uZ29fbW9kZWxzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG1Nb2RlbHNQdXRXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIG1vbmdvTW9kZWxCdWxrVXBkYXRlOiBtb2RlbHMuTW9uZ29Nb2RlbEJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL20vbW9kZWxzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbEJ1bGtVcGRhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAobW9uZ29Nb2RlbEJ1bGtVcGRhdGUgPT09IG51bGwgfHwgbW9uZ29Nb2RlbEJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbEJ1bGtVcGRhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBtTW9kZWxzUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IG1vbmdvTW9kZWxCdWxrVXBkYXRlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG1vbmdvTW9kZWxCdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBWYWxpZGF0ZSBhIG1vbmdvIG1vZGVsIGRlZmluaXRpb24uIElmIHRoZSB2YWxpZGF0aW9uIGZhaWxzLCBpbmZvcm1hdGlvbiBpcyBwcm92aWRlZCBpbiB0aGUgcGF5bG9hZCB3aXRoIHN0YXR1cyBjb2RlIDIwMC5cbiAgICAgKiBAcGFyYW0gbW9uZ29Nb2RlbCBUaGUgbW9uZ29fbW9kZWxcbiAgICAgKi9cbiAgICBwdWJsaWMgbU1vZGVsc1ZhbGlkYXRlUG9zdFdpdGhIdHRwSW5mbyhtb25nb01vZGVsOiBtb2RlbHMuTW9uZ29Nb2RlbCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvbS9tb2RlbHMvdmFsaWRhdGUnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnbW9uZ29Nb2RlbCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChtb25nb01vZGVsID09PSBudWxsIHx8IG1vbmdvTW9kZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgbW9uZ29Nb2RlbCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG1Nb2RlbHNWYWxpZGF0ZVBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBtb25nb01vZGVsID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG1vbmdvTW9kZWwpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9Nb25nb01vZGVsc0FwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPcmdhbml6YXRpb25zQXBpIHtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IG5ldyBIZWFkZXJzKHsnQXV0aG9yaXphdGlvbic6IHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXl9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBtdWx0aXBsZSBuZXcgb3JnYW5pemF0aW9uc1xuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25zIE11bHRpcGxlIG9yZ2FuaXphdGlvbnNcbiAgICAgKi9cbiAgICBwdWJsaWMgb3JnYW5pemF0aW9uc0J1bGtQb3N0KG9yZ2FuaXphdGlvbnM/OiBtb2RlbHMuTmV3T3JnYW5pemF0aW9uQXJyYXksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Pcmdhbml6YXRpb25BcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmdhbml6YXRpb25zQnVsa1Bvc3RXaXRoSHR0cEluZm8ob3JnYW5pemF0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3Rpbmcgb3JnYW5pemF0aW9uc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBvcmdhbml6YXRpb25zRGVsZXRlKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yZ2FuaXphdGlvbnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG9yZ2FuaXphdGlvbnNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtpc1B1YmxpY1xcJnF1b3Q7OiBcXCZxdW90O3RydWVcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKiBAcGFyYW0gX3B1YmxpYyBGaXhlZCBmaWx0ZXIgZm9yIHB1YmxpYyBvcmdhbml6YXRpb25zXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBfcHVibGljPzogYm9vbGVhbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk9yZ2FuaXphdGlvblBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JnYW5pemF0aW9uc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyLCBzb3J0LCBzZWxlY3QsIF9wdWJsaWMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgVGhlIG9yZ2FuaXphdGlvbiBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZERlbGV0ZShvcmdhbml6YXRpb25JZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWREZWxldGVXaXRoSHR0cEluZm8ob3JnYW5pemF0aW9uSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3Rpbmcgb3JnYW5pemF0aW9uXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIFRoZSBvcmdhbml6YXRpb24gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBvcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWRHZXQob3JnYW5pemF0aW9uSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLk9yZ2FuaXphdGlvbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWRHZXRXaXRoSHR0cEluZm8ob3JnYW5pemF0aW9uSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBvcmdhbml6YXRpb24gaW52aXRlXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIFRoZSB0YXJnZXQgb3JnYW5pemF0aW9uIG9mIHlvdXIgaW52aXRlXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZEludml0ZXNQb3N0KG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Pcmdhbml6YXRpb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JnYW5pemF0aW9uc09yZ2FuaXphdGlvbklkSW52aXRlc1Bvc3RXaXRoSHR0cEluZm8ob3JnYW5pemF0aW9uSWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkT3JnYW5pemF0aW9uIHVwZGF0ZWQgb3JnYW5pemF0aW9uXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZFB1dChvcmdhbml6YXRpb25JZDogc3RyaW5nLCB1cGRhdGVkT3JnYW5pemF0aW9uOiBtb2RlbHMuT3JnYW5pemF0aW9uVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuT3JnYW5pemF0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZFB1dFdpdGhIdHRwSW5mbyhvcmdhbml6YXRpb25JZCwgdXBkYXRlZE9yZ2FuaXphdGlvbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uIFlvdXIgbmV3IG9yZ2FuaXphdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBvcmdhbml6YXRpb25zUG9zdChvcmdhbml6YXRpb24/OiBtb2RlbHMuTmV3T3JnYW5pemF0aW9uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuT3JnYW5pemF0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yZ2FuaXphdGlvbnNQb3N0V2l0aEh0dHBJbmZvKG9yZ2FuaXphdGlvbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25CdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgb3JnYW5pemF0aW9ucyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBvcmdhbml6YXRpb25zUHV0KGZpbHRlcjogc3RyaW5nLCBvcmdhbml6YXRpb25CdWxrVXBkYXRlOiBtb2RlbHMuT3JnYW5pemF0aW9uQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtVcGRhdGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmdhbml6YXRpb25zUHV0V2l0aEh0dHBJbmZvKGZpbHRlciwgb3JnYW5pemF0aW9uQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IG9yZ2FuaXphdGlvbnNcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9ucyBNdWx0aXBsZSBvcmdhbml6YXRpb25zXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNCdWxrUG9zdFdpdGhIdHRwSW5mbyhvcmdhbml6YXRpb25zPzogbW9kZWxzLk5ld09yZ2FuaXphdGlvbkFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9vcmdhbml6YXRpb25zL2J1bGsnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBvcmdhbml6YXRpb25zID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KG9yZ2FuaXphdGlvbnMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIG9yZ2FuaXphdGlvbnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgb3JnYW5pemF0aW9uc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvb3JnYW5pemF0aW9ucyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBvcmdhbml6YXRpb25zRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG9yZ2FuaXphdGlvbnNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtpc1B1YmxpY1xcJnF1b3Q7OiBcXCZxdW90O3RydWVcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKiBAcGFyYW0gX3B1YmxpYyBGaXhlZCBmaWx0ZXIgZm9yIHB1YmxpYyBvcmdhbml6YXRpb25zXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBfcHVibGljPzogYm9vbGVhbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvb3JnYW5pemF0aW9ucyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICBpZiAocGFnZVNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZVNpemUnLCA8YW55PnBhZ2VTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VOdW1iZXInLCA8YW55PnBhZ2VOdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzb3J0JywgPGFueT5zb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0JywgPGFueT5zZWxlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9wdWJsaWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncHVibGljJywgPGFueT5fcHVibGljKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIG9yZ2FuaXphdGlvblxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb25JZCBUaGUgb3JnYW5pemF0aW9uIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgb3JnYW5pemF0aW9uc09yZ2FuaXphdGlvbklkRGVsZXRlV2l0aEh0dHBJbmZvKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL29yZ2FuaXphdGlvbnMvJHtvcmdhbml6YXRpb25JZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnb3JnYW5pemF0aW9uSWQnICsgJ30nLCBTdHJpbmcob3JnYW5pemF0aW9uSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgb3JnYW5pemF0aW9uc09yZ2FuaXphdGlvbklkRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBvcmdhbml6YXRpb25cbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgVGhlIG9yZ2FuaXphdGlvbiBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZEdldFdpdGhIdHRwSW5mbyhvcmdhbml6YXRpb25JZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9vcmdhbml6YXRpb25zLyR7b3JnYW5pemF0aW9uSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdvcmdhbml6YXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCA9PT0gbnVsbCB8fCBvcmdhbml6YXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdhbml6YXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZEdldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBvcmdhbml6YXRpb24gaW52aXRlXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIFRoZSB0YXJnZXQgb3JnYW5pemF0aW9uIG9mIHlvdXIgaW52aXRlXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZEludml0ZXNQb3N0V2l0aEh0dHBJbmZvKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL29yZ2FuaXphdGlvbnMvJHtvcmdhbml6YXRpb25JZH0vaW52aXRlcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdvcmdhbml6YXRpb25JZCcgKyAnfScsIFN0cmluZyhvcmdhbml6YXRpb25JZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnb3JnYW5pemF0aW9uSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAob3JnYW5pemF0aW9uSWQgPT09IG51bGwgfHwgb3JnYW5pemF0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnYW5pemF0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBvcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWRJbnZpdGVzUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiB1cGRhdGUgZXhpc3Rpbmcgb3JnYW5pemF0aW9uXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZE9yZ2FuaXphdGlvbiB1cGRhdGVkIG9yZ2FuaXphdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBvcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWRQdXRXaXRoSHR0cEluZm8ob3JnYW5pemF0aW9uSWQ6IHN0cmluZywgdXBkYXRlZE9yZ2FuaXphdGlvbjogbW9kZWxzLk9yZ2FuaXphdGlvblVwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvb3JnYW5pemF0aW9ucy8ke29yZ2FuaXphdGlvbklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdvcmdhbml6YXRpb25JZCcgKyAnfScsIFN0cmluZyhvcmdhbml6YXRpb25JZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnb3JnYW5pemF0aW9uSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAob3JnYW5pemF0aW9uSWQgPT09IG51bGwgfHwgb3JnYW5pemF0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnYW5pemF0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBvcmdhbml6YXRpb25zT3JnYW5pemF0aW9uSWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZE9yZ2FuaXphdGlvbicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkT3JnYW5pemF0aW9uID09PSBudWxsIHx8IHVwZGF0ZWRPcmdhbml6YXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZE9yZ2FuaXphdGlvbiB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG9yZ2FuaXphdGlvbnNPcmdhbml6YXRpb25JZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZE9yZ2FuaXphdGlvbiA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkT3JnYW5pemF0aW9uKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IG9yZ2FuaXphdGlvblxuICAgICAqIEBwYXJhbSBvcmdhbml6YXRpb24gWW91ciBuZXcgb3JnYW5pemF0aW9uXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNQb3N0V2l0aEh0dHBJbmZvKG9yZ2FuaXphdGlvbj86IG1vZGVscy5OZXdPcmdhbml6YXRpb24sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL29yZ2FuaXphdGlvbnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBvcmdhbml6YXRpb24gPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkob3JnYW5pemF0aW9uKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIHVwZGF0ZSBleGlzdGluZyB1c2Vyc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7eHl6XFwmcXVvdDt9XG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbkJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBvcmdhbml6YXRpb25zIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbnNQdXRXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIG9yZ2FuaXphdGlvbkJ1bGtVcGRhdGU6IG1vZGVscy5Pcmdhbml6YXRpb25CdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9vcmdhbml6YXRpb25zJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG9yZ2FuaXphdGlvbnNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnb3JnYW5pemF0aW9uQnVsa1VwZGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25CdWxrVXBkYXRlID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbkJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnYW5pemF0aW9uQnVsa1VwZGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIG9yZ2FuaXphdGlvbnNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogb3JnYW5pemF0aW9uQnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShvcmdhbml6YXRpb25CdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvT3JnYW5pemF0aW9uc0FwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQYXNzd29yZFJlc2V0QXBpIHtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IG5ldyBIZWFkZXJzKHsnQXV0aG9yaXphdGlvbic6IHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXl9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhc3N3b3JkIHJlc2V0XG4gICAgICogcmVzZXQgdGhlIHBhc3N3b3JkIG9mIGEgdXNlclxuICAgICAqIEBwYXJhbSByZXNldFBhc3N3b3JkUmVxdWVzdCBUaGUgcGFzc3dvcmQgcmVzZXQgcmVxdWVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBwYXNzd29yZFJlc2V0UG9zdChyZXNldFBhc3N3b3JkUmVxdWVzdDogbW9kZWxzLlJlc2V0UGFzc3dvcmRSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuUmVzZXRQYXNzd29yZFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhc3N3b3JkUmVzZXRQb3N0V2l0aEh0dHBJbmZvKHJlc2V0UGFzc3dvcmRSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0cmlnZ2VyIHBhc3N3b3JkIHJlc2V0IGJ5IGVtYWlsXG4gICAgICogcmVxdWVzdCBhbiBlbWFpbCB0byByZXNldCBhIHBhc3N3b3JkIG9mIGEgdXNlclxuICAgICAqIEBwYXJhbSBzZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdCBhY2NvdW50SWQgKGVtYWlsIG9yIHVzZXJuYW1lKSBvZiB5b3VyIHVzZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgdHJpZ2dlclBhc3N3b3JkUmVzZXQoc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlcXVlc3Q6IG1vZGVscy5TZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyUGFzc3dvcmRSZXNldFdpdGhIdHRwSW5mbyhzZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBwYXNzd29yZCByZXNldFxuICAgICAqIHJlc2V0IHRoZSBwYXNzd29yZCBvZiBhIHVzZXJcbiAgICAgKiBAcGFyYW0gcmVzZXRQYXNzd29yZFJlcXVlc3QgVGhlIHBhc3N3b3JkIHJlc2V0IHJlcXVlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgcGFzc3dvcmRSZXNldFBvc3RXaXRoSHR0cEluZm8ocmVzZXRQYXNzd29yZFJlcXVlc3Q6IG1vZGVscy5SZXNldFBhc3N3b3JkUmVxdWVzdCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcGFzc3dvcmQvcmVzZXQnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncmVzZXRQYXNzd29yZFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocmVzZXRQYXNzd29yZFJlcXVlc3QgPT09IG51bGwgfHwgcmVzZXRQYXNzd29yZFJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVzZXRQYXNzd29yZFJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwYXNzd29yZFJlc2V0UG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogcmVzZXRQYXNzd29yZFJlcXVlc3QgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkocmVzZXRQYXNzd29yZFJlcXVlc3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaWdnZXIgcGFzc3dvcmQgcmVzZXQgYnkgZW1haWxcbiAgICAgKiByZXF1ZXN0IGFuIGVtYWlsIHRvIHJlc2V0IGEgcGFzc3dvcmQgb2YgYSB1c2VyXG4gICAgICogQHBhcmFtIHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0IGFjY291bnRJZCAoZW1haWwgb3IgdXNlcm5hbWUpIG9mIHlvdXIgdXNlclxuICAgICAqL1xuICAgIHB1YmxpYyB0cmlnZ2VyUGFzc3dvcmRSZXNldFdpdGhIdHRwSW5mbyhzZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdDogbW9kZWxzLlNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9wYXNzd29yZC9yZXNldC90cmlnZ2VyJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0ID09PSBudWxsIHx8IHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdHJpZ2dlclBhc3N3b3JkUmVzZXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvUGFzc3dvcmRSZXNldEFwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQcm92aWRlcnNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyBwcm92aWRlcnNcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJzIE11bHRpcGxlIHByb3ZpZGVyc1xuICAgICAqL1xuICAgIHB1YmxpYyBwcm92aWRlcnNCdWxrUG9zdChwcm92aWRlcnM/OiBtb2RlbHMuTmV3UHJvdmlkZXJBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlByb3ZpZGVyQXJyYXk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzQnVsa1Bvc3RXaXRoSHR0cEluZm8ocHJvdmlkZXJzLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyBwcm92aWRlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzRGVsZXRlKGZpbHRlcjogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa0RlbGV0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgcHJvdmlkZXJzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3NiY2xvdWRcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzR2V0KHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlByb3ZpZGVyUGFnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlciwgc29ydCwgc2VsZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIFlvdXIgbmV3IHByb3ZpZGVyXG4gICAgICovXG4gICAgcHVibGljIHByb3ZpZGVyc1Bvc3QocHJvdmlkZXI/OiBtb2RlbHMuTmV3UHJvdmlkZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Qcm92aWRlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNQb3N0V2l0aEh0dHBJbmZvKHByb3ZpZGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJJZCBUaGUgcHJvdmlkZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyBwcm92aWRlcnNQcm92aWRlcklkRGVsZXRlKHByb3ZpZGVySWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzUHJvdmlkZXJJZERlbGV0ZVdpdGhIdHRwSW5mbyhwcm92aWRlcklkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgVGhlIHByb3ZpZGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzUHJvdmlkZXJJZEdldChwcm92aWRlcklkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Qcm92aWRlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNQcm92aWRlcklkR2V0V2l0aEh0dHBJbmZvKHByb3ZpZGVySWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyBwcm92aWRlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZFByb3ZpZGVyIHVwZGF0ZWQgcHJvdmlkZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzUHJvdmlkZXJJZFB1dChwcm92aWRlcklkOiBzdHJpbmcsIHVwZGF0ZWRQcm92aWRlcjogbW9kZWxzLlByb3ZpZGVyVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuUHJvdmlkZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzUHJvdmlkZXJJZFB1dFdpdGhIdHRwSW5mbyhwcm92aWRlcklkLCB1cGRhdGVkUHJvdmlkZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJCdWxrVXBkYXRlIFVzZSBmaWx0ZXIgdG8gZmluZCB0aGUgcHJvdmlkZXJzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIHByb3ZpZGVyc1B1dChmaWx0ZXI6IHN0cmluZywgcHJvdmlkZXJCdWxrVXBkYXRlOiBtb2RlbHMuUHJvdmlkZXJCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuQnVsa1VwZGF0ZVJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIHByb3ZpZGVyQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IHByb3ZpZGVyc1xuICAgICAqIEBwYXJhbSBwcm92aWRlcnMgTXVsdGlwbGUgcHJvdmlkZXJzXG4gICAgICovXG4gICAgcHVibGljIHByb3ZpZGVyc0J1bGtQb3N0V2l0aEh0dHBJbmZvKHByb3ZpZGVycz86IG1vZGVscy5OZXdQcm92aWRlckFycmF5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9wcm92aWRlcnMvYnVsayc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHByb3ZpZGVycyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShwcm92aWRlcnMpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgZGVsZXRlIGV4aXN0aW5nIHByb3ZpZGVyc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyBwcm92aWRlcnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3Byb3ZpZGVycyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwcm92aWRlcnNEZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgcHJvdmlkZXJzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3NiY2xvdWRcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gc29ydCBTb3J0IG9iamVjdCAoMSYjeDNEO2FzY2VuZGluZywgLTEmI3gzRDtkZXNjZW5kaW5nKSBsaWtlIHtcXCZxdW90O2NyZWF0ZWRBdFxcJnF1b3Q7OiAtMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzR2V0V2l0aEh0dHBJbmZvKHBhZ2VTaXplPzogbnVtYmVyLCBwYWdlTnVtYmVyPzogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcsIHNlbGVjdD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcHJvdmlkZXJzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgWW91ciBuZXcgcHJvdmlkZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzUG9zdFdpdGhIdHRwSW5mbyhwcm92aWRlcj86IG1vZGVscy5OZXdQcm92aWRlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcHJvdmlkZXJzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogcHJvdmlkZXIgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkocHJvdmlkZXIpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIGRlbGV0ZSBleGlzdGluZyBwcm92aWRlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIFRoZSBwcm92aWRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIHByb3ZpZGVyc1Byb3ZpZGVySWREZWxldGVXaXRoSHR0cEluZm8ocHJvdmlkZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9wcm92aWRlcnMvJHtwcm92aWRlcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdwcm92aWRlcklkJyArICd9JywgU3RyaW5nKHByb3ZpZGVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3Byb3ZpZGVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocHJvdmlkZXJJZCA9PT0gbnVsbCB8fCBwcm92aWRlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHByb3ZpZGVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwcm92aWRlcnNQcm92aWRlcklkRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyBwcm92aWRlclxuICAgICAqIEBwYXJhbSBwcm92aWRlcklkIFRoZSBwcm92aWRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIHByb3ZpZGVyc1Byb3ZpZGVySWRHZXRXaXRoSHR0cEluZm8ocHJvdmlkZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9wcm92aWRlcnMvJHtwcm92aWRlcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdwcm92aWRlcklkJyArICd9JywgU3RyaW5nKHByb3ZpZGVySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3Byb3ZpZGVySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocHJvdmlkZXJJZCA9PT0gbnVsbCB8fCBwcm92aWRlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHByb3ZpZGVySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwcm92aWRlcnNQcm92aWRlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB1cGRhdGVkUHJvdmlkZXIgdXBkYXRlZCBwcm92aWRlclxuICAgICAqL1xuICAgIHB1YmxpYyBwcm92aWRlcnNQcm92aWRlcklkUHV0V2l0aEh0dHBJbmZvKHByb3ZpZGVySWQ6IHN0cmluZywgdXBkYXRlZFByb3ZpZGVyOiBtb2RlbHMuUHJvdmlkZXJVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3Byb3ZpZGVycy8ke3Byb3ZpZGVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3Byb3ZpZGVySWQnICsgJ30nLCBTdHJpbmcocHJvdmlkZXJJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHJvdmlkZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChwcm92aWRlcklkID09PSBudWxsIHx8IHByb3ZpZGVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcHJvdmlkZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHByb3ZpZGVyc1Byb3ZpZGVySWRQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXBkYXRlZFByb3ZpZGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHVwZGF0ZWRQcm92aWRlciA9PT0gbnVsbCB8fCB1cGRhdGVkUHJvdmlkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXBkYXRlZFByb3ZpZGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcHJvdmlkZXJzUHJvdmlkZXJJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZFByb3ZpZGVyID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm92aWRlciksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBwcm92aWRlckJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSBwcm92aWRlcnMgYW5kIGRvIGEgYnVsayB1cGRhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdmlkZXJzUHV0V2l0aEh0dHBJbmZvKGZpbHRlcjogc3RyaW5nLCBwcm92aWRlckJ1bGtVcGRhdGU6IG1vZGVscy5Qcm92aWRlckJ1bGtVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3Byb3ZpZGVycyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBwcm92aWRlcnNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHJvdmlkZXJCdWxrVXBkYXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHByb3ZpZGVyQnVsa1VwZGF0ZSA9PT0gbnVsbCB8fCBwcm92aWRlckJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcHJvdmlkZXJCdWxrVXBkYXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcHJvdmlkZXJzUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHByb3ZpZGVyQnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShwcm92aWRlckJ1bGtVcGRhdGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9Qcm92aWRlcnNBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUm9sZXNBcGkge1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoeydBdXRob3JpemF0aW9uJzogdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyByb2xlc1xuICAgICAqIEBwYXJhbSByb2xlcyBNdWx0aXBsZSByb2xlc1xuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0J1bGtQb3N0KHJvbGVzPzogbW9kZWxzLk5ld1JvbGVBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlJvbGVBcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlc0J1bGtQb3N0V2l0aEh0dHBJbmZvKHJvbGVzLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyByb2xlc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0RlbGV0ZShmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtEZWxldGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgcm9sZXNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0dldChwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Sb2xlUGFnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyLCBzb3J0LCBzZWxlY3QsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgcm9sZVxuICAgICAqIEBwYXJhbSByb2xlIFlvdXIgbmV3IHJvbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgcm9sZXNQb3N0KHJvbGU/OiBtb2RlbHMuTmV3Um9sZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlJvbGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9sZXNQb3N0V2l0aEh0dHBJbmZvKHJvbGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHJvbGVzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gcm9sZUJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSByb2xlcyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc1B1dChmaWx0ZXI6IHN0cmluZywgcm9sZUJ1bGtVcGRhdGU6IG1vZGVscy5Sb2xlQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtVcGRhdGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIHJvbGVCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3Rpbmcgcm9sZVxuICAgICAqIEBwYXJhbSByb2xlSWQgVGhlIHJvbGUgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc1JvbGVJZERlbGV0ZShyb2xlSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9sZXNSb2xlSWREZWxldGVXaXRoSHR0cEluZm8ocm9sZUlkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIHJvbGVcbiAgICAgKiBAcGFyYW0gcm9sZUlkIFRoZSByb2xlIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcm9sZXNSb2xlSWRHZXQocm9sZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Sb2xlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvbGVzUm9sZUlkR2V0V2l0aEh0dHBJbmZvKHJvbGVJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIHJvbGVcbiAgICAgKiBAcGFyYW0gcm9sZUlkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZFJvbGUgdXBkYXRlZCByb2xlXG4gICAgICovXG4gICAgcHVibGljIHJvbGVzUm9sZUlkUHV0KHJvbGVJZDogc3RyaW5nLCB1cGRhdGVkUm9sZTogbW9kZWxzLlJvbGVVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Sb2xlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvbGVzUm9sZUlkUHV0V2l0aEh0dHBJbmZvKHJvbGVJZCwgdXBkYXRlZFJvbGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG11bHRpcGxlIG5ldyByb2xlc1xuICAgICAqIEBwYXJhbSByb2xlcyBNdWx0aXBsZSByb2xlc1xuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0J1bGtQb3N0V2l0aEh0dHBJbmZvKHJvbGVzPzogbW9kZWxzLk5ld1JvbGVBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcm9sZXMvYnVsayc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHJvbGVzID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHJvbGVzKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBCdWxrIGRlbGV0ZSBleGlzdGluZyByb2xlc1xuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IHsgXFwmcXVvdDskbGlrZVxcJnF1b3Q7IDogXFwmcXVvdDthcHAlXFwmcXVvdDt9LCBcXCZxdW90O2N1c3RvbURhdGFcXCZxdW90OzogeyBcXCZxdW90OyRjb250YWluc1xcJnF1b3Q7OiB7XFwmcXVvdDtrZXkyXFwmcXVvdDsgOiBcXCZxdW90O3ZhbDJcXCZxdW90O319fVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0RlbGV0ZVdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcm9sZXMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcm9sZXNEZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFJldHVybnMgcm9sZXNcbiAgICAgKiBAcGFyYW0gcGFnZVNpemUgSXRlbXMgcGVyIHBhZ2VcbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBpbmRleCAoc3RhcnRpbmcgZnJvbSAxKVxuICAgICAqIEBwYXJhbSBmaWx0ZXIgU2VxdWVsaXplIGZpbHRlciBvYmplY3QgbGlrZSB7XFwmcXVvdDtuYW1lXFwmcXVvdDs6IFxcJnF1b3Q7c2JjbG91ZFxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSBzb3J0IFNvcnQgb2JqZWN0ICgxJiN4M0Q7YXNjZW5kaW5nLCAtMSYjeDNEO2Rlc2NlbmRpbmcpIGxpa2Uge1xcJnF1b3Q7Y3JlYXRlZEF0XFwmcXVvdDs6IC0xIH1cbiAgICAgKiBAcGFyYW0gc2VsZWN0IFNlbGVjdCBvYmplY3QgKDEmI3gzRDtpbmNsdWRlLCAtMSYjeDNEO2V4Y2x1ZGUpIGxpa2Uge1xcJnF1b3Q7SWRcXCZxdW90OzogMSwgXFwmcXVvdDtuYW1lXFwmcXVvdDs6IDEgfVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc0dldFdpdGhIdHRwSW5mbyhwYWdlU2l6ZT86IG51bWJlciwgcGFnZU51bWJlcj86IG51bWJlciwgZmlsdGVyPzogc3RyaW5nLCBzb3J0Pzogc3RyaW5nLCBzZWxlY3Q/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3JvbGVzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIGlmIChwYWdlU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlU2l6ZScsIDxhbnk+cGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NvcnQnLCA8YW55PnNvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3QnLCA8YW55PnNlbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgcm9sZVxuICAgICAqIEBwYXJhbSByb2xlIFlvdXIgbmV3IHJvbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgcm9sZXNQb3N0V2l0aEh0dHBJbmZvKHJvbGU/OiBtb2RlbHMuTmV3Um9sZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcm9sZXMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiByb2xlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHJvbGUpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHJvbGVzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gcm9sZUJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSByb2xlcyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXI6IHN0cmluZywgcm9sZUJ1bGtVcGRhdGU6IG1vZGVscy5Sb2xlQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcm9sZXMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmlsdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZmlsdGVyIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcm9sZXNQdXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncm9sZUJ1bGtVcGRhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocm9sZUJ1bGtVcGRhdGUgPT09IG51bGwgfHwgcm9sZUJ1bGtVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcm9sZUJ1bGtVcGRhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyByb2xlc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ZpbHRlcicsIDxhbnk+ZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiByb2xlQnVsa1VwZGF0ZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShyb2xlQnVsa1VwZGF0ZSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogZGVsZXRlIGV4aXN0aW5nIHJvbGVcbiAgICAgKiBAcGFyYW0gcm9sZUlkIFRoZSByb2xlIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcm9sZXNSb2xlSWREZWxldGVXaXRoSHR0cEluZm8ocm9sZUlkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3JvbGVzLyR7cm9sZUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdyb2xlSWQnICsgJ30nLCBTdHJpbmcocm9sZUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdyb2xlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocm9sZUlkID09PSBudWxsIHx8IHJvbGVJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByb2xlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyByb2xlc1JvbGVJZERlbGV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEdldCBvbmUgZXhpc3Rpbmcgcm9sZVxuICAgICAqIEBwYXJhbSByb2xlSWQgVGhlIHJvbGUgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyByb2xlc1JvbGVJZEdldFdpdGhIdHRwSW5mbyhyb2xlSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvcm9sZXMvJHtyb2xlSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3JvbGVJZCcgKyAnfScsIFN0cmluZyhyb2xlSWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JvbGVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChyb2xlSWQgPT09IG51bGwgfHwgcm9sZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJvbGVJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHJvbGVzUm9sZUlkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIHJvbGVcbiAgICAgKiBAcGFyYW0gcm9sZUlkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZFJvbGUgdXBkYXRlZCByb2xlXG4gICAgICovXG4gICAgcHVibGljIHJvbGVzUm9sZUlkUHV0V2l0aEh0dHBJbmZvKHJvbGVJZDogc3RyaW5nLCB1cGRhdGVkUm9sZTogbW9kZWxzLlJvbGVVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3JvbGVzLyR7cm9sZUlkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdyb2xlSWQnICsgJ30nLCBTdHJpbmcocm9sZUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdyb2xlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocm9sZUlkID09PSBudWxsIHx8IHJvbGVJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByb2xlSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyByb2xlc1JvbGVJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1cGRhdGVkUm9sZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkUm9sZSA9PT0gbnVsbCB8fCB1cGRhdGVkUm9sZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1cGRhdGVkUm9sZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHJvbGVzUm9sZUlkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiB1cGRhdGVkUm9sZSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUm9sZSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL1JvbGVzQXBpLnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XG5cbmltcG9ydCAqIGFzIG1vZGVscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuaW1wb3J0IHsgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNpZ251cEFwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBJbnRlcmFjdGl2ZSBQT1NUIGVuZHBvaW50IGZvciBhIHVzZXIgc2lnbnVwIHdpdGggZW1haWwvcHcgb3IgdXNlcm5hbWUvcHcgZGlyZWN0b3J5LiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIHNpZ251cCB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiBcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSByYW5kb20gc3RhdGUgdGhhdCB3YXMgcHJvdmlkZWQgaW4gdGhlIGludGVyYWN0aXZlIG9hdXRoIGZsb3dcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICovXG4gICAgcHVibGljIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkSW50ZXJhY3RpdmVQb3N0KHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Vc2VyU2lnbnVwUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRJbnRlcmFjdGl2ZVBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHJhbmRvbVN0YXRlLCBzYkNsaWVudFNlY3JldCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnVwIHdpdGggc3BlY2lmaWMgZGlyZWN0b3J5XG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBkaXJlY3RvcnkuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gbG9naW4gdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogIHwgZGlyZWN0b3J5VHlwZSB8IGFjY291bnRJZCB8IGFjY291bnRQYXNzd29yZCB8IHwtLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwgfCBzYmNsb3VkIHwgZW1haWwgfCBwYXNzd29yZCB8IHwgYW5vbnltb3VzY2xvdWQgfCB1c2VybmFtZSAocmFuZG9tIGlmIGVtcHR5KSB8IHBhc3N3b3JkIChyYW5kb20gaWYgZW1wdHkpIHwgfCBsZGFwIHwgdXNlcm5hbWUgfCBwYXNzd29yZCB8IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHNpZ251cFJlcXVlc3QgVXNlciBzaWdudXAgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3Qoc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCBzaWdudXBSZXF1ZXN0OiBtb2RlbHMuVXNlclNpZ251cFJlcXVlc3QsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBpbnZpdGU/OiBzdHJpbmcsIHJldHVybkNyZWRlbnRpYWxzPzogYm9vbGVhbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXJTaWdudXBSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZCwgZGlyZWN0b3J5SWQsIHNpZ251cFJlcXVlc3QsIHNiQ2xpZW50U2VjcmV0LCBpbnZpdGUsIHJldHVybkNyZWRlbnRpYWxzLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBVc2VyIHNpZ251cCB3aXRoIHNvY2lhbCBkaXJlY3RvcnkgYW5kIHNlcnZlcnNpZGUgb2F1dGggZmxvdy4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBzaWdudXAgdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gcmFuZG9tU3RhdGUgcmFuZG9tIHN0YXRlIHRoYXQgd2FzIHByb3ZpZGVkIGluIHRoZSBpbnRlcmFjdGl2ZSBvYXV0aCBmbG93XG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFRva2VuUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHJhbmRvbVN0YXRlOiBzdHJpbmcsIHNiQ2xpZW50U2VjcmV0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlclNpZ251cFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkVG9rZW5Qb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIGRpcmVjdG9yeUlkLCByYW5kb21TdGF0ZSwgc2JDbGllbnRTZWNyZXQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBkaXJlY3RvcnlcbiAgICAgKiBVc2VyIHNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgYSBzcGVjaWZpYyBkaXJlY3RvcnkuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gbG9naW4gdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogIHwgZGlyZWN0b3J5VHlwZSB8IGFjY291bnRJZCB8IGFjY291bnRQYXNzd29yZCB8IHwtLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwgfCBzYmNsb3VkIHwgZW1haWwgfCBwYXNzd29yZCB8IHwgYW5vbnltb3VzY2xvdWQgfCB1c2VybmFtZSAocmFuZG9tIGlmIGVtcHR5KSB8IHBhc3N3b3JkIChyYW5kb20gaWYgZW1wdHkpIHwgfCBsZGFwIHwgdXNlcm5hbWUgfCBwYXNzd29yZCB8IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIHRoZSBvcmdhbml6YXRpb24gb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHNpZ251cFJlcXVlc3QgVXNlciBzaWdudXAgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHNpZ251cFJlcXVlc3Q6IG1vZGVscy5Vc2VyU2lnbnVwUmVxdWVzdCwgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgcmV0dXJuQ3JlZGVudGlhbHM/OiBib29sZWFuLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlclNpZ251cFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQsIG9yZ2FuaXphdGlvbklkLCBkaXJlY3RvcnlJZCwgc2lnbnVwUmVxdWVzdCwgc2JDbGllbnRTZWNyZXQsIGludml0ZSwgcmV0dXJuQ3JlZGVudGlhbHMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIGl0cyBkZWZhdWx0IGRpcmVjdG9yeS4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBsb2dpbiB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiAgfCBkaXJlY3RvcnlUeXBlIHwgYWNjb3VudElkIHwgYWNjb3VudFBhc3N3b3JkIHwgfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwtLS0tLS0tLS0tfCB8IHNiY2xvdWQgfCBlbWFpbCB8IHBhc3N3b3JkIHwgfCBhbm9ueW1vdXNjbG91ZCB8IHVzZXJuYW1lIChyYW5kb20gaWYgZW1wdHkpIHwgcGFzc3dvcmQgKHJhbmRvbSBpZiBlbXB0eSkgfCB8IGxkYXAgfCB1c2VybmFtZSB8IHBhc3N3b3JkIHwgXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2lnbnVwUmVxdWVzdCBVc2VyIHNpZ251cCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKiBAcGFyYW0gcmV0dXJuQ3JlZGVudGlhbHMgaWYgdHJ1ZSwgcmV0dXJuIHRoZSBjcmVkZW50aWFscyBpbiB0aGUgc2lnbnVwIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHVibGljIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHNpZ251cFJlcXVlc3Q6IG1vZGVscy5Vc2VyU2lnbnVwUmVxdWVzdCwgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgcmV0dXJuQ3JlZGVudGlhbHM/OiBib29sZWFuLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlclNpZ251cFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBvcmdhbml6YXRpb25JZCwgc2lnbnVwUmVxdWVzdCwgc2JDbGllbnRTZWNyZXQsIGludml0ZSwgcmV0dXJuQ3JlZGVudGlhbHMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byBhIHNwZWNpZmljIHByb3ZpZGVyXG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byBhIHNwZWNpZmljIHByb3ZpZGVyLiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIGxvZ2luIHRoZSB1c2VyIGRlcGVuZCBvbiB0aGUgZGlyZWN0b3J5IHR5cGU6ICB8IGRpcmVjdG9yeVR5cGUgfCBhY2NvdW50SWQgfCBhY2NvdW50UGFzc3dvcmQgfCB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tfC0tLS0tLS0tLS18IHwgc2JjbG91ZCB8IGVtYWlsIHwgcGFzc3dvcmQgfCB8IGFub255bW91c2Nsb3VkIHwgdXNlcm5hbWUgKHJhbmRvbSBpZiBlbXB0eSkgfCBwYXNzd29yZCAocmFuZG9tIGlmIGVtcHR5KSB8IHwgbGRhcCB8IHVzZXJuYW1lIHwgcGFzc3dvcmQgfCBcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqIEBwYXJhbSBzaWdudXBSZXF1ZXN0IFVzZXIgc2lnbnVwIHJlcXVlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRQb3N0KG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHNiQ2xpZW50SWQ6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgcmV0dXJuQ3JlZGVudGlhbHM/OiBib29sZWFuLCBzaWdudXBSZXF1ZXN0PzogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlclNpZ251cFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdFdpdGhIdHRwSW5mbyhvcmdhbml6YXRpb25JZCwgZGlyZWN0b3J5SWQsIHNiQ2xpZW50SWQsIHNiQ2xpZW50U2VjcmV0LCBpbnZpdGUsIHJldHVybkNyZWRlbnRpYWxzLCBzaWdudXBSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaWdudXAgd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogVXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIHByb2ZpbGUgTmV3IHVzZXImIzM5O3MgcHJvZmlsZVxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBQb3N0KHNiQ2xpZW50SWQ6IHN0cmluZywgcHJvZmlsZTogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Vc2VyU2lnbnVwUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBwcm9maWxlLCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCByZXR1cm5DcmVkZW50aWFscywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnVwIHdpdGggZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IGRlcGVuZGluZyBvbiB0aGUgc3BlY2lmaWVkIHByb3ZpZGVyXG4gICAgICogVXNlciBzaWdudXAgd2l0aCB0aGUgZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byB0aGUgc3BlY2lmaWMgcHJvdmlkZXIuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gbG9naW4gdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogIHwgZGlyZWN0b3J5VHlwZSB8IGFjY291bnRJZCB8IGFjY291bnRQYXNzd29yZCB8IHwtLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwgfCBzYmNsb3VkIHwgZW1haWwgfCBwYXNzd29yZCB8IHwgYW5vbnltb3VzY2xvdWQgfCB1c2VybmFtZSAocmFuZG9tIGlmIGVtcHR5KSB8IHBhc3N3b3JkIChyYW5kb20gaWYgZW1wdHkpIHwgfCBsZGFwIHwgdXNlcm5hbWUgfCBwYXNzd29yZCB8IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgdGhlIHByb3ZpZGVyIG9mIGEgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBzaWdudXBSZXF1ZXN0IFVzZXIgc2lnbnVwIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqIEBwYXJhbSByZXR1cm5DcmVkZW50aWFscyBpZiB0cnVlLCByZXR1cm4gdGhlIGNyZWRlbnRpYWxzIGluIHRoZSBzaWdudXAgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwUHJvdmlkZXJQcm92aWRlcklkUG9zdChzYkNsaWVudElkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgc2lnbnVwUmVxdWVzdDogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Vc2VyU2lnbnVwUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbnVwUHJvdmlkZXJQcm92aWRlcklkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkLCBwcm92aWRlcklkLCBzaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldCwgaW52aXRlLCByZXR1cm5DcmVkZW50aWFscywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBJbnRlcmFjdGl2ZSBQT1NUIGVuZHBvaW50IGZvciBhIHVzZXIgc2lnbnVwIHdpdGggZW1haWwvcHcgb3IgdXNlcm5hbWUvcHcgZGlyZWN0b3J5LiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIHNpZ251cCB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiBcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSByYW5kb21TdGF0ZSByYW5kb20gc3RhdGUgdGhhdCB3YXMgcHJvdmlkZWQgaW4gdGhlIGludGVyYWN0aXZlIG9hdXRoIGZsb3dcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICovXG4gICAgcHVibGljIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkSW50ZXJhY3RpdmVQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgcmFuZG9tU3RhdGU6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cC9kaXJlY3RvcnkvJHtkaXJlY3RvcnlJZH0vaW50ZXJhY3RpdmUnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZGlyZWN0b3J5SWQnICsgJ30nLCBTdHJpbmcoZGlyZWN0b3J5SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZEludGVyYWN0aXZlUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChkaXJlY3RvcnlJZCA9PT0gbnVsbCB8fCBkaXJlY3RvcnlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkSW50ZXJhY3RpdmVQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3JhbmRvbVN0YXRlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlID09PSBudWxsIHx8IHJhbmRvbVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJhbmRvbVN0YXRlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRJbnRlcmFjdGl2ZVBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmRvbVN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JhbmRvbVN0YXRlJywgPGFueT5yYW5kb21TdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LWlkJywgU3RyaW5nKHNiQ2xpZW50SWQpKTtcblxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIFN0cmluZyhzYkNsaWVudFNlY3JldCkpO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIFVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgZGlyZWN0b3J5LiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIGxvZ2luIHRoZSB1c2VyIGRlcGVuZCBvbiB0aGUgZGlyZWN0b3J5IHR5cGU6ICB8IGRpcmVjdG9yeVR5cGUgfCBhY2NvdW50SWQgfCBhY2NvdW50UGFzc3dvcmQgfCB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tfC0tLS0tLS0tLS18IHwgc2JjbG91ZCB8IGVtYWlsIHwgcGFzc3dvcmQgfCB8IGFub255bW91c2Nsb3VkIHwgdXNlcm5hbWUgKHJhbmRvbSBpZiBlbXB0eSkgfCBwYXNzd29yZCAocmFuZG9tIGlmIGVtcHR5KSB8IHwgbGRhcCB8IHVzZXJuYW1lIHwgcGFzc3dvcmQgfCBcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlJZCB0aGUgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBzaWdudXBSZXF1ZXN0IFVzZXIgc2lnbnVwIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqIEBwYXJhbSByZXR1cm5DcmVkZW50aWFscyBpZiB0cnVlLCByZXR1cm4gdGhlIGNyZWRlbnRpYWxzIGluIHRoZSBzaWdudXAgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgc2lnbnVwUmVxdWVzdDogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cC9kaXJlY3RvcnkvJHtkaXJlY3RvcnlJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnZGlyZWN0b3J5SWQnICsgJ30nLCBTdHJpbmcoZGlyZWN0b3J5SWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NiQ2xpZW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2JDbGllbnRJZCA9PT0gbnVsbCB8fCBzYkNsaWVudElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNiQ2xpZW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2lnbnVwUmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzaWdudXBSZXF1ZXN0ID09PSBudWxsIHx8IHNpZ251cFJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2lnbnVwUmVxdWVzdCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXR1cm5DcmVkZW50aWFscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZXR1cm5DcmVkZW50aWFscycsIDxhbnk+cmV0dXJuQ3JlZGVudGlhbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHNpZ251cFJlcXVlc3QgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoc2lnbnVwUmVxdWVzdCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzb2NpYWwgZGlyZWN0b3J5IGFuZCBzZXJ2ZXJzaWRlIG9hdXRoIGZsb3cuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gc2lnbnVwIHRoZSB1c2VyIGRlcGVuZCBvbiB0aGUgZGlyZWN0b3J5IHR5cGU6IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeUlkIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIG5ldyB1c2VyXG4gICAgICogQHBhcmFtIHJhbmRvbVN0YXRlIHJhbmRvbSBzdGF0ZSB0aGF0IHdhcyBwcm92aWRlZCBpbiB0aGUgaW50ZXJhY3RpdmUgb2F1dGggZmxvd1xuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3RXaXRoSHR0cEluZm8oc2JDbGllbnRJZDogc3RyaW5nLCBkaXJlY3RvcnlJZDogc3RyaW5nLCByYW5kb21TdGF0ZTogc3RyaW5nLCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvc2lnbnVwL2RpcmVjdG9yeS8ke2RpcmVjdG9yeUlkfS90b2tlbidcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cERpcmVjdG9yeURpcmVjdG9yeUlkVG9rZW5Qb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2RpcmVjdG9yeUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdG9yeUlkID09PSBudWxsIHx8IGRpcmVjdG9yeUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGRpcmVjdG9yeUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwRGlyZWN0b3J5RGlyZWN0b3J5SWRUb2tlblBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncmFuZG9tU3RhdGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgPT09IG51bGwgfHwgcmFuZG9tU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmFuZG9tU3RhdGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBEaXJlY3RvcnlEaXJlY3RvcnlJZFRva2VuUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmFuZG9tU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncmFuZG9tU3RhdGUnLCA8YW55PnJhbmRvbVN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCBTdHJpbmcoc2JDbGllbnRJZCkpO1xuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtc2VjcmV0JywgU3RyaW5nKHNiQ2xpZW50U2VjcmV0KSk7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeVxuICAgICAqIFVzZXIgc2lnbnVwIHdpdGggc3BlY2lmaWMgb3JnYW5pemF0aW9uIGFuZCBhIHNwZWNpZmljIGRpcmVjdG9yeS4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBsb2dpbiB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiAgfCBkaXJlY3RvcnlUeXBlIHwgYWNjb3VudElkIHwgYWNjb3VudFBhc3N3b3JkIHwgfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwtLS0tLS0tLS0tfCB8IHNiY2xvdWQgfCBlbWFpbCB8IHBhc3N3b3JkIHwgfCBhbm9ueW1vdXNjbG91ZCB8IHVzZXJuYW1lIChyYW5kb20gaWYgZW1wdHkpIHwgcGFzc3dvcmQgKHJhbmRvbSBpZiBlbXB0eSkgfCB8IGxkYXAgfCB1c2VybmFtZSB8IHBhc3N3b3JkIHwgXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2lnbnVwUmVxdWVzdCBVc2VyIHNpZ251cCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKiBAcGFyYW0gcmV0dXJuQ3JlZGVudGlhbHMgaWYgdHJ1ZSwgcmV0dXJuIHRoZSBjcmVkZW50aWFscyBpbiB0aGUgc2lnbnVwIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHVibGljIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgb3JnYW5pemF0aW9uSWQ6IHN0cmluZywgZGlyZWN0b3J5SWQ6IHN0cmluZywgc2lnbnVwUmVxdWVzdDogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cC9vcmdhbml6YXRpb24vJHtvcmdhbml6YXRpb25JZH0vZGlyZWN0b3J5LyR7ZGlyZWN0b3J5SWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdkaXJlY3RvcnlJZCcgKyAnfScsIFN0cmluZyhkaXJlY3RvcnlJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkRGlyZWN0b3J5RGlyZWN0b3J5SWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZGlyZWN0b3J5SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0b3J5SWQgPT09IG51bGwgfHwgZGlyZWN0b3J5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgZGlyZWN0b3J5SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZERpcmVjdG9yeURpcmVjdG9yeUlkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzaWdudXBSZXF1ZXN0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNpZ251cFJlcXVlc3QgPT09IG51bGwgfHwgc2lnbnVwUmVxdWVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzaWdudXBSZXF1ZXN0IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWREaXJlY3RvcnlEaXJlY3RvcnlJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmV0dXJuQ3JlZGVudGlhbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncmV0dXJuQ3JlZGVudGlhbHMnLCA8YW55PnJldHVybkNyZWRlbnRpYWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCBTdHJpbmcoc2JDbGllbnRJZCkpO1xuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtc2VjcmV0JywgU3RyaW5nKHNiQ2xpZW50U2VjcmV0KSk7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBzaWdudXBSZXF1ZXN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHNpZ251cFJlcXVlc3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIGl0cyBkZWZhdWx0IGRpcmVjdG9yeS4gVGhlIGF0dHJpYnV0ZXMgdGhhdCBhcmUgdXNlZCBhcyBjcmVkZW50aWFscyB0byBsb2dpbiB0aGUgdXNlciBkZXBlbmQgb24gdGhlIGRpcmVjdG9yeSB0eXBlOiAgfCBkaXJlY3RvcnlUeXBlIHwgYWNjb3VudElkIHwgYWNjb3VudFBhc3N3b3JkIHwgfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwtLS0tLS0tLS0tfCB8IHNiY2xvdWQgfCBlbWFpbCB8IHBhc3N3b3JkIHwgfCBhbm9ueW1vdXNjbG91ZCB8IHVzZXJuYW1lIChyYW5kb20gaWYgZW1wdHkpIHwgcGFzc3dvcmQgKHJhbmRvbSBpZiBlbXB0eSkgfCB8IGxkYXAgfCB1c2VybmFtZSB8IHBhc3N3b3JkIHwgXG4gICAgICogQHBhcmFtIHNiQ2xpZW50SWQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgaWRcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2lnbnVwUmVxdWVzdCBVc2VyIHNpZ251cCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHNiQ2xpZW50U2VjcmV0IFlvdXIgYXBwbGljYXRpb24gY2xpZW50IHNlY3JldFxuICAgICAqIEBwYXJhbSBpbnZpdGUgT3B0aW9uYWwgaW52aXRlIGNvZGVcbiAgICAgKiBAcGFyYW0gcmV0dXJuQ3JlZGVudGlhbHMgaWYgdHJ1ZSwgcmV0dXJuIHRoZSBjcmVkZW50aWFscyBpbiB0aGUgc2lnbnVwIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHVibGljIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHNpZ251cFJlcXVlc3Q6IG1vZGVscy5Vc2VyU2lnbnVwUmVxdWVzdCwgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgcmV0dXJuQ3JlZGVudGlhbHM/OiBib29sZWFuLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9zaWdudXAvb3JnYW5pemF0aW9uLyR7b3JnYW5pemF0aW9uSWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ29yZ2FuaXphdGlvbklkJyArICd9JywgU3RyaW5nKG9yZ2FuaXphdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ29yZ2FuaXphdGlvbklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKG9yZ2FuaXphdGlvbklkID09PSBudWxsIHx8IG9yZ2FuaXphdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ2FuaXphdGlvbklkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NpZ251cFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoc2lnbnVwUmVxdWVzdCA9PT0gbnVsbCB8fCBzaWdudXBSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHNpZ251cFJlcXVlc3Qgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzaWdudXBPcmdhbml6YXRpb25Pcmdhbml6YXRpb25JZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmV0dXJuQ3JlZGVudGlhbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncmV0dXJuQ3JlZGVudGlhbHMnLCA8YW55PnJldHVybkNyZWRlbnRpYWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCBTdHJpbmcoc2JDbGllbnRJZCkpO1xuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtc2VjcmV0JywgU3RyaW5nKHNiQ2xpZW50U2VjcmV0KSk7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBzaWdudXBSZXF1ZXN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHNpZ251cFJlcXVlc3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ251cCB3aXRoIHNwZWNpZmljIG9yZ2FuaXphdGlvbiBhbmQgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byBhIHNwZWNpZmljIHByb3ZpZGVyXG4gICAgICogVXNlciBzaWdudXAgd2l0aCBzcGVjaWZpYyBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byBhIHNwZWNpZmljIHByb3ZpZGVyLiBUaGUgYXR0cmlidXRlcyB0aGF0IGFyZSB1c2VkIGFzIGNyZWRlbnRpYWxzIHRvIGxvZ2luIHRoZSB1c2VyIGRlcGVuZCBvbiB0aGUgZGlyZWN0b3J5IHR5cGU6ICB8IGRpcmVjdG9yeVR5cGUgfCBhY2NvdW50SWQgfCBhY2NvdW50UGFzc3dvcmQgfCB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tfC0tLS0tLS0tLS18IHwgc2JjbG91ZCB8IGVtYWlsIHwgcGFzc3dvcmQgfCB8IGFub255bW91c2Nsb3VkIHwgdXNlcm5hbWUgKHJhbmRvbSBpZiBlbXB0eSkgfCBwYXNzd29yZCAocmFuZG9tIGlmIGVtcHR5KSB8IHwgbGRhcCB8IHVzZXJuYW1lIHwgcGFzc3dvcmQgfCBcbiAgICAgKiBAcGFyYW0gb3JnYW5pemF0aW9uSWQgdGhlIG9yZ2FuaXphdGlvbiBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gZGlyZWN0b3J5SWQgdGhlIGRpcmVjdG9yeSBvZiB0aGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRJZCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBpZFxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqIEBwYXJhbSBzaWdudXBSZXF1ZXN0IFVzZXIgc2lnbnVwIHJlcXVlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRQb3N0V2l0aEh0dHBJbmZvKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdG9yeUlkOiBzdHJpbmcsIHNiQ2xpZW50SWQ6IHN0cmluZywgc2JDbGllbnRTZWNyZXQ/OiBzdHJpbmcsIGludml0ZT86IHN0cmluZywgcmV0dXJuQ3JlZGVudGlhbHM/OiBib29sZWFuLCBzaWdudXBSZXF1ZXN0PzogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy9zaWdudXAvb3JnYW5pemF0aW9uLyR7b3JnYW5pemF0aW9uSWR9L3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnb3JnYW5pemF0aW9uSWQnICsgJ30nLCBTdHJpbmcob3JnYW5pemF0aW9uSWQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ2RpcmVjdG9yeUlkJyArICd9JywgU3RyaW5nKGRpcmVjdG9yeUlkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdvcmdhbml6YXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCA9PT0gbnVsbCB8fCBvcmdhbml6YXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdhbml6YXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkaXJlY3RvcnlJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChkaXJlY3RvcnlJZCA9PT0gbnVsbCB8fCBkaXJlY3RvcnlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBkaXJlY3RvcnlJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cE9yZ2FuaXphdGlvbk9yZ2FuaXphdGlvbklkUHJvdmlkZXJQcm92aWRlcklkUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwT3JnYW5pemF0aW9uT3JnYW5pemF0aW9uSWRQcm92aWRlclByb3ZpZGVySWRQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnZpdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW52aXRlJywgPGFueT5pbnZpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHVybkNyZWRlbnRpYWxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JldHVybkNyZWRlbnRpYWxzJywgPGFueT5yZXR1cm5DcmVkZW50aWFscyk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LWlkJywgU3RyaW5nKHNiQ2xpZW50SWQpKTtcblxuICAgICAgICBoZWFkZXJzLnNldCgnc2ItY2xpZW50LXNlY3JldCcsIFN0cmluZyhzYkNsaWVudFNlY3JldCkpO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogc2lnbnVwUmVxdWVzdCA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShzaWdudXBSZXF1ZXN0KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaWdudXAgd2l0aCBkZWZhdWx0IG9yZ2FuaXphdGlvbiBhbmQgaXRzIGRlZmF1bHQgZGlyZWN0b3J5XG4gICAgICogVXNlciBzaWdudXAgd2l0aCBkZWZhdWx0IGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIHByb2ZpbGUgTmV3IHVzZXImIzM5O3MgcHJvZmlsZVxuICAgICAqIEBwYXJhbSBzYkNsaWVudFNlY3JldCBZb3VyIGFwcGxpY2F0aW9uIGNsaWVudCBzZWNyZXRcbiAgICAgKiBAcGFyYW0gaW52aXRlIE9wdGlvbmFsIGludml0ZSBjb2RlXG4gICAgICogQHBhcmFtIHJldHVybkNyZWRlbnRpYWxzIGlmIHRydWUsIHJldHVybiB0aGUgY3JlZGVudGlhbHMgaW4gdGhlIHNpZ251cCByZXNwb25zZVxuICAgICAqL1xuICAgIHB1YmxpYyBzaWdudXBQb3N0V2l0aEh0dHBJbmZvKHNiQ2xpZW50SWQ6IHN0cmluZywgcHJvZmlsZTogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cCc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzYkNsaWVudElkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHNiQ2xpZW50SWQgPT09IG51bGwgfHwgc2JDbGllbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBzYkNsaWVudElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdwcm9maWxlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHByb2ZpbGUgPT09IG51bGwgfHwgcHJvZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBwcm9maWxlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgc2lnbnVwUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW52aXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludml0ZScsIDxhbnk+aW52aXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXR1cm5DcmVkZW50aWFscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZXR1cm5DcmVkZW50aWFscycsIDxhbnk+cmV0dXJuQ3JlZGVudGlhbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1pZCcsIFN0cmluZyhzYkNsaWVudElkKSk7XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ3NiLWNsaWVudC1zZWNyZXQnLCBTdHJpbmcoc2JDbGllbnRTZWNyZXQpKTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHByb2ZpbGUgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkocHJvZmlsZSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnVwIHdpdGggZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IGRlcGVuZGluZyBvbiB0aGUgc3BlY2lmaWVkIHByb3ZpZGVyXG4gICAgICogVXNlciBzaWdudXAgd2l0aCB0aGUgZGVmYXVsdCBvcmdhbml6YXRpb24gYW5kIGEgZGlyZWN0b3J5IHRoYXQgYmVsb25ncyB0byB0aGUgc3BlY2lmaWMgcHJvdmlkZXIuIFRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHVzZWQgYXMgY3JlZGVudGlhbHMgdG8gbG9naW4gdGhlIHVzZXIgZGVwZW5kIG9uIHRoZSBkaXJlY3RvcnkgdHlwZTogIHwgZGlyZWN0b3J5VHlwZSB8IGFjY291bnRJZCB8IGFjY291bnRQYXNzd29yZCB8IHwtLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLXwgfCBzYmNsb3VkIHwgZW1haWwgfCBwYXNzd29yZCB8IHwgYW5vbnltb3VzY2xvdWQgfCB1c2VybmFtZSAocmFuZG9tIGlmIGVtcHR5KSB8IHBhc3N3b3JkIChyYW5kb20gaWYgZW1wdHkpIHwgfCBsZGFwIHwgdXNlcm5hbWUgfCBwYXNzd29yZCB8IFxuICAgICAqIEBwYXJhbSBzYkNsaWVudElkIFlvdXIgYXBwbGljYXRpb24gY2xpZW50IGlkXG4gICAgICogQHBhcmFtIHByb3ZpZGVySWQgdGhlIHByb3ZpZGVyIG9mIGEgZGlyZWN0b3J5IG9mIHRoZSBuZXcgdXNlclxuICAgICAqIEBwYXJhbSBzaWdudXBSZXF1ZXN0IFVzZXIgc2lnbnVwIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gc2JDbGllbnRTZWNyZXQgWW91ciBhcHBsaWNhdGlvbiBjbGllbnQgc2VjcmV0XG4gICAgICogQHBhcmFtIGludml0ZSBPcHRpb25hbCBpbnZpdGUgY29kZVxuICAgICAqIEBwYXJhbSByZXR1cm5DcmVkZW50aWFscyBpZiB0cnVlLCByZXR1cm4gdGhlIGNyZWRlbnRpYWxzIGluIHRoZSBzaWdudXAgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgc2lnbnVwUHJvdmlkZXJQcm92aWRlcklkUG9zdFdpdGhIdHRwSW5mbyhzYkNsaWVudElkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgc2lnbnVwUmVxdWVzdDogbW9kZWxzLlVzZXJTaWdudXBSZXF1ZXN0LCBzYkNsaWVudFNlY3JldD86IHN0cmluZywgaW52aXRlPzogc3RyaW5nLCByZXR1cm5DcmVkZW50aWFscz86IGJvb2xlYW4sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3NpZ251cC9wcm92aWRlci8ke3Byb3ZpZGVySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3Byb3ZpZGVySWQnICsgJ30nLCBTdHJpbmcocHJvdmlkZXJJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2JDbGllbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzYkNsaWVudElkID09PSBudWxsIHx8IHNiQ2xpZW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2JDbGllbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cFByb3ZpZGVyUHJvdmlkZXJJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHJvdmlkZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChwcm92aWRlcklkID09PSBudWxsIHx8IHByb3ZpZGVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgcHJvdmlkZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cFByb3ZpZGVyUHJvdmlkZXJJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnc2lnbnVwUmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChzaWdudXBSZXF1ZXN0ID09PSBudWxsIHx8IHNpZ251cFJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgc2lnbnVwUmVxdWVzdCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNpZ251cFByb3ZpZGVyUHJvdmlkZXJJZFBvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludml0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnZpdGUnLCA8YW55Pmludml0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmV0dXJuQ3JlZGVudGlhbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncmV0dXJuQ3JlZGVudGlhbHMnLCA8YW55PnJldHVybkNyZWRlbnRpYWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtaWQnLCBTdHJpbmcoc2JDbGllbnRJZCkpO1xuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdzYi1jbGllbnQtc2VjcmV0JywgU3RyaW5nKHNiQ2xpZW50U2VjcmV0KSk7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBzaWdudXBSZXF1ZXN0ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHNpZ251cFJlcXVlc3QpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9TaWdudXBBcGkudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcblxuaW1wb3J0ICogYXMgbW9kZWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL21vZGVsL21vZGVscyc7XG5pbXBvcnQgeyBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVGVuYW50c0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRlbmFudHMgb2YgdGhlIGxvZ2dlZCBpbiB1c2VyXG4gICAgICovXG4gICAgcHVibGljIHRlbmFudHNHZXQoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlRlbmFudENyZWRlbnRpYWxBcnJheT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5hbnRzR2V0V2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgU0VMRkJJVFMgQ0xPVUQgUExBVEZPUk0gdGVuYW50IGJ5IGEgdmFsaWQgc3ViZG9tYWluXG4gICAgICogQHBhcmFtIHRlbmFudCBZb3VyIG5ldyB0ZW5hbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1Bvc3QodGVuYW50OiBtb2RlbHMuTmV3VGVuYW50LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVGVuYW50Q3JlYXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVuYW50c1Bvc3RXaXRoSHR0cEluZm8odGVuYW50LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBEZWxldGUgZXhpc3RpbmcgU0VMRkJJVFMgQ0xPVUQgUExBVEZPUk0gYXBwbGljYXRpb25cbiAgICAgKiBAcGFyYW0gdGVuYW50SWQgVGhlIHRlbmFudCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGFwcGxpY2F0aW9uSWQgVGhlIHRlbmFudCBhcHBsaWNhdGlvbiBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIHRlbmFudHNUZW5hbnRJZEFwcGxpY2F0aW9uc0FwcGxpY2F0aW9uSWREZWxldGUodGVuYW50SWQ6IHN0cmluZywgYXBwbGljYXRpb25JZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5hbnRzVGVuYW50SWRBcHBsaWNhdGlvbnNBcHBsaWNhdGlvbklkRGVsZXRlV2l0aEh0dHBJbmZvKHRlbmFudElkLCBhcHBsaWNhdGlvbklkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRlbmFudCBhcHBsaWNhdGlvbnNcbiAgICAgKiBAcGFyYW0gdGVuYW50SWQgWW91ciBTZWxmYml0cyBUZW5hbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1RlbmFudElkQXBwbGljYXRpb25zR2V0KHRlbmFudElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5BcHBsaWNhdGlvbkFycmF5PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbmFudHNUZW5hbnRJZEFwcGxpY2F0aW9uc0dldFdpdGhIdHRwSW5mbyh0ZW5hbnRJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQ3JlYXRlIG5ldyBhcHBsaWNhdGlvblxuICAgICAqIEBwYXJhbSB0ZW5hbnRJZCBZb3VyIFNlbGZiaXRzIFRlbmFudCBJRFxuICAgICAqIEBwYXJhbSBhcHBsaWNhdGlvbiBZb3VyIG5ldyBhcHBsaWNhdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyB0ZW5hbnRzVGVuYW50SWRBcHBsaWNhdGlvbnNQb3N0KHRlbmFudElkOiBzdHJpbmcsIGFwcGxpY2F0aW9uOiBtb2RlbHMuTmV3QXBwbGljYXRpb24sIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5BcHBsaWNhdGlvbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5hbnRzVGVuYW50SWRBcHBsaWNhdGlvbnNQb3N0V2l0aEh0dHBJbmZvKHRlbmFudElkLCBhcHBsaWNhdGlvbiwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogRGVsZXRlIGV4aXN0aW5nIFNFTEZCSVRTIENMT1VEIFBMQVRGT1JNIHRlbmFudFxuICAgICAqIEBwYXJhbSB0ZW5hbnRJZCBUaGUgdGVuYW50IGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1RlbmFudElkRGVsZXRlKHRlbmFudElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPHt9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbmFudHNUZW5hbnRJZERlbGV0ZVdpdGhIdHRwSW5mbyh0ZW5hbnRJZCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRlbmFudHMgb2YgdGhlIGxvZ2dlZCBpbiB1c2VyXG4gICAgICovXG4gICAgcHVibGljIHRlbmFudHNHZXRXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdGVuYW50cyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgU0VMRkJJVFMgQ0xPVUQgUExBVEZPUk0gdGVuYW50IGJ5IGEgdmFsaWQgc3ViZG9tYWluXG4gICAgICogQHBhcmFtIHRlbmFudCBZb3VyIG5ldyB0ZW5hbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1Bvc3RXaXRoSHR0cEluZm8odGVuYW50OiBtb2RlbHMuTmV3VGVuYW50LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy90ZW5hbnRzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3RlbmFudCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh0ZW5hbnQgPT09IG51bGwgfHwgdGVuYW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHRlbmFudCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHRlbmFudHNQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdGVuYW50ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHRlbmFudCksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogRGVsZXRlIGV4aXN0aW5nIFNFTEZCSVRTIENMT1VEIFBMQVRGT1JNIGFwcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIHRlbmFudElkIFRoZSB0ZW5hbnQgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBhcHBsaWNhdGlvbklkIFRoZSB0ZW5hbnQgYXBwbGljYXRpb24gaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyB0ZW5hbnRzVGVuYW50SWRBcHBsaWNhdGlvbnNBcHBsaWNhdGlvbklkRGVsZXRlV2l0aEh0dHBJbmZvKHRlbmFudElkOiBzdHJpbmcsIGFwcGxpY2F0aW9uSWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdGVuYW50cy8ke3RlbmFudElkfS9hcHBsaWNhdGlvbnMvJHthcHBsaWNhdGlvbklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICd0ZW5hbnRJZCcgKyAnfScsIFN0cmluZyh0ZW5hbnRJZCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnYXBwbGljYXRpb25JZCcgKyAnfScsIFN0cmluZyhhcHBsaWNhdGlvbklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd0ZW5hbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh0ZW5hbnRJZCA9PT0gbnVsbCB8fCB0ZW5hbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB0ZW5hbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHRlbmFudHNUZW5hbnRJZEFwcGxpY2F0aW9uc0FwcGxpY2F0aW9uSWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXBwbGljYXRpb25JZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChhcHBsaWNhdGlvbklkID09PSBudWxsIHx8IGFwcGxpY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYXBwbGljYXRpb25JZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHRlbmFudHNUZW5hbnRJZEFwcGxpY2F0aW9uc0FwcGxpY2F0aW9uSWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRlbmFudCBhcHBsaWNhdGlvbnNcbiAgICAgKiBAcGFyYW0gdGVuYW50SWQgWW91ciBTZWxmYml0cyBUZW5hbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1RlbmFudElkQXBwbGljYXRpb25zR2V0V2l0aEh0dHBJbmZvKHRlbmFudElkOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3RlbmFudHMvJHt0ZW5hbnRJZH0vYXBwbGljYXRpb25zJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3RlbmFudElkJyArICd9JywgU3RyaW5nKHRlbmFudElkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd0ZW5hbnRJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh0ZW5hbnRJZCA9PT0gbnVsbCB8fCB0ZW5hbnRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB0ZW5hbnRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHRlbmFudHNUZW5hbnRJZEFwcGxpY2F0aW9uc0dldC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBuZXcgYXBwbGljYXRpb25cbiAgICAgKiBAcGFyYW0gdGVuYW50SWQgWW91ciBTZWxmYml0cyBUZW5hbnQgSURcbiAgICAgKiBAcGFyYW0gYXBwbGljYXRpb24gWW91ciBuZXcgYXBwbGljYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgdGVuYW50c1RlbmFudElkQXBwbGljYXRpb25zUG9zdFdpdGhIdHRwSW5mbyh0ZW5hbnRJZDogc3RyaW5nLCBhcHBsaWNhdGlvbjogbW9kZWxzLk5ld0FwcGxpY2F0aW9uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy90ZW5hbnRzLyR7dGVuYW50SWR9L2FwcGxpY2F0aW9ucydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICd0ZW5hbnRJZCcgKyAnfScsIFN0cmluZyh0ZW5hbnRJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndGVuYW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodGVuYW50SWQgPT09IG51bGwgfHwgdGVuYW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdGVuYW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB0ZW5hbnRzVGVuYW50SWRBcHBsaWNhdGlvbnNQb3N0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FwcGxpY2F0aW9uJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGFwcGxpY2F0aW9uID09PSBudWxsIHx8IGFwcGxpY2F0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGFwcGxpY2F0aW9uIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdGVuYW50c1RlbmFudElkQXBwbGljYXRpb25zUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGFwcGxpY2F0aW9uID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGFwcGxpY2F0aW9uKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBEZWxldGUgZXhpc3RpbmcgU0VMRkJJVFMgQ0xPVUQgUExBVEZPUk0gdGVuYW50XG4gICAgICogQHBhcmFtIHRlbmFudElkIFRoZSB0ZW5hbnQgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyB0ZW5hbnRzVGVuYW50SWREZWxldGVXaXRoSHR0cEluZm8odGVuYW50SWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdGVuYW50cy8ke3RlbmFudElkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICd0ZW5hbnRJZCcgKyAnfScsIFN0cmluZyh0ZW5hbnRJZCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndGVuYW50SWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodGVuYW50SWQgPT09IG51bGwgfHwgdGVuYW50SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdGVuYW50SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB0ZW5hbnRzVGVuYW50SWREZWxldGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvVGVuYW50c0FwaS50cyIsIi8qKlxuICogU2VsZmJpdHMgQVBJIFYyXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IFN3YWdnZXIgQ29kZWdlbiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuKVxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAyLjAuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5pbXBvcnQgKiBhcyBtb2RlbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vbW9kZWwvbW9kZWxzJztcbmltcG9ydCB7IENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBVc2Vyc0FwaSB7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J0F1dGhvcml6YXRpb24nOiB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbXVsdGlwbGUgbmV3IHVzZXJzXG4gICAgICogQHBhcmFtIHVzZXJzIE11bHRpcGxlIHVzZXJzXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzQnVsa1Bvc3QodXNlcnM6IG1vZGVscy5OZXdVc2VyQXJyYXksIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5Vc2VyQXJyYXk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnNCdWxrUG9zdFdpdGhIdHRwSW5mbyh1c2VycywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlcnNEZWxldGUoZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPG1vZGVscy5CdWxrRGVsZXRlUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHVzZXJzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O2pvaG4gZG9lXFwmcXVvdDssIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7IDogMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlcnNHZXQocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlclBhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlciwgc29ydCwgc2VsZWN0LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gdXNlciBZb3VyIG5ldyB1c2VyXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzUG9zdCh1c2VyOiBtb2RlbHMuTmV3VXNlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLlVzZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnNQb3N0V2l0aEh0dHBJbmZvKHVzZXIsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEJ1bGsgdXBkYXRlIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIGZpbHRlciBTZXF1ZWxpemUgZmlsdGVyIG9iamVjdCBsaWtlIHtcXCZxdW90O25hbWVcXCZxdW90OzogXFwmcXVvdDt4eXpcXCZxdW90O31cbiAgICAgKiBAcGFyYW0gdXNlckJ1bGtVcGRhdGUgVXNlIGZpbHRlciB0byBmaW5kIHRoZSB1c2VycyBhbmQgZG8gYSBidWxrIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyB1c2Vyc1B1dChmaWx0ZXI6IHN0cmluZywgdXNlckJ1bGtVcGRhdGU6IG1vZGVscy5Vc2VyQnVsa1VwZGF0ZSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8bW9kZWxzLkJ1bGtVcGRhdGVSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy51c2Vyc1B1dFdpdGhIdHRwSW5mbyhmaWx0ZXIsIHVzZXJCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgdXNlclxuICAgICAqIEBwYXJhbSB1c2VySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyB1c2Vyc1VzZXJJZERlbGV0ZSh1c2VySWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8e30+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnNVc2VySWREZWxldGVXaXRoSHR0cEluZm8odXNlcklkLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBHZXQgb25lIGV4aXN0aW5nIHVzZXJzXG4gICAgICogQHBhcmFtIHVzZXJJZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzVXNlcklkR2V0KHVzZXJJZDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy51c2Vyc1VzZXJJZEdldFdpdGhIdHRwSW5mbyh1c2VySWQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIHVwZGF0ZSBleGlzdGluZyB1c2VyXG4gICAgICogQHBhcmFtIHVzZXJJZCBUaGUgdXNlciBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHVwZGF0ZWRVc2VyIHVwZGF0ZWQgdXNlclxuICAgICAqL1xuICAgIHB1YmxpYyB1c2Vyc1VzZXJJZFB1dCh1c2VySWQ6IHN0cmluZywgdXBkYXRlZFVzZXI6IG1vZGVscy5Vc2VyVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxtb2RlbHMuVXNlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy51c2Vyc1VzZXJJZFB1dFdpdGhIdHRwSW5mbyh1c2VySWQsIHVwZGF0ZWRVc2VyLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIENyZWF0ZSBtdWx0aXBsZSBuZXcgdXNlcnNcbiAgICAgKiBAcGFyYW0gdXNlcnMgTXVsdGlwbGUgdXNlcnNcbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlcnNCdWxrUG9zdFdpdGhIdHRwSW5mbyh1c2VyczogbW9kZWxzLk5ld1VzZXJBcnJheSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdXNlcnMvYnVsayc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1c2VycycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1c2VycyA9PT0gbnVsbCB8fCB1c2VycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1c2VycyB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzQnVsa1Bvc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiB1c2VycyA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1c2VycyksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayBkZWxldGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGxpa2VcXCZxdW90OyA6IFxcJnF1b3Q7YXBwJVxcJnF1b3Q7fSwgXFwmcXVvdDtjdXN0b21EYXRhXFwmcXVvdDs6IHsgXFwmcXVvdDskY29udGFpbnNcXCZxdW90Ozoge1xcJnF1b3Q7a2V5MlxcJnF1b3Q7IDogXFwmcXVvdDt2YWwyXFwmcXVvdDt9fX1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlcnNEZWxldGVXaXRoSHR0cEluZm8oZmlsdGVyOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3VzZXJzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbHRlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGZpbHRlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHVzZXJzXG4gICAgICogQHBhcmFtIHBhZ2VTaXplIEl0ZW1zIHBlciBwYWdlXG4gICAgICogQHBhcmFtIHBhZ2VOdW1iZXIgVGhlIHBhZ2UgaW5kZXggKHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O2pvaG4gZG9lXFwmcXVvdDssIFxcJnF1b3Q7Y3VzdG9tRGF0YVxcJnF1b3Q7OiB7IFxcJnF1b3Q7JGNvbnRhaW5zXFwmcXVvdDs6IHtcXCZxdW90O2tleTJcXCZxdW90OyA6IFxcJnF1b3Q7dmFsMlxcJnF1b3Q7fX19XG4gICAgICogQHBhcmFtIHNvcnQgU29ydCBvYmplY3QgKDEmI3gzRDthc2NlbmRpbmcsIC0xJiN4M0Q7ZGVzY2VuZGluZykgbGlrZSB7XFwmcXVvdDtjcmVhdGVkQXRcXCZxdW90OzogLTEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7IDogMSB9XG4gICAgICogQHBhcmFtIHNlbGVjdCBTZWxlY3Qgb2JqZWN0ICgxJiN4M0Q7aW5jbHVkZSwgLTEmI3gzRDtleGNsdWRlKSBsaWtlIHtcXCZxdW90O0lkXFwmcXVvdDs6IDEsIFxcJnF1b3Q7bmFtZVxcJnF1b3Q7OiAxIH1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlcnNHZXRXaXRoSHR0cEluZm8ocGFnZVNpemU/OiBudW1iZXIsIHBhZ2VOdW1iZXI/OiBudW1iZXIsIGZpbHRlcj86IHN0cmluZywgc29ydD86IHN0cmluZywgc2VsZWN0Pzogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy91c2Vycyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICBpZiAocGFnZVNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZVNpemUnLCA8YW55PnBhZ2VTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VOdW1iZXInLCA8YW55PnBhZ2VOdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmaWx0ZXInLCA8YW55PmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzb3J0JywgPGFueT5zb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0JywgPGFueT5zZWxlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBDcmVhdGUgbmV3IHVzZXJcbiAgICAgKiBAcGFyYW0gdXNlciBZb3VyIG5ldyB1c2VyXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzUG9zdFdpdGhIdHRwSW5mbyh1c2VyOiBtb2RlbHMuTmV3VXNlciwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdXNlcnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAndXNlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgdXNlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzUG9zdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChDb25zdW1lclNlY3VyaXR5KSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVzZXIgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkodXNlciksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQnVsayB1cGRhdGUgZXhpc3RpbmcgdXNlcnNcbiAgICAgKiBAcGFyYW0gZmlsdGVyIFNlcXVlbGl6ZSBmaWx0ZXIgb2JqZWN0IGxpa2Uge1xcJnF1b3Q7bmFtZVxcJnF1b3Q7OiBcXCZxdW90O3h5elxcJnF1b3Q7fVxuICAgICAqIEBwYXJhbSB1c2VyQnVsa1VwZGF0ZSBVc2UgZmlsdGVyIHRvIGZpbmQgdGhlIHVzZXJzIGFuZCBkbyBhIGJ1bGsgdXBkYXRlXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzUHV0V2l0aEh0dHBJbmZvKGZpbHRlcjogc3RyaW5nLCB1c2VyQnVsa1VwZGF0ZTogbW9kZWxzLlVzZXJCdWxrVXBkYXRlLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICsgJy91c2Vycyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWx0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBmaWx0ZXIgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1c2Vyc1B1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1c2VyQnVsa1VwZGF0ZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1c2VyQnVsa1VwZGF0ZSA9PT0gbnVsbCB8fCB1c2VyQnVsa1VwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1c2VyQnVsa1VwZGF0ZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzLnNldCgnZmlsdGVyJywgPGFueT5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoQ29uc3VtZXJTZWN1cml0eSkgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHVzZXJCdWxrVXBkYXRlID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KHVzZXJCdWxrVXBkYXRlKSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBkZWxldGUgZXhpc3RpbmcgdXNlclxuICAgICAqIEBwYXJhbSB1c2VySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyB1c2Vyc1VzZXJJZERlbGV0ZVdpdGhIdHRwSW5mbyh1c2VySWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdXNlcnMvJHt1c2VySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3VzZXJJZCcgKyAnfScsIFN0cmluZyh1c2VySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3VzZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1c2VySWQgPT09IG51bGwgfHwgdXNlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHVzZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzVXNlcklkRGVsZXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogR2V0IG9uZSBleGlzdGluZyB1c2Vyc1xuICAgICAqIEBwYXJhbSB1c2VySWQgVGhlIHVzZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIHB1YmxpYyB1c2Vyc1VzZXJJZEdldFdpdGhIdHRwSW5mbyh1c2VySWQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArICcvdXNlcnMvJHt1c2VySWR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ3VzZXJJZCcgKyAnfScsIFN0cmluZyh1c2VySWQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3VzZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1c2VySWQgPT09IG51bGwgfHwgdXNlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHVzZXJJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzVXNlcklkR2V0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogdXBkYXRlIGV4aXN0aW5nIHVzZXJcbiAgICAgKiBAcGFyYW0gdXNlcklkIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gdXBkYXRlZFVzZXIgdXBkYXRlZCB1c2VyXG4gICAgICovXG4gICAgcHVibGljIHVzZXJzVXNlcklkUHV0V2l0aEh0dHBJbmZvKHVzZXJJZDogc3RyaW5nLCB1cGRhdGVkVXNlcjogbW9kZWxzLlVzZXJVcGRhdGUsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyAnL3VzZXJzLyR7dXNlcklkfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICd1c2VySWQnICsgJ30nLCBTdHJpbmcodXNlcklkKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1c2VySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodXNlcklkID09PSBudWxsIHx8IHVzZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1c2VySWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1c2Vyc1VzZXJJZFB1dC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICd1cGRhdGVkVXNlcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh1cGRhdGVkVXNlciA9PT0gbnVsbCB8fCB1cGRhdGVkVXNlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciB1cGRhdGVkVXNlciB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVzZXJzVXNlcklkUHV0LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKENvbnN1bWVyU2VjdXJpdHkpIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiB1cGRhdGVkVXNlciA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkVXNlciksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL1VzZXJzQXBpLnRzIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMsIE9wdGlvbmFsLCBTa2lwU2VsZiAgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IFNFUlZJQ0VTIH0gZnJvbSAnLi9zZXJ2aWNlcy9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBBUElTIH0gZnJvbSAnLi9hcGkvYXBpJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBIdHRwTW9kdWxlXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtdLFxuICAgIGV4cG9ydHM6IFtdLFxuICAgIHByb3ZpZGVyczogWy4uLkFQSVMsIC4uLlNFUlZJQ0VTXVxufSlcbmV4cG9ydCBjbGFzcyBTZWxmYml0cyB7XG4gICAgcHVibGljIHN0YXRpYyBmb3JSb290KGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBTZWxmYml0cyxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQ29uZmlndXJhdGlvbiwgdXNlVmFsdWU6IGNvbmZpZ3VyYXRpb24gfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS5tb2R1bGUudHMiLCJleHBvcnQgKiBmcm9tICcuL0FjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL0FjdGlvbkFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vQWN0aW9uQnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL0FjdGlvbkV4ZWN1dGlvblJlcXVlc3RQYXlsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vQWN0aW9uRXhlY3V0aW9uUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9BY3Rpb25QYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vQWN0aW9uVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vQXBwbGljYXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9BcHBsaWNhdGlvbkFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vQXBwbGljYXRpb25CdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vQXBwbGljYXRpb25QYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vQXBwbGljYXRpb25VcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9BdXRob3JpemF0aW9uUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9CdWxrRGVsZXRlUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9CdWxrVXBkYXRlUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9DbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9DbGllbnRBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL0NsaWVudEJ1bGtVcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9DbGllbnRQYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vQ2xpZW50VXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXInO1xuZXhwb3J0ICogZnJvbSAnLi9Db25zdW1lckFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJCdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJQYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJSb2xlJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJSb2xlQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9Db25zdW1lclJvbGVCdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vQ29uc3VtZXJSb2xlUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL0NvbnN1bWVyUm9sZVVwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL0NvbnN1bWVyVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vRGlyZWN0b3J5JztcbmV4cG9ydCAqIGZyb20gJy4vRGlyZWN0b3J5QXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9EaXJlY3RvcnlCdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vRGlyZWN0b3J5UGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL0RpcmVjdG9yeVVwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL0VuZHBvaW50JztcbmV4cG9ydCAqIGZyb20gJy4vRW5kcG9pbnRBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL0VuZHBvaW50QnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL0VuZHBvaW50UGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL0VuZHBvaW50VXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsZSc7XG5leHBvcnQgKiBmcm9tICcuL0ZpbGVCcm93c2VyRG9jJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsZUJyb3dzZXJEb2NzJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsZVBhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9GaWxlVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsZVZlcmlmaWNhdGlvblJlcXVlc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9JbnZpdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9JbnZpdGVBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL0ludml0ZUJ1bGtVcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9JbnZpdGVQYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vSW52aXRlVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vTG9naW5DcmVkZW50aWFscyc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvRGF0YSc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvRGF0YUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29EYXRhQnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvRGF0YVBhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb25nb0RhdGFVcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb25nb0RhdGFiYXNlJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29EYXRhYmFzZUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29EYXRhYmFzZUJ1bGtVcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb25nb0RhdGFiYXNlUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvRGF0YWJhc2VUZXN0UmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb25nb0RhdGFiYXNlVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29Nb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvTW9kZWxBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL01vbmdvTW9kZWxCdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29Nb2RlbFBhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb25nb01vZGVsVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vTW9uZ29Nb2RlbFZhbGlkYXRpb25SZXNwb25zZSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0FjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL05ld0FjdGlvbkFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3QXBwbGljYXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdBcHBsaWNhdGlvbkFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3Q2xpZW50JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3Q2xpZW50QXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdDb25zdW1lcic7XG5leHBvcnQgKiBmcm9tICcuL05ld0NvbnN1bWVyQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdDb25zdW1lclJvbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdDb25zdW1lclJvbGVBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0RpcmVjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0RpcmVjdG9yeUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3RW5kcG9pbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdFbmRwb2ludEFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3RmlsZSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0ZpbGVSZXNwb25zZSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0ludml0ZSc7XG5leHBvcnQgKiBmcm9tICcuL05ld0ludml0ZUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3TW9uZ29EYXRhJztcbmV4cG9ydCAqIGZyb20gJy4vTmV3TW9uZ29EYXRhQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdNb25nb0RhdGFiYXNlJztcbmV4cG9ydCAqIGZyb20gJy4vTmV3TW9uZ29EYXRhYmFzZUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3TW9uZ29Nb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL05ld01vbmdvTW9kZWxBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL05ld09yZ2FuaXphdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL05ld09yZ2FuaXphdGlvbkFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vTmV3UGVybWlzc2lvbic7XG5leHBvcnQgKiBmcm9tICcuL05ld1Blcm1pc3Npb25BcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL05ld1Byb3ZpZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vTmV3UHJvdmlkZXJBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL05ld1JvbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdSb2xlQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdSb2xlUGVybWlzc2lvbic7XG5leHBvcnQgKiBmcm9tICcuL05ld1JvbGVQZXJtaXNzaW9uQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdUZW5hbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9OZXdVc2VyJztcbmV4cG9ydCAqIGZyb20gJy4vTmV3VXNlckFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vT3JnYW5pemF0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vT3JnYW5pemF0aW9uQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9Pcmdhbml6YXRpb25CdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vT3JnYW5pemF0aW9uUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL09yZ2FuaXphdGlvblVwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1Blcm1pc3Npb24nO1xuZXhwb3J0ICogZnJvbSAnLi9QZXJtaXNzaW9uQXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9QZXJtaXNzaW9uQnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1Blcm1pc3Npb25QYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vUGVybWlzc2lvblVwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb3ZpZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vUHJvdmlkZXJBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb3ZpZGVyQnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb3ZpZGVyUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb3ZpZGVyVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vUmVzZXRQYXNzd29yZFJlcXVlc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9SZXNldFBhc3N3b3JkUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Sb2xlJztcbmV4cG9ydCAqIGZyb20gJy4vUm9sZUFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vUm9sZUJ1bGtVcGRhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Sb2xlUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL1JvbGVQZXJtaXNzaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vUm9sZVBlcm1pc3Npb25BcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL1JvbGVQZXJtaXNzaW9uQnVsa1VwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1JvbGVQZXJtaXNzaW9uUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL1JvbGVQZXJtaXNzaW9uVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vUm9sZVVwZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL1NlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0JztcbmV4cG9ydCAqIGZyb20gJy4vU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlc3BvbnNlJztcbmV4cG9ydCAqIGZyb20gJy4vU2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCc7XG5leHBvcnQgKiBmcm9tICcuL1NlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlJztcbmV4cG9ydCAqIGZyb20gJy4vVGVuYW50JztcbmV4cG9ydCAqIGZyb20gJy4vVGVuYW50Q3JlYXRlUmVzcG9uc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9UZW5hbnRDcmVkZW50aWFsJztcbmV4cG9ydCAqIGZyb20gJy4vVGVuYW50Q3JlZGVudGlhbEFycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vVXNlcic7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJBcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJCdWxrVXBkYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlckxvZ2luUmVxdWVzdCc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJMb2dpblJlc3BvbnNlJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlclBhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Vc2VyU2lnbnVwUmVxdWVzdCc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJTaWdudXBSZXNwb25zZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJVcGRhdGUnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL21vZGVsL21vZGVscy50cyIsImV4cG9ydCBjb25zdCBDT0xMRUNUSU9OX0ZPUk1BVFMgPSB7XG4gICAgJ2Nzdic6ICcsJyxcbiAgICAndHN2JzogJyAgICcsXG4gICAgJ3Nzdic6ICcgJyxcbiAgICAncGlwZXMnOiAnfCdcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy92YXJpYWJsZXMudHMiLCJleHBvcnQgKiBmcm9tICcuL3NyYy9hcGkvYXBpJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL21vZGVsL21vZGVscyc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy92YXJpYWJsZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29uZmlndXJhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9hcGkubW9kdWxlJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NlcnZpY2VzL3NlcnZpY2VzJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL2luZGV4LnRzIiwiLyoqXG4gKiBTZWxmYml0cyBBUEkgVjJcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgU3dhZ2dlciBDb2RlZ2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4pXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDIuMC4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCAqIGFzIG1vZGVscyBmcm9tICcuL21vZGVscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5kcG9pbnQge1xuICAgIGlkPzogc3RyaW5nO1xuXG4gICAgcmVzb3VyY2U/OiBzdHJpbmc7XG5cbiAgICByZXNvdXJjZVBhdGg/OiBzdHJpbmc7XG5cbiAgICBtZXRob2Q/OiBFbmRwb2ludC5NZXRob2RFbnVtO1xuXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICBhY3Rpb25JZD86IHN0cmluZztcblxuICAgIGN1c3RvbURhdGE/OiBhbnk7XG5cbn1cbmV4cG9ydCBuYW1lc3BhY2UgRW5kcG9pbnQge1xuICAgIGV4cG9ydCBlbnVtIE1ldGhvZEVudW0ge1xuICAgICAgICBHRVQgPSA8YW55PiAnR0VUJyxcbiAgICAgICAgUE9TVCA9IDxhbnk+ICdQT1NUJyxcbiAgICAgICAgUFVUID0gPGFueT4gJ1BVVCcsXG4gICAgICAgIERFTEVURSA9IDxhbnk+ICdERUxFVEUnXG4gICAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvbW9kZWwvRW5kcG9pbnQudHMiLCIvKipcbiAqIFNlbGZiaXRzIEFQSSBWMlxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBTd2FnZ2VyIENvZGVnZW4gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbilcbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMi4wLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0ICogYXMgbW9kZWxzIGZyb20gJy4vbW9kZWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBOZXdFbmRwb2ludCB7XG4gICAgaWQ/OiBzdHJpbmc7XG5cbiAgICByZXNvdXJjZTogc3RyaW5nO1xuXG4gICAgcmVzb3VyY2VQYXRoOiBzdHJpbmc7XG5cbiAgICBtZXRob2Q6IE5ld0VuZHBvaW50Lk1ldGhvZEVudW07XG5cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgIGFjdGlvbklkPzogc3RyaW5nO1xuXG4gICAgY3VzdG9tRGF0YT86IGFueTtcblxufVxuZXhwb3J0IG5hbWVzcGFjZSBOZXdFbmRwb2ludCB7XG4gICAgZXhwb3J0IGVudW0gTWV0aG9kRW51bSB7XG4gICAgICAgIEdFVCA9IDxhbnk+ICdHRVQnLFxuICAgICAgICBQT1NUID0gPGFueT4gJ1BPU1QnLFxuICAgICAgICBQVVQgPSA8YW55PiAnUFVUJyxcbiAgICAgICAgREVMRVRFID0gPGFueT4gJ0RFTEVURSdcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9tb2RlbC9OZXdFbmRwb2ludC50cyIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IEF1dGhvcml6YXRpb25SZXNwb25zZSB9IGZyb20gJy4uL21vZGVsL0F1dGhvcml6YXRpb25SZXNwb25zZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb25maWdTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhvcml6YXRpb24nKSkge1xuICAgICAgbGV0IGF1dGggPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpO1xuICAgICAgY29uZmlndXJhdGlvbi5hcGlLZXkgPSAnYmVhcmVyICcgKyAoYXV0aCA/IGF1dGhbJ3Rva2VuJ10gOiAnJylcbiAgICB9XG5cbiAgfVxuXG4gIHNldEF1dGhvcml6YXRpb24oYXV0aG9yaXphdGlvbk9iamVjdDogQXV0aG9yaXphdGlvblJlc3BvbnNlKTogdm9pZCB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGhvcml6YXRpb24nLCBKU09OLnN0cmluZ2lmeShhdXRob3JpemF0aW9uT2JqZWN0KSk7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleSA9ICdiZWFyZXIgJyArIGF1dGhvcml6YXRpb25PYmplY3QudG9rZW47XG4gIH1cblxuICBnZXRBdXRob3JpemF0aW9uKCk6IEF1dGhvcml6YXRpb25SZXNwb25zZSB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgc2V0QmFzZVBhdGgoYmFzZVBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICB9XG5cbiAgc2V0RGVmYXVsdEJhc2VQYXRoKCk6IHZvaWQge1xuICAgIHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCA9ICdodHRwczovL3NlbGZiaXRzLmFwcHMuc2VsZmJpdHMuaW8vYXBpL3YyL3NlbGZiaXRzL2FwcHMvc2NwJztcbiAgfVxuXG4gIGdldEJlYXJlclRva2VuKCk6IHN0cmluZyB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpIHtcbiAgICAgIGxldCBhdXRob3JpemF0aW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aG9yaXphdGlvbicpKTtcbiAgICAgIHJldHVybiAnYmVhcmVyICcgKyBhdXRob3JpemF0aW9uLnRva2VuO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlcklkKCk6IHN0cmluZyB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpLnVzZXJJZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGdldE9yZ2FuaXphdGlvbklkKCk6IHN0cmluZyB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykpLm9yZ2FuaXphdGlvbklkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgIGdldEV4cGlyZXMoKTogc3RyaW5nIHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhvcml6YXRpb24nKSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhvcml6YXRpb24nKSkuZXhwaXJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvc2VydmljZXMvQ29uZmlnU2VydmljZS50cyIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIFJlc3BvbnNlLCBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE5ld0ZpbGUgfSBmcm9tICcuLi9tb2RlbC9OZXdGaWxlJztcbmltcG9ydCB7IEZpbGVzQXBpIH0gZnJvbSAnLi4vYXBpL0ZpbGVzQXBpJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL2NhdGNoJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWFwJztcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvbWVyZ2VNYXAnXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGaWxlU2VydmljZSB7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBmaWxlc0FwaTogRmlsZXNBcGksIHByaXZhdGUgaHR0cDogSHR0cCkgeyB9XG5cblx0dXBsb2FkUHJpdmF0ZShmaWxlTWV0YWRhdGE6IE5ld0ZpbGUsIGZpbGU6IEZpbGUpOiBPYnNlcnZhYmxlPGFueT4ge1xuXHRcdHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblx0XHRoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgZmlsZS50eXBlID8gZmlsZS50eXBlIDogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpO1xuXG5cblx0XHRsZXQgZmlsZW1ldGFJZDtcblx0XHRyZXR1cm4gdGhpcy5maWxlc0FwaS5jcmVhdGVQcml2YXRlKHsgZmlsZVBhdGg6IGZpbGVNZXRhZGF0YS5maWxlUGF0aCwgY3VzdG9tRGF0YTogZmlsZU1ldGFkYXRhLmN1c3RvbURhdGEgfSlcblx0XHRcdC5tZXJnZU1hcChyZXMgPT4ge1xuXHRcdFx0XHRmaWxlbWV0YUlkID0gcmVzLmZpbGVJZDtcblx0XHRcdFx0cmV0dXJuIHRoaXMuaHR0cC5wdXQocmVzLnB1dEZpbGVVcmwsIGZpbGUsIHtcblx0XHRcdFx0XHRoZWFkZXJzOiBoZWFkZXJzXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdFx0Lm1lcmdlTWFwKHJlcyA9PiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmZpbGVzQXBpLnZlcmlmeVVwbG9hZChmaWxlbWV0YUlkLCB7IGV0YWc6IHJlcy5oZWFkZXJzLmdldCgnZXRhZycpIH0pXG5cdFx0XHR9KTtcblx0fVxuXG5cdHVwbG9hZFB1YmxpYyhmaWxlTWV0YWRhdGE6IE5ld0ZpbGUsIGZpbGU6IEZpbGUpOiBPYnNlcnZhYmxlPGFueT4ge1xuXHRcdHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcblx0XHRoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgZmlsZS50eXBlID8gZmlsZS50eXBlIDogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpO1xuXG5cblx0XHRsZXQgZmlsZW1ldGFJZDtcblx0XHRyZXR1cm4gdGhpcy5maWxlc0FwaS5jcmVhdGVQdWJsaWMoeyBmaWxlUGF0aDogZmlsZU1ldGFkYXRhLmZpbGVQYXRoLCBjdXN0b21EYXRhOiBmaWxlTWV0YWRhdGEuY3VzdG9tRGF0YSB9KVxuXHRcdFx0Lm1lcmdlTWFwKHJlcyA9PiB7XG5cdFx0XHRcdGZpbGVtZXRhSWQgPSByZXMuZmlsZUlkO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5odHRwLnB1dChyZXMucHV0RmlsZVVybCwgZmlsZSwge1xuXHRcdFx0XHRcdGhlYWRlcnM6IGhlYWRlcnNcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0XHQubWVyZ2VNYXAocmVzID0+IHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZmlsZXNBcGkudmVyaWZ5VXBsb2FkKGZpbGVtZXRhSWQsIHsgZXRhZzogcmVzLmhlYWRlcnMuZ2V0KCdldGFnJykgfSlcblx0XHRcdH0pO1xuXHR9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9GaWxlU2VydmljZS50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zNV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvY29tbW9uXCJcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zNl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicnhqcy9hZGQvb3BlcmF0b3IvY2F0Y2hcIlxuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzM3X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyeGpzL2FkZC9vcGVyYXRvci9tZXJnZU1hcFwiXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9